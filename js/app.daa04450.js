(function(t){function e(e){for(var a,r,s=e[0],u=e[1],c=e[2],d=0,g=[];d<s.length;d++)r=s[d],Object.prototype.hasOwnProperty.call(i,r)&&i[r]&&g.push(i[r][0]),i[r]=0;for(a in u)Object.prototype.hasOwnProperty.call(u,a)&&(t[a]=u[a]);l&&l(e);while(g.length)g.shift()();return o.push.apply(o,c||[]),n()}function n(){for(var t,e=0;e<o.length;e++){for(var n=o[e],a=!0,s=1;s<n.length;s++){var u=n[s];0!==i[u]&&(a=!1)}a&&(o.splice(e--,1),t=r(r.s=n[0]))}return t}var a={},i={app:0},o=[];function r(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=t,r.c=a,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)r.d(n,a,function(e){return t[e]}.bind(null,a));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],u=s.push.bind(s);s.push=e,s=s.slice();for(var c=0;c<s.length;c++)e(s[c]);var l=u;o.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"069e":function(t,e,n){"use strict";n("09ec")},"06b7":function(t){t.exports=JSON.parse('{"questions":{"category":"categoria","label":"etichetta","brand":"marca","brands":"Marche","ingredients":"Ingredienti","product_weight":"peso del prodotto","popularity_sort":"Ordina per popolaritÃ ","no":"No","skip":"Salta","yes":"SÃ¬","no_questions_remaining":"Nessuna domanda rimanente","countries":"Paesi","view":"Mostra","edit":"Modifica","value_search":"Valore (fanta, en:organic,...)","hide_images":"Nascondi immagini (caricamento piÃ¹ veloce)","display_images":"Mostra immagini","annotations":"Annotazioni","last_annotations":"Ultime annotazioni","remaining_annotations":"Rimanente:","annotated_annotations":"Annotato"},"menu":{"games":"Giochi","questions":"Domande","logos":"Loghi","manage":"Gestisci","insights":"Approfondimenti","nutritions":"Valori nutrizionali","settings":"Impostazioni"},"insights":{"insights":"Approfondimenti","barcode":"Codice a Barre","barcode_placeholder":"codice a barre","value_tag":"Etichetta valore","value_placeholder":"ex: en:muesli, bjorg,...","type":"Tipo","annotated":"Annotato","annotation":"Annotazione","not_annotated":"Non annotato","all":"Tutti","label":"Etichetta","product_weight":"Peso del prodotto","category":"Categoria","expiration_date":"Fine effetto","packager_code":"Codice Packager","skipped":"Saltato (-1)","rejected":"Rifiutato (0)","accepted":"Accettato (1)","search":"Cerca","count":"QuantitÃ ","id":"Id","value":"Valore","created_at":"Creato con","completed_at":"Completato a","automatic":"Automatico"},"logos":{"annotation":"Annotazione: ","annotations":"Annotazioni logo","select_all":"Seleziona tutto","unselect_all":"Deseleziona tutto","distance":"Distanza:","value":"Valore","submit":"Invia","type":"Tipo","label":"Etichetta","brand":"Marche","packager_code":"Codice Packager","packaging":"Confezionamento","qr_code":"Codice QR","category":"Categoria","nutrition_label":"Etichetta nutrizionale","store":"Negozio","detail":"Dettaglio logo","id":"ID logo:","barcode":"Codice a barre:","full_image":"Immagine intera","update":"Aggiorna","no_found":"Nessun logo trovato","search":"Cerca","number_of_results":"Numero di risultati:"},"settings":{"settings":"Impostazioni","language":"Lingua","save":"Salva"},"helper":{"welcome":{"page1":{"title":"Benvenuto","text1":"Hunger Games Ã¨ una raccolta di minigiochi che aiutano a contribuire a Open Food Facts in molti modi. Categorizza un prodotto per ottenere il Nutri-Score e l\'Eco-Score, aiuta a convalidare le etichette per l\'Eco-Score, aggiungi marche e pesi, aiuta il nostro sistema di riconoscimento dei loghi a imparare sui loghi che ha rilevato.","text2":"Queste sono alcune delle entusiasmanti cose che potrai fare. Assicurati di esser connesso al sito web di Open Food Facts per ottenere credito per i tuoi contributi. Se commetti un errore, sei pregato di prenderti il tempo di correggerlo andando sul sito web.","text3":"In caso di dubbi sul gioco, hai un aiutante in alto a destra alla pagina e puoi raggiungerci su Slack al canale #hunger-games"},"page2":{"title":"Domande","text1":"La nostra IA ha molte domande per te. Qui dovrai confermare o negare le informazioni che ha rilevato sulle immagini.","text2":"Non esitare a saltare una domanda se sei insicuro, ce ne sono molte altre"},"page3":{"title":"Loghi","text1":"The world of products is full of logos. Explain to our AI which one are the same."}},"logos":{"page1":{"title":"Seleziona","text1":"Seleziona i ritagli di uno stesso logo cliccandoli","text2":"I loghi selezionati vanno in cima alla pagina, puoi deselezionarli cliccandoli nuovamente"},"page2":{"title":"Attenzione","text1":"Se il ritaglio contiene piÃ¹ loghi, non selezionarlo.","text2":"Se il ritaglio contiene solo una parte parziale di un logo, puoi selezionarlo"},"page3":{"title":"Convalida","text1":"Indica il tipo di logo (etichetta, marca, QRcode, ...)","text2":"Se Ã¨ un\'etichetta o il logo di una marca, indica qual Ã¨","text3":"Ora puoi inviare la tua selezione","text4":"Grazie :)"}},"previous":"Prev","next":"Successiva","close":"Chiudi"},"nutrition":{"instructions":{"cropTheTable":"Ritaglia l\'immagine per semplificare la tua annotazione","verifyNutrimentDetected":"Indica se il nutriente rilevato Ã¨ corretto","selectMissingNutriments":"Aggiungi i nutrienti mancanti (puoi cliccarli anche se la parola non ha una casella)","selectValue":"Seleziona il valore nutrizionale di: "},"steps":{"1":"Ritaglia","2":"Valori speciali","3":"Selezione dei Nutrienti","4":"Selezione dei Valori"},"next":"Prossimo Passaggio","prev":"Passaggio Precedente","skip":"Salta questo prodotto","validate":"Convalida la Tabella","unselect_picture":"Nessun\'informazione nutrizionale","basis":"dati per: ","servingSize":"porzione","value":"valore","nutriments":{"nutriment_energy-kj":"Energia (kJ)","nutriment_energy-kcal":"Energia (kCal)","nutriment_fat":"Grassi","nutriment_saturated-fat":"Grassi saturi","nutriment_carbohydrates":"Carboidrati","nutriment_sugars":"Zuccheri","nutriment_proteins":"Proteine","nutriment_fiber":"Fibre","nutriment_salt":"Sale","nutriment_sodium":"Sodio"},"history":{"title":"Cronologia delle Sessioni","status":"stato","product name":"nome del prodotto","view":"visualizza pagina","edit":"modifica pagina","SKIP":"ignorata","VALIDATED":"modificata","WRONG_IMAGE":"immagine non selezionata","close":"chiudi","open":"apri cronologia"}}}')},"09ec":function(t,e,n){},"0f86":function(t){t.exports=JSON.parse('{"fr":{"nutriment_energy":["energie","energetique","valeur energetique","valeurs energetique","calories","calorie"],"nutriment_fat":["graisse","grasses","matieres grasses","matidere grasses","matieres grasses","matidere grasse","lipide","lipides"],"nutriment_saturated-fat":["acides gras satures","acides satures","satures","saturees"],"nutriment_carbohydrates":["glucides"],"nutriment_sugars":["sucres"],"nutriment_proteins":["proteines","proteine","protein"],"nutriment_salt":["sel"],"nutriment_sodium":["sodium"],"nutriment_casein":["caseine"],"nutriment_serum-proteins":["proteines seriques"],"nutriment_nucleotides":["nucleotides"],"nutriment_sucrose":["sacharose"],"nutriment_glucose":["glucose"],"nutriment_fructose":["fructose"],"nutriment_lactose":["lactose"],"nutriment_maltose":["maltose"],"nutriment_maltodextrins":["maltodextrines"],"nutriment_starch":["amidon"],"nutriment_polyols":["polyols"],"nutriment_butyric-acid":["acide butyrique","butyrique"],"nutriment_caproic-acid":["acide caproique","caproique"],"nutriment_caprylic-acid":["acide caproique","caproique"],"nutriment_capric-acid":["acide caprique","caprique"],"nutriment_lauric-acid":["acide laurique","laurique"],"nutriment_myristic-acid":["acide myristique","myristique"],"nutriment_palmitic-acid":["acide palmitique","palmitique"],"nutriment_stearic-acid":["acide stearique","stearique"],"nutriment_arachidic-acid":["acide arachidique","arachidique"],"nutriment_behenic-acid":["acide behenique","behenique"],"nutriment_lignoceric-acid":["acide lignocerique","lignocerique"],"nutriment_cerotic-acid":["acide cerotique","cerotique"],"nutriment_montanic-acid":["acide montanique","montanique"],"nutriment_melissic-acid":["acide melissique","melissique"],"nutriment_monounsaturated-fat":["acides gras monoinsatures","monoinsatures","mono-insatures"],"nutriment_polyunsaturated-fat":["acides gras polyinsatures","polyinsatures","poly-insatures"],"nutriment_omega-3-fat":["acides gras omega 3","omega 3"],"nutriment_alpha-linolenic-acid":["acide alpha linolenique","alpha linolenique","acide alpha-linolenique"],"nutriment_eicosapentaenoic-acid":["acide eicosapentaenoique","eicosapentaenoique"],"nutriment_docosahexaenoic-acid":["acide docosahexaenoique","docosahexaenoique"],"nutriment_omega-6-fat":["acides gras omega 6"],"nutriment_linoleic-acid":["acide linoleique","linoleique"],"nutriment_arachidonic-acid":["acide arachidonique","arachidonique"],"nutriment_gamma-linolenic-acid":["acide gamma linolenique","gamma linolenique","acide gamma-linolenique"],"nutriment_dihomo-gamma-linolenic-acid":["acide dihomo gamma linolenique","dihomo gamma linolenique","acide dihomo-gamma-linolenique"],"nutriment_omega-9-fat":["acides gras omega 9"],"nutriment_oleic-acid":["acide oleique","oleique"],"nutriment_elaidic-acid":["acide elaÃ¯dique","elaÃ¯dique","acide elaidique"],"nutriment_gondoic-acid":["acide gadoleique","gadoleique"],"nutriment_mead-acid":["acide de mead","de mead"],"nutriment_erucic-acid":["acide erucique","erucique"],"nutriment_nervonic-acid":["acide nervonique","nervonique"],"nutriment_trans-fat":["acides gras trans","trans","transforme","transformes"],"nutriment_cholesterol":["cholesterol"],"nutriment_fiber":["fibres","fibres alimentaires","fibre alimentaire","fibre"],"nutriment_biotin":["vitamine b7"],"nutriment_pantothenic-acid":["acide pantothenique"],"nutriment_silica":["silice"],"nutriment_bicarbonate":["bicarbonate"],"nutriment_potassium":["potassium"],"nutriment_chloride":["chlorure"],"nutriment_calcium":["calcium"],"nutriment_phosphorus":["phosphore"],"nutriment_iron":["fer"],"nutriment_magnesium":["magnesium"],"nutriment_zinc":["zinc"],"nutriment_copper":["cuivre"],"nutriment_manganese":["manganese"],"nutriment_fluoride":["fluorure"],"nutriment_selenium":["selenium"],"nutriment_chromium":["chrome"],"nutriment_molybdenum":["molybdene"],"nutriment_iodine":["iode"],"nutriment_caffeine":["cafeine"],"nutriment_taurine":["taurine"],"nutriment_vitamin-a":["vitamine a"],"nutriment_vitamin-d":["vitamine d"],"nutriment_vitamin-k":["vitamine k"],"nutriment_vitamin-c":["vitamine c"],"nutriment_vitamin-b6":["vitamine b6"],"nutriment_alcohol":["alcool"],"nutriment_ph":["ph"]},"en":{"nutriment_alcohol":["alcohol"],"nutriment_vitamin-e":["Vitamin E"],"nutriment_vitamin-b1":["Vitamin B1","B1","Thiamin"],"nutriment_vitamin-b2":["Vitamin B2","B2","Riboflavin"],"nutriment_vitamin-pp":["Vitamin B3","B3","Vitamin PP","PP","Niacin"],"nutriment_vitamin-b9":["Vitamin B9","B9","Folic acid"],"nutriment_vitamin-b12":["Vitamin B12","B12","cobalamin"],"nutriment_vitamin-a":["vitamin a"],"nutriment_vitamin-d":["vitamin d"],"nutriment_vitamin-k":["vitamin k"],"nutriment_vitamin-c":["vitamin c","ascorbic acid"],"nutriment_vitamin-b6":["vitamin b6","Pyridoxin"],"nutriment_ph":["pH","ph"],"nutriment_energy":["energy"],"nutriment_fat":["fat"],"nutriment_saturated-fat":["saturated fat","saturated","saturated fatty acids"],"nutriment_carbohydrates":["carbohydrate","carbohydra","carb"],"nutriment_sugars":["sugars","sugar"],"nutriment_proteins":["proteins","protein"],"nutriment_salt":["salt"],"nutriment_sodium":["sodium"],"nutriment_casein":["casein"],"nutriment_serum-proteins":["serum proteins"],"nutriment_nucleotides":["nucleotides"],"nutriment_sucrose":["sucrose"],"nutriment_glucose":["glucose"],"nutriment_fructose":["fructose"],"nutriment_lactose":["lactose"],"nutriment_maltose":["maltose"],"nutriment_maltodextrins":["maltodextrins"],"nutriment_starch":["starch"],"nutriment_polyols":["sugar alcohols polyols "],"nutriment_butyric-acid":["butyric acid","butyric"],"nutriment_caproic-acid":["caproic acid","caproic"],"nutriment_caprylic-acid":["caprylic acid","caprylic"],"nutriment_capric-acid":["capric acid","capric"],"nutriment_lauric-acid":["lauric acid","lauric"],"nutriment_myristic-acid":["myristic acid","myristic"],"nutriment_palmitic-acid":["palmitic acid","palmitic"],"nutriment_stearic-acid":["acide stearique","stearique","stearic acid","stearic"],"nutriment_arachidic-acid":["arachidic acid","arachidic"],"nutriment_behenic-acid":["behenic acid","behenic"],"nutriment_lignoceric-acid":["lignoceric acid","lignoceric"],"nutriment_cerotic-acid":["cerotic acid","cerotic"],"nutriment_montanic-acid":["montanic acid","montanic"],"nutriment_melissic-acid":["melissic acid","melissic"],"nutriment_monounsaturated-fat":["monounsaturated fat"],"nutriment_polyunsaturated-fat":["polyunsaturated fat"],"nutriment_omega-3-fat":["omega 3 fatty acids","omega 3"],"nutriment_alpha-linolenic-acid":["alpha linolenic acid","alpha linolenic","alpha-linolenic acid"],"nutriment_eicosapentaenoic-acid":["eicosapentaenoic acid","eicosapentaenoic"],"nutriment_docosahexaenoic-acid":["docosahexaenoic acid","docosahexaenoic"],"nutriment_omega-6-fat":["omega 6 fatty acids","omega 6"],"nutriment_linoleic-acid":["linoleic acid","linoleic"],"nutriment_arachidonic-acid":["arachidonic acid","arachidonic"],"nutriment_gamma-linolenic-acid":["gamma linolenic acid","gamma linolenic","gamma-linolenic acid"],"nutriment_dihomo-gamma-linolenic-acid":["dihomo gamma linolenic acid","dihomo gamma linolenic","dihomo-gamma-linolenic acid"],"nutriment_omega-9-fat":["omega 9 fatty acids","omega 9"],"nutriment_oleic-acid":["oleic acid","oleic"],"nutriment_elaidic-acid":["elaidic acid","elaidic"],"nutriment_gondoic-acid":["gondoic acid","gondoic"],"nutriment_mead-acid":["mead acid","mead"],"nutriment_erucic-acid":["erucic acid","erucic"],"nutriment_nervonic-acid":["nervonic acid","nervonic"],"nutriment_trans-fat":["trans fat"],"nutriment_cholesterol":["cholesterol","cholest"],"nutriment_fiber":["fiber","dietary fiber"],"nutriment_biotin":["biotin"],"nutriment_pantothenic-acid":["pantothenic acid","pantothenic"],"nutriment_silica":["silica"],"nutriment_bicarbonate":["bicarbonate"],"nutriment_potassium":["potassium"],"nutriment_chloride":["chloride"],"nutriment_calcium":["calcium"],"nutriment_phosphorus":["phosphorus"],"nutriment_iron":["iron"],"nutriment_magnesium":["magnesium"],"nutriment_zinc":["zinc"],"nutriment_copper":["copper"],"nutriment_manganese":["manganese"],"nutriment_fluoride":["fluoride"],"nutriment_selenium":["selenium"],"nutriment_chromium":["chromium"],"nutriment_molybdenum":["molybdenum"],"nutriment_iodine":["iodine"],"nutriment_caffeine":["caffeine"],"nutriment_taurine":["taurine"]},"es":{"nutriment_energy":["energia","energetice","energetica","energetico"],"nutriment_fat":["gordo","grasa","grasas","lipidos"],"nutriment_saturated-fat":["acidos grasos saturados","saturadas","saturada","saturados","saturado","de las cuales saturadas","de las cuales saturada"],"nutriment_carbohydrates":["hidratos de carbono","hidrafos de carbono","Hidratos carbono","hidrafos carbono","carbono","carboni","carbohidratos"],"nutriment_sugars":["azucares","azcares","ozucares"],"nutriment_proteins":["proteinas","proteinos","protelnos","protelnas"],"nutriment_salt":["sal"],"nutriment_sodium":["sodio"],"nutriment_casein":["caseina"],"nutriment_sucrose":["sacarosa"],"nutriment_glucose":["glucosa"],"nutriment_fructose":["fructosa"],"nutriment_lactose":["lactosa"],"nutriment_maltose":["maltosa"],"nutriment_maltodextrins":["maltodextrinas"],"nutriment_starch":["almidon"],"nutriment_polyols":["azucares alcoholicos polialcoholes "],"nutriment_butyric-acid":["acido butirico","butirico"],"nutriment_caproic-acid":["acido caproico","caproico"],"nutriment_caprylic-acid":["acido caprilico","caprilico"],"nutriment_capric-acid":["acido caprico","caprico"],"nutriment_lauric-acid":["acido laurico","laurico"],"nutriment_myristic-acid":["acido miristico","miristico"],"nutriment_palmitic-acid":["acido palmitico","palmitico"],"nutriment_stearic-acid":["acido estearico","esteÃ¡rico"],"nutriment_arachidic-acid":["acido araquidico","araquidico"],"nutriment_behenic-acid":["acido behenico"],"nutriment_lignoceric-acid":["acido lignocerico"],"nutriment_cerotic-acid":["acido cerotico"],"nutriment_montanic-acid":["acido montanico"],"nutriment_melissic-acid":["acido melisico"],"nutriment_monounsaturated-fat":["grasas monoinsaturadas","grasas monoinsaturada","monoinsaturadas","monoinsaturada"],"nutriment_polyunsaturated-fat":["grasas poliinsaturadas","grasas poliinsaturada","poliinsaturadas","poliinsaturada"],"nutriment_omega-3-fat":["acidos grasos omega 3","omega 3"],"nutriment_alpha-linolenic-acid":["acido alfa linolenico","acido alfa-linolenico"],"nutriment_eicosapentaenoic-acid":["acido eicosapentaenoico"],"nutriment_docosahexaenoic-acid":["acido docosahexaenoico"],"nutriment_omega-6-fat":["acidos grasos omega 6","omega 6"],"nutriment_linoleic-acid":["acido linoleico"],"nutriment_arachidonic-acid":["acido araquidonico"],"nutriment_gamma-linolenic-acid":["acido gamma linolenico","acido gamma-linolenico"],"nutriment_dihomo-gamma-linolenic-acid":["acido dihomo gamma linolenico","acido dihomo-gamma-linolenico"],"nutriment_omega-9-fat":["acidos grasos omega 9","omega 9"],"nutriment_oleic-acid":["acido oleico"],"nutriment_elaidic-acid":["acido elaidico"],"nutriment_gondoic-acid":["acido gondoico"],"nutriment_mead-acid":["acido mead"],"nutriment_erucic-acid":["acido erucico"],"nutriment_nervonic-acid":["acido nervonico"],"nutriment_trans-fat":["grasas trans"],"nutriment_cholesterol":["colesterol"],"nutriment_fiber":["fibra","fibra alimentaria","fibra alimentaria","fibra dietetica"],"nutriment_biotin":["biotina"],"nutriment_pantothenic-acid":["acido pantotenico"],"nutriment_silica":["silice"],"nutriment_bicarbonate":["bicarbonato"],"nutriment_potassium":["potasio"],"nutriment_chloride":["cloruro"],"nutriment_calcium":["calcio"],"nutriment_phosphorus":["fosforo"],"nutriment_iron":["hierro"],"nutriment_magnesium":["magnesio"],"nutriment_zinc":["zinc"],"nutriment_copper":["cobre"],"nutriment_manganese":["manganeso"],"nutriment_fluoride":["fluoruro"],"nutriment_selenium":["selenio"],"nutriment_chromium":["cromo"],"nutriment_molybdenum":["molibdeno"],"nutriment_iodine":["yodo"],"nutriment_caffeine":["cafeina"],"nutriment_taurine":["taurina"],"nutriment_vitamin-a":["vitamina a"],"nutriment_vitamin-d":["vitamina d"],"nutriment_vitamin-k":["vitamina k"],"nutriment_vitamin-c":["vitamina c"],"nutriment_vitamin-b6":["vitamina b6"],"nutriment_alcohol":["alcohol"],"nutriment_ph":["ph"]},"de":{"nutriment_energy":["energie","brennwert"],"nutriment_fat":["fett","fet"],"nutriment_saturated-fat":["gesattigte fettsauren","gesattigte","fettsauren"],"nutriment_carbohydrates":["kohlenhydrate"],"nutriment_sugars":["zucker"],"nutriment_proteins":["eiwei","eiweis","eiweiss","eiwei ","eiweiÃŸ"],"nutriment_salt":["speisesalz","salz"],"nutriment_sodium":["natrium"],"nutriment_casein":["casein"],"nutriment_serum-proteins":["serumprotein"],"nutriment_nucleotides":["nukleotide"],"nutriment_sucrose":["saccharose"],"nutriment_glucose":["glukose"],"nutriment_fructose":["fructose"],"nutriment_lactose":["lactose"],"nutriment_maltose":["maltose"],"nutriment_maltodextrins":["maltodextrine"],"nutriment_starch":["starke"],"nutriment_polyols":["mehrwertige alkohole polyole "],"nutriment_butyric-acid":["buttersaure"],"nutriment_caproic-acid":["capronsaure"],"nutriment_caprylic-acid":["caprylsaure"],"nutriment_capric-acid":["caprinsaure"],"nutriment_lauric-acid":["laurinsaure"],"nutriment_myristic-acid":["myristinsaure"],"nutriment_palmitic-acid":["palitinsaure"],"nutriment_stearic-acid":["stearinsaure"],"nutriment_arachidic-acid":["arachinsaure"],"nutriment_behenic-acid":["behensaure"],"nutriment_lignoceric-acid":["lignocerinsaure"],"nutriment_cerotic-acid":["cerotinsaure"],"nutriment_montanic-acid":["montansaure"],"nutriment_melissic-acid":["melissinsaure"],"nutriment_monounsaturated-fat":["einfach ungesattigte fettsauren"],"nutriment_polyunsaturated-fat":["mehrfach ungesattigte fettsauren"],"nutriment_omega-3-fat":["omega 3 fettsauren","omega 3"],"nutriment_alpha-linolenic-acid":["alpha linolensaure","alpha-linolensaure"],"nutriment_eicosapentaenoic-acid":["eicosapentaensaure"],"nutriment_docosahexaenoic-acid":["docosahexaensaure"],"nutriment_omega-6-fat":["omega 6 fettsauren","omega 6"],"nutriment_linoleic-acid":["linolsaure"],"nutriment_arachidonic-acid":["arachidonsaeure"],"nutriment_gamma-linolenic-acid":["gamma linolensaure","gamma-linolensaure"],"nutriment_dihomo-gamma-linolenic-acid":["dihomo gamma linolsaure","dihomo-gamma-linolsaure"],"nutriment_omega-9-fat":["omega 9 fettsauren","omega 9"],"nutriment_oleic-acid":["olsaure"],"nutriment_elaidic-acid":["elaidinsaure"],"nutriment_gondoic-acid":["gondosaure"],"nutriment_mead-acid":["mead sche saure","mead\'sche saure"],"nutriment_erucic-acid":["erucasaure"],"nutriment_nervonic-acid":["nervonsaure"],"nutriment_trans-fat":["trans fettsauren","trans-fettsauren"],"nutriment_cholesterol":["cholesterin"],"nutriment_fiber":["ballaststoffe"],"nutriment_biotin":["biotin"],"nutriment_pantothenic-acid":["pantothensaure"],"nutriment_silica":["siliciumdioxid"],"nutriment_bicarbonate":["bikarbonat"],"nutriment_potassium":["kalium"],"nutriment_chloride":["chloride"],"nutriment_calcium":["calcium"],"nutriment_phosphorus":["phosphor"],"nutriment_iron":["eisen"],"nutriment_magnesium":["magnesium"],"nutriment_zinc":["zink"],"nutriment_copper":["kupfer"],"nutriment_manganese":["mangan"],"nutriment_fluoride":["fluoride"],"nutriment_selenium":["selen"],"nutriment_chromium":["chrom"],"nutriment_molybdenum":["molybdan"],"nutriment_iodine":["jod"],"nutriment_caffeine":["coffein"],"nutriment_taurine":["taurin"],"nutriment_vitamin-a":["vitamin a"],"nutriment_vitamin-d":["vitamin d"],"nutriment_vitamin-k":["vitamin k"],"nutriment_vitamin-c":["vitamin c"],"nutriment_vitamin-b6":["vitamin b6"],"nutriment_alcohol":["alkohol"],"nutriment_ph":["ph-wert"]},"pt":{"nutriment_energy":["energia"],"nutriment_fat":["gordura"],"nutriment_saturated-fat":["gorduras saturadas","saturada"],"nutriment_carbohydrates":["hidratos de carbono"],"nutriment_sugars":["acucares"],"nutriment_proteins":["proteinas"],"nutriment_salt":["sal de cozinha"],"nutriment_sodium":["sodio"],"nutriment_casein":["caseina"],"nutriment_serum-proteins":["proteina plasmatica"],"nutriment_nucleotides":["nucleotideos"],"nutriment_sucrose":["sacarose"],"nutriment_glucose":["glicose"],"nutriment_fructose":["frutosa"],"nutriment_lactose":["lactose"],"nutriment_maltose":["maltose"],"nutriment_maltodextrins":["maltodextrinas"],"nutriment_starch":["amido"],"nutriment_polyols":["acucares alcoolicos polialcools"],"nutriment_butyric-acid":["acido butirico"],"nutriment_caproic-acid":["acido caproico"],"nutriment_caprylic-acid":["acido caprilico"],"nutriment_capric-acid":["acido caprico"],"nutriment_lauric-acid":["acido laurico"],"nutriment_myristic-acid":["acido miristico"],"nutriment_palmitic-acid":["acido palmitico"],"nutriment_stearic-acid":["acido estearico"],"nutriment_arachidic-acid":["acido araquidico"],"nutriment_behenic-acid":["acido beenico"],"nutriment_lignoceric-acid":["acido lignocerico"],"nutriment_cerotic-acid":["acido cerotico"],"nutriment_montanic-acid":["acido montanico"],"nutriment_melissic-acid":["acido melissico"],"nutriment_monounsaturated-fat":["gorduras monoinsaturadas","monoinsaturada"],"nutriment_polyunsaturated-fat":["gorduras poli insaturadas","poli insaturada","gorduras poli-insaturadas"],"nutriment_omega-3-fat":["acidos graxos omega 3"],"nutriment_alpha-linolenic-acid":["acido alfa linolenico","acido alfa-linolenico"],"nutriment_eicosapentaenoic-acid":["acido eicosapentaenoico"],"nutriment_docosahexaenoic-acid":["acido docosa hexaenoico","acido docosa-hexaenoico"],"nutriment_omega-6-fat":["acidos graxos omega 6"],"nutriment_linoleic-acid":["acido linoleico"],"nutriment_arachidonic-acid":["acido araquidonico"],"nutriment_gamma-linolenic-acid":["acido gama linolenico","acido gama-linolenico"],"nutriment_dihomo-gamma-linolenic-acid":["acido dihomo gama linolenico","acido dihomo-gama-linolenico"],"nutriment_omega-9-fat":["acidos graxos omega 9"],"nutriment_oleic-acid":["acido oleico"],"nutriment_elaidic-acid":["acido elaidico"],"nutriment_gondoic-acid":["acido gondoico"],"nutriment_mead-acid":["acido de mead"],"nutriment_erucic-acid":["acido erucico"],"nutriment_nervonic-acid":["acido nervonico"],"nutriment_trans-fat":["gorduras trans"],"nutriment_cholesterol":["colesterol"],"nutriment_fiber":["fibra","fibra alimentar"],"nutriment_biotin":["biotina"],"nutriment_pantothenic-acid":["acido pantotenico"],"nutriment_silica":["dioxido de silicio"],"nutriment_bicarbonate":["bicarbonato"],"nutriment_potassium":["potassio"],"nutriment_chloride":["cloreto"],"nutriment_calcium":["calcio"],"nutriment_phosphorus":["fosforo"],"nutriment_iron":["ferro"],"nutriment_magnesium":["magnesio"],"nutriment_zinc":["zinco"],"nutriment_copper":["cobre"],"nutriment_manganese":["manganes"],"nutriment_fluoride":["fluoreto"],"nutriment_selenium":["selenio"],"nutriment_chromium":["cromio"],"nutriment_molybdenum":["molibdenio"],"nutriment_iodine":["iodo"],"nutriment_caffeine":["cafeina"],"nutriment_taurine":["taurina"],"nutriment_vitamin-a":["vitamina a"],"nutriment_vitamin-d":["vitamina d"],"nutriment_vitamin-k":["vitamina k"],"nutriment_vitamin-c":["vitamina c"],"nutriment_vitamin-b6":["vitamina b6"],"nutriment_alcohol":["alcool"],"nutriment_ph":["ph"]},"it":{"nutriment_energy":["energia"],"nutriment_fat":["grasso"],"nutriment_saturated-fat":["acidi grassi saturi"],"nutriment_carbohydrates":["carboidrati"],"nutriment_sugars":["zuccheri"],"nutriment_proteins":["proteine"],"nutriment_salt":["cloruro di sodio"],"nutriment_sodium":["sodio"],"nutriment_casein":["caseina"],"nutriment_serum-proteins":["sieroproteine"],"nutriment_nucleotides":["nucleotidi"],"nutriment_sucrose":["saccarosio"],"nutriment_glucose":["glucosio"],"nutriment_fructose":["fruttosio"],"nutriment_lactose":["lattosio"],"nutriment_maltose":["maltosio"],"nutriment_maltodextrins":["maltodestrine"],"nutriment_starch":["amido"],"nutriment_polyols":["polialcoli polioli alcoli degli zuccheri "],"nutriment_butyric-acid":["acido butirrico"],"nutriment_caproic-acid":["acido capronico"],"nutriment_caprylic-acid":["acido caprilico"],"nutriment_capric-acid":["acido caprico"],"nutriment_lauric-acid":["acido laurico"],"nutriment_myristic-acid":["acido miristico"],"nutriment_palmitic-acid":["acido palmitico"],"nutriment_stearic-acid":["acido stearico"],"nutriment_arachidic-acid":["acido arachico"],"nutriment_behenic-acid":["acido behenico"],"nutriment_lignoceric-acid":["acido lignocerico"],"nutriment_cerotic-acid":["acido cerotico"],"nutriment_montanic-acid":["acido montanico"],"nutriment_melissic-acid":["acido melissico"],"nutriment_monounsaturated-fat":["acidi grassi monoinsaturi"],"nutriment_polyunsaturated-fat":["acidi grassi polinsaturi"],"nutriment_omega-3-fat":["acidi grassi omega 3"],"nutriment_alpha-linolenic-acid":["acido alfa linoleico","acido alfa-linoleico"],"nutriment_eicosapentaenoic-acid":["acido eicosapentenoico"],"nutriment_docosahexaenoic-acid":["acido docosaesaenoico"],"nutriment_omega-6-fat":["acidi grassi omega 6"],"nutriment_linoleic-acid":["acido linoleico"],"nutriment_arachidonic-acid":["acido arachidonico"],"nutriment_gamma-linolenic-acid":["acido gamma linolenico","acido gamma-linolenico"],"nutriment_dihomo-gamma-linolenic-acid":["acido linolenico diomo gamma","acido linolenico diomo-gamma"],"nutriment_omega-9-fat":["acidi grassi omega 9"],"nutriment_oleic-acid":["acido oleico"],"nutriment_elaidic-acid":["acido elaidico"],"nutriment_erucic-acid":["acido erucico"],"nutriment_nervonic-acid":["acido nervonico"],"nutriment_trans-fat":["acidi grassi trans"],"nutriment_cholesterol":["colesterolo"],"nutriment_fiber":["fibra","fibra alimentare"],"nutriment_biotin":["biotina"],"nutriment_pantothenic-acid":["acido pantotenico"],"nutriment_silica":["silice"],"nutriment_bicarbonate":["bicarbonato"],"nutriment_potassium":["potassio"],"nutriment_chloride":["cloruro"],"nutriment_calcium":["calcio"],"nutriment_phosphorus":["fosforo"],"nutriment_iron":["ferro"],"nutriment_magnesium":["magnesio"],"nutriment_zinc":["zinco"],"nutriment_copper":["rame"],"nutriment_manganese":["manganese"],"nutriment_fluoride":["fluoruro"],"nutriment_selenium":["selenio"],"nutriment_chromium":["cromo"],"nutriment_molybdenum":["molibdeno"],"nutriment_iodine":["iodio"],"nutriment_caffeine":["caffeina"],"nutriment_taurine":["taurina"],"nutriment_vitamin-a":["vitamina a"],"nutriment_vitamin-d":["vitamina d"],"nutriment_vitamin-k":["vitamina k"],"nutriment_vitamin-c":["vitamina c"],"nutriment_vitamin-b6":["vitamina b6"],"nutriment_alcohol":["alcol"],"nutriment_ph":["ph"]}}')},"10ef":function(t,e,n){},1152:function(t,e,n){},"1d5a":function(t,e,n){},"1e1a":function(t,e,n){},"1f91":function(t,e,n){"use strict";n("28cf")},2394:function(t){t.exports=JSON.parse('{"questions":{"category":"catÃ©gorie","label":"label","brand":"marque","brands":"Marques","ingredients":"IngrÃ©dients","product_weight":"poids du produit","popularity_sort":"Trier par popularitÃ©","no":"Non","skip":"Ignorer","yes":"Oui","no_questions_remaining":"Plus de questions","countries":"Pays","view":"Voir","edit":"Modifier","value_search":"Valeur (fanta, en:organic, ...)","hide_images":"Masquer les images (chargement plus rapide)","display_images":"Afficher les images","annotations":"Annotations","last_annotations":"DerniÃ¨re annotations","remaining_annotations":"RestantÂ :","annotated_annotations":"AnnotÃ©"},"menu":{"games":"Jeux","questions":"Questions","logos":"Logos","manage":"GÃ©rer","insights":"AperÃ§u","nutritions":"Tableau nutritionnel","settings":"ParamÃ¨tres"},"insights":{"insights":"AperÃ§u","barcode":"Code-barres","barcode_placeholder":"code-barres","value_tag":"Ã‰tiquette de valeur","value_placeholder":"ex: en:mueslis, bjorg, ...","type":"Type","annotated":"AnnotÃ©","annotation":"Annotation","not_annotated":"Non annotÃ©","all":"Tout","label":"Etiquette","product_weight":"Poids du produit","category":"CatÃ©gorie","expiration_date":"Date d\'expiration ","packager_code":"Code emballeur","skipped":"IgnorÃ© (-1)","rejected":"RejetÃ© (0)","accepted":"AcceptÃ© (1)","search":"Rechercher","count":"Compter","id":"Id","value":"Valeur","created_at":"CrÃ©Ã© Ã ","completed_at":"ComplÃ©tÃ©e Ã ","automatic":"Automatique"},"logos":{"annotation":"Annotation : ","annotations":"Annotations de logo","select_all":"Tout sÃ©lectionner","unselect_all":"Tout dÃ©sÃ©lectionner","distance":"Distance :","value":"Valeur","submit":"Envoyer","type":"Type","label":"Etiquette","brand":"Marque","packager_code":"Code emballeur","packaging":"Conditionnement","qr_code":"Code QR","category":"CatÃ©gorie","nutrition_label":"Ã‰tiquette nutritionnelle","store":"Magasin","detail":"DÃ©tail du logo","id":"ID du logo:","barcode":"Code-barres :","full_image":"Image complÃ¨te","update":"Mise Ã  jour","no_found":"Aucun logo trouvÃ©","search":"Rechercher","number_of_results":"Nombre de rÃ©sultats :"},"settings":{"settings":"ParamÃ¨tres","language":"Langue","save":"Enregistrer"},"helper":{"welcome":{"page1":{"title":"Welcome","text1":"Hunger Games is a collection of mini-games that help contribute to Open Food Facts in many ways. Categorize a product to get the Nutri-Score and Eco-Score, help validate labels for the Eco-Score, add brands and weights, help our logo recognition system learn about the logos it detected.","text2":"Those are some of the exciting things you\'ll be able to do. Make sure to be connected to the Open Food Facts website to get credit for your contributions. If you make a mistake, please take the time to correct it by heading to the website.","text3":"In case of doubt about the game, you have an helper at the top right of the page, and you can reach us on slack at the #hunger-games channel"},"page2":{"title":"Questions","text1":"Our AI has a lot of questions for you. Here you will have to confirm or deny the information she detected on images.","text2":"Do not hesitate to skip a question if you\'re not sure, there are plenty of others"},"page3":{"title":"Logos","text1":"The world of products is full of logos. Explain to our AI which one are the same."}},"logos":{"page1":{"title":"Selection","text1":"Select the crops of a same logo by clicking on them","text2":"Selected logos go to the top of the page, you can unselect them by clicking again on them"},"page2":{"title":"Avertissement","text1":"If the crop contains multiple logo do not select it.","text2":"If the crop contains only a partial part of a logo you can select it"},"page3":{"title":"Validate","text1":"Indicate the type of logo (label, brand, QRcode, ...)","text2":"If it is a label or a brand logo, indicate which one it is","text3":"Now you can submit your selection","text4":"Merci :)"}},"previous":"Prev","next":"Suivante","close":"Fermer"},"nutrition":{"instructions":{"cropTheTable":"Recadrez l\'image pour simplifier votre annotation","verifyNutrimentDetected":"Indicate if the nutriment detected is correct","selectMissingNutriments":"Add missing nutriments (you can click even if the word has no box)","selectValue":"Select the nutritional value of: "},"steps":{"1":"Crop","2":"Special values","3":"Nutriments Selection","4":"Values Selection"},"next":"Next Step","prev":"Prev Step","skip":"Skip this product","validate":"Validate Table","unselect_picture":"No nutrition info","basis":"data for: ","servingSize":"serving size","value":"valeur","nutriments":{"nutriment_energy-kj":"Ã‰nergie (kJ)","nutriment_energy-kcal":"Energy (kCal)","nutriment_fat":"MatiÃ¨res grasses","nutriment_saturated-fat":"Graisses saturÃ©es","nutriment_carbohydrates":"Glucides","nutriment_sugars":"Sucres","nutriment_proteins":"ProtÃ©ines","nutriment_fiber":"Fibers","nutriment_salt":"Sel","nutriment_sodium":"Sodium"},"history":{"title":"Session History","status":"status","product name":"product name","view":"view page","edit":"edit page","SKIP":"ignored","VALIDATED":"edited","WRONG_IMAGE":"unselected picture","close":"close","open":"open history"}}}')},2508:function(t){t.exports=JSON.parse('{"questions":{"category":"Kategorie","label":"Etikett","brand":"Marke","brands":"Marken","ingredients":"Zutaten","product_weight":"Produktgewicht","popularity_sort":"Nach Beliebtheit sortieren","no":"Nein","skip":"Ãœberspringen","yes":"Ja","no_questions_remaining":"Keine offenen Fragen","countries":"LÃ¤nder","view":"Anzeigen","edit":"Bearbeiten","value_search":"Wert (Fanta, de: Bio,...)","hide_images":"Abbildungen ausblenden (fÃ¼r schnelleres Laden)","display_images":"Abbildungen anzeigen","annotations":"Anmerkungen","last_annotations":"Neueste Anmerkungen","remaining_annotations":"Verbleibend:","annotated_annotations":"Kommentiert"},"menu":{"games":"Spiele","questions":"Fragen","logos":"Logos","manage":"Verwalten","insights":"Erkenntnisse","nutritions":"NÃ¤hrwertangaben","settings":"Einstellungen"},"insights":{"insights":"Erkenntnisse","barcode":"Strichcode","barcode_placeholder":"Strichcode","value_tag":"Wert-Kennzeichen","value_placeholder":"Bsp.: de:MÃ¼sli, Bjorg,...","type":"Art","annotated":"Kommentiert","annotation":"Anmerkung","not_annotated":"Nicht kommentiert","all":"Alle","label":"Kennzeichnung","product_weight":"Produktgewicht","category":"Kategorie","expiration_date":"Verfalldatum","packager_code":"IdentitÃ¤tskennzeichen","skipped":"Ãœbersprungen (-1)","rejected":"Abgelehnt (0)","accepted":"Angenommen (1)","search":"Suchen","count":"Anzahl","id":"ID","value":"Wert","created_at":"Erstellt am","completed_at":"Abgeschlossen am","automatic":"Automatisch"},"logos":{"annotation":"Anmerkung: ","annotations":"Anmerkungen zum Logo","select_all":"Alles auswÃ¤hlen","unselect_all":"Alle abwÃ¤hlen","distance":"Entfernung:","value":"Wert","submit":"Senden","type":"Art","label":"Kennzeichnung","brand":"Marke","packager_code":"IdentitÃ¤tskennzeichen","packaging":"Art der Verpackung","qr_code":"QR-Code","category":"Kategorie","nutrition_label":"NÃ¤hrwert-Etikett","store":"Laden","detail":"Detail des Logos","id":"Logo-ID:","barcode":"Strichcode:","full_image":"VollstÃ¤ndige Abbildung","update":"Aktualisieren","no_found":"Keine Logo gefunden","search":"Suchen","number_of_results":"Anzahl:"},"settings":{"settings":"Einstellungen","language":"Sprache","save":"Speichern"},"helper":{"welcome":{"page1":{"title":"Willkommen","text1":"Hunger Games ist eine Sammlung von Minispielen, die in vielerlei Hinsicht zu Open Food Facts beitragen. Klassifizieren Sie ein Produkt, um den Nutri-Score und den Eco-Score zu ermitteln, helfen Sie bei der ÃœberprÃ¼fung von Etiketten fÃ¼r den Eco-Score, fÃ¼gen Sie Markennamen und Gewichtsangaben hinzu und helfen Sie unserem Logo-Erkennungssystem, etwas Ã¼ber die erkannten Logos zu erfahren.","text2":"Das sind nur einige der spannenden Dinge, die Sie tun kÃ¶nnen. Vergewissern Sie sich, dass Sie mit der Open Food Facts-Website verbunden sind, damit Ihre BeitrÃ¤ge angerechnet werden kÃ¶nnen. Wenn Ihnen ein Fehler unterlÃ¤uft, nehmen Sie sich bitte die Zeit, ihn zu korrigieren, indem Sie die Website aufrufen.","text3":"Im Zweifelsfall gibt es einen Helfer (oben rechts auf der Seite). AuÃŸerdem kÃ¶nnen Sie uns auf Slack im Kanal #hunger-games erreichen."},"page2":{"title":"Fragen","text1":"Unsere KI stellt Ihnen eine Reihe von Fragen. Hier mÃ¼ssen Sie die Informationen, die sie auf den Abbildungen erkannt haben, bestÃ¤tigen oder ablehnen.","text2":"ZÃ¶gern Sie nicht, eine Frage zu Ã¼berspringen, wenn Sie sich nicht sicher sind, es gibt noch viele andere."},"page3":{"title":"Logos","text1":"The world of products is full of logos. Explain to our AI which one are the same."}},"logos":{"page1":{"title":"Auswahl","text1":"WÃ¤hlen Sie die Ausschnitte des gleichen Logos durch Anklicken aus","text2":"AusgewÃ¤hlte Logos werden ganz oben auf der Seite angezeigt. Sie kÃ¶nnen die Auswahl aufheben, indem Sie sie erneut anklicken."},"page2":{"title":"Warnhinweis","text1":"Wenn der Ausschnitt mehrere Logos enthÃ¤lt, wÃ¤hlen Sie ihn nicht aus.","text2":"Wenn der Ausschnitt nur einen Teil eines Logos enthÃ¤lt, kÃ¶nnen Sie ihn auswÃ¤hlen"},"page3":{"title":"BestÃ¤tigen","text1":"Geben Sie die Art des Logos an (Etikett, Marke, QR-Code, â€¦)","text2":"Wenn es sich um ein Etikett oder ein Markenlogo handelt, geben Sie an, um welches es sich handelt","text3":"Jetzt kÃ¶nnen Sie Ihre Auswahl einreichen","text4":"Vielen Dank ðŸ™‚"}},"previous":"Prev","next":"Weiter","close":"SchlieÃŸen"},"nutrition":{"instructions":{"cropTheTable":"Beschneiden Sie das Foto, um Ihre Anmerkungen zu vereinfachen.","verifyNutrimentDetected":"Geben Sie an, ob der ermittelte NÃ¤hrwert korrekt ist","selectMissingNutriments":"FÃ¼gen Sie fehlende NÃ¤hrstoffe hinzu (Sie kÃ¶nnen klicken, auch wenn das Wort kein Feld hat)","selectValue":"NÃ¤hrwert auswÃ¤hlen von: "},"steps":{"1":"Zuschneiden","2":"Sonderwerte","3":"NÃ¤hrstoffauswahl","4":"Werteauswahl"},"next":"NÃ¤chster Schritt","prev":"Vorheriger Schritt","skip":"Dieses Produkt Ã¼berspringen","validate":"Tabelle Ã¼berprÃ¼fen","unselect_picture":"Keine NÃ¤hrwertangaben","basis":"Daten zu:","servingSize":"PortionsgrÃ¶ÃŸe","value":"Wert","nutriments":{"nutriment_energy-kj":"Energie (kJ)","nutriment_energy-kcal":"Energie (kcal)","nutriment_fat":"Fett","nutriment_saturated-fat":"GesÃ¤ttigte FettsÃ¤uren","nutriment_carbohydrates":"Kohlenhydrate","nutriment_sugars":"Zucker","nutriment_proteins":"EiweiÃŸ","nutriment_fiber":"Ballaststoffe","nutriment_salt":"Salz","nutriment_sodium":"Natrium"},"history":{"title":"Sitzungsverlauf","status":"Status","product name":"Produktname","view":"Seite anzeigen","edit":"Seite bearbeiten","SKIP":"Ãœbersprungen","VALIDATED":"Bearbeitet","WRONG_IMAGE":"Nicht ausgewÃ¤hltes Foto","close":"SchlieÃŸen","open":"Verlauf Ã¶ffnen"}}}')},"28cf":function(t,e,n){},"2b1a":function(t,e,n){},"2ee5":function(t,e,n){},3992:function(t,e,n){"use strict";n("b0b0")},"39b9":function(t,e,n){"use strict";n("d60f")},"3d1a":function(t,e,n){},"3d27":function(t,e,n){},"49e4":function(t,e,n){},"4a93":function(t,e,n){"use strict";n("5238")},5238:function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("2b0e"),i=n("8c4f"),o=n("a925"),r=n("6944"),s=n.n(r),u=(n("1152"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("Menu"),n("sui-segment",{attrs:{attached:"bottom"}},[n("router-view")],1)],1)}),c=[],l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("sui-menu",{attrs:{attached:"top"}},[a("sui-dropdown",{staticClass:"mobile only",attrs:{item:"",icon:"bars",simple:""}},[a("sui-dropdown-menu",[t._l(t.menu,(function(e){return[e.to?t._e():a("sui-dropdown-header",{key:e.label},[t._v(" "+t._s(e.label)+" ")]),e.label?t._e():a("sui-dropdown-divider",{key:e.label}),e.to?a("router-link",{key:e.label,staticClass:"item",attrs:{"active-class":"active",to:e.to}},[t._v(" "+t._s(e.label)+" ")]):t._e()]}))],2)],1),a("sui-menu-item",{staticClass:"item mobile hidden"},[a("img",{attrs:{src:n("cf05")}})]),t._l(t.menuItems,(function(e){return a("router-link",{key:e.to,staticClass:"item mobile hidden",attrs:{"active-class":"active",to:e.to}},[t._v(" "+t._s(e.label)+" ")])})),a("sui-menu-menu",{attrs:{position:"right"}},[a("sui-menu-item",{staticClass:"helpButton",on:{click:t.openHelper}},[a("sui-icon",{attrs:{name:"help"}})],1)],1),a("Helper",{attrs:{open:t.helperIsOpen},on:{"close-helper":t.closeHelper}})],2)},d=[],g=(n("4de4"),n("d3b7"),n("3ca3"),n("ddb0"),n("2b3d"),n("ac1f"),n("841c"),n("1276"),"hunger-game-settings"),m={fetch:function(){return JSON.parse(localStorage.getItem(g)||"{}")},save:function(t){localStorage.setItem(g,JSON.stringify(t))},update:function(t,e){var n=this.fetch();n[t]=e,this.save(n)}},h=function(){var t=m.fetch(),e=new URLSearchParams(window.location.search),n=e.has("language")&&e.get("language");return n||t.lang||(navigator.language||navigator.userLanguage).split("-")[0]},p=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("sui-modal",{attrs:{open:t.open},on:{changed:t.close}},[n("sui-modal-content",{attrs:{scrolling:"",image:""}},[n("sui-image",{attrs:{wrapped:"",size:t.helpInformations[t.pageKey].imageSize||"medium",src:t.helpInformations[t.pageKey].imgUrl}}),n("sui-modal-description",[n("sui-header",[t._v(t._s(t.helpInformations[t.pageKey].title))]),t._l(t.helpInformations[t.pageKey].texts,(function(e,a){return n("p",{key:a,staticClass:"explanationText"},[t._v(" "+t._s(e)+" ")])}))],2)],1),n("sui-segment",{attrs:{aligned:"right"}},[n("sui-progress",{attrs:{attached:"",top:"",percent:t.pageRatio,color:"green"}}),t.pageIndex>0?n("sui-button",{nativeOn:{click:function(e){return t.prev.apply(null,arguments)}}},[t._v(" "+t._s(t.$t("helper.previous"))+" ")]):t._e(),Object.keys(t.helpInformations).length>t.pageIndex+1?n("sui-button",{attrs:{primary:""},nativeOn:{click:function(e){return t.next.apply(null,arguments)}}},[t._v(" "+t._s(t.$t("helper.next"))+" ")]):n("sui-button",{attrs:{positive:""},nativeOn:{click:function(e){return t.close.apply(null,arguments)}}},[t._v(" "+t._s(t.$t("helper.close"))+" ")])],1)],1)],1)},f=[],b=n("5530"),v=n("15fd"),_=(n("159b"),n("b64b"),n("fb6a"),["title"]),y={welcome:{page1:{},page2:{image:"questionsScreenshot.png",imageSize:"huge"},page3:{image:"logoGeneral.png",imageSize:"huge"}},logos:{page1:{image:"logoGeneral.png"},page2:{image:"memLogo.png"},page3:{image:"logoNameLabel.png",imageSize:"large"}}},C=n("9142"),x=function(t){return C("./"+(t||"logo.png"))};Object.keys(y).forEach((function(t){Object.keys(y[t]).forEach((function(e){y[t][e].imgUrl=x(y[t][e].image||null)}))}));var k=function(t,e){var n=t.slice(1);console.debug(e),n in e||(n="welcome");var a=e[n],i={};return Object.keys(a).forEach((function(t){var e=a[t],o=e.title,r=Object(v["a"])(e,_);i[t]=Object(b["a"])({title:o,texts:Object(b["a"])({},r)},y[n]&&y[n][t]?y[n][t]:{})})),console.debug(i),i},w={name:"IntroductionView",props:{open:Boolean},data:function(){return console.log(this.$t("helper")),{pageIndex:0,helpInformations:k(this.$router.history.current.path,this.$t("helper"))}},watch:{$route:function(){this.helpInformations=k(this.$router.history.current.path,this.$t("helper")),this.pageIndex=0}},computed:{pageRatio:function(){return 1===Object.keys(this.helpInformations).length?100:Math.floor(this.pageIndex/(Object.keys(this.helpInformations).length-1)*100)},pageKey:function(){return"page".concat(this.pageIndex+1)}},methods:{close:function(){this.$emit("close-helper")},prev:function(){this.pageIndex=Math.max(0,this.pageIndex-1)},next:function(){this.pageIndex=Math.min(Object.keys(this.helpInformations).length-1,this.pageIndex+1)}}},S=w,I=(n("9839"),n("2877")),O=Object(I["a"])(S,p,f,!1,null,"e89e4faa",null),P=O.exports,j=m.fetch();m.update("tuto-done",!0);var q={data:function(){return{menu:[{label:this.$t("menu.games")},{label:this.$t("menu.questions"),to:"/questions"},{label:this.$t("menu.logos"),to:"/logos"},{label:this.$t("menu.eco-score"),to:"/eco-score"},{},{label:this.$t("menu.manage"),type:"header"},{label:this.$t("menu.insights"),to:"/insights"},{label:this.$t("menu.settings"),to:"/settings"}],helperIsOpen:!j["tuto-done"]}},components:{Helper:P},computed:{menuItems:function(){return this.menu.filter((function(t){return t.to}))}},methods:{closeHelper:function(){this.helperIsOpen=!1},openHelper:function(){this.helperIsOpen=!0}}},L=q,z=(n("069e"),Object(I["a"])(L,l,d,!1,null,"f3b219c4",null)),A=z.exports,B={name:"app",components:{Menu:A},data:function(){return{}}},N=B,T=(n("b329"),Object(I["a"])(N,u,c,!1,null,"5dc6acac",null)),$=T.exports,D=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"ui grid stackable"},[n("div",{staticClass:"five wide column centered"},[n("div",{staticClass:"insight-column"},[t._l(t.availableInsightTypes,(function(e){return n("div",{key:e,staticClass:"tag",class:{selected:e===t.selectedInsightType},on:{click:function(n){return t.selectInsightType(e)}}},[t._v(" "+t._s(t.$t("questions."+e))+" ")])})),n("div",{staticClass:"ui form"},[n("div",{staticClass:"fields"},[n("div",{staticClass:"ui icon field eight wide"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.valueTagInput,expression:"valueTagInput"}],staticClass:"ui input",attrs:{placeholder:t.$t("questions.value_search")},domProps:{value:t.valueTagInput},on:{input:function(e){e.target.composing||(t.valueTagInput=e.target.value)}}}),t.valueTagInput?n("i",{staticClass:"times link icon",on:{click:function(e){return t.clearValueTagInput()}}}):t._e()]),n("div",{staticClass:"ui field four wide"},[n("select",{directives:[{name:"model",rawName:"v-model",value:t.countryFilter,expression:"countryFilter"}],staticClass:"ui fluid dropdown",on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.countryFilter=e.target.multiple?n:n[0]}}},[n("option",{attrs:{value:""}},[t._v("World")]),t._l(t.countryNames,(function(e){return n("option",{key:e,domProps:{value:e}},[t._v(t._s(e.slice(3)))])}))],2)]),n("div",{staticClass:"field four wide"},[n("div",{staticClass:"ui toggle checkbox",staticStyle:{"margin-top":"0.5rem"}},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.sortByPopularity,expression:"sortByPopularity"}],attrs:{type:"checkbox",name:"sortBy"},domProps:{checked:Array.isArray(t.sortByPopularity)?t._i(t.sortByPopularity,null)>-1:t.sortByPopularity},on:{change:function(e){var n=t.sortByPopularity,a=e.target,i=!!a.checked;if(Array.isArray(n)){var o=null,r=t._i(n,o);a.checked?r<0&&(t.sortByPopularity=n.concat([o])):r>-1&&(t.sortByPopularity=n.slice(0,r).concat(n.slice(r+1)))}else t.sortByPopularity=i}}}),n("label",[t._v(t._s(t.$t("questions.popularity_sort")))])])])])]),n("div",{staticClass:"ui divider"}),n("div",{staticClass:"ui hidden divider"}),t.currentQuestion?n("div",[n("h3",[t._v(t._s(t.currentQuestion.question))]),t.valueTagQuestionsURL.length?n("div",[n("router-link",{attrs:{to:t.valueTagQuestionsURL,target:"_blank"}},[n("div",{staticClass:"ui big label"},[t._v(" "+t._s(t.currentQuestion.value)+" "),n("i",{staticClass:"external alternate icon small blue",staticStyle:{"margin-left":"0.5rem"}})])])],1):n("div",[n("div",{staticClass:"ui big label"},[t._v(t._s(t.currentQuestion.value))])]),n("div",{staticClass:"ui divider hidden"}),n("cropper",{staticStyle:{height:"300px",margin:"auto"},attrs:{src:t.currentQuestionImageUrl,canvas:!1,checkOrientation:!1,crossOrigine:!1,"default-position":{left:0,top:0},stencilSize:function(t){var e=t.boundaries;return{width:e.width,height:e.height}},"default-boundaries":"fit","stencil-props":{handlers:{},movable:!1,resizable:!1}}}),n("div",{staticClass:"ui divider hidden"}),n("div",[n("button",{staticClass:"ui big negative button annotate",attrs:{"data-inverted":"","data-tooltip":"Shortcut: N"},on:{click:function(e){return t.annotate(0)}}},[n("i",{staticClass:"trash icon"}),t._v(" "+t._s(t.$t("questions.no"))+" ")]),n("button",{staticClass:"ui big button annotate",attrs:{"data-inverted":"","data-tooltip":"Shortcut: K"},on:{click:function(e){return t.annotate(-1)}}},[n("i",{staticClass:"question icon"}),t._v(" "+t._s(t.$t("questions.skip"))+" ")]),n("button",{staticClass:"ui big positive button annotate",attrs:{"data-inverted":"","data-tooltip":"Shortcut: O"},on:{click:function(e){return t.annotate(1)}}},[n("i",{staticClass:"check icon"}),t._v(" "+t._s(t.$t("questions.yes"))+" ")])])],1):n("div",{staticClass:"flex-center",staticStyle:{"margin-top":"100px"}},[n("LoadingSpinner",{attrs:{show:t.loading}}),t.noRemainingQuestion?n("div",[n("h2",[t._v(t._s(t.$t("questions.no_questions_remaining")))])]):t._e()],1)],2)]),n("div",{staticClass:"six wide column centered"},[n("Product",{attrs:{barcode:t.currentQuestionBarcode}})],1),n("div",{staticClass:"three wide column annotation-column"},[n("AnnotationCounter",{attrs:{remainingCount:t.remainingQuestionCount,lastAnnotations:t.lastAnnotations,sessionAnnotatedCount:t.sessionAnnotatedCount}})],1)])},E=[],R=n("3835"),M=(n("25f0"),n("498a"),n("4fad"),n("5319"),n("4d63"),n("6062"),n("caad"),n("2532"),n("a2c1")),G=(n("99af"),n("a15b"),n("bc3a")),F=n.n(G),U="https://robotoff.openfoodfacts.org/api/v1",V="https://world.openfoodfacts.org",Q="".concat(V,"/api/v0"),H="https://static.openfoodfacts.org/images/products",K="https://world.openfoodfacts.org/cgi/search.pl",Y=function(t){var e=new URLSearchParams(window.location.search);return e.has(t)?e.get(t):""},X=function(t){return Object.keys(t).forEach((function(e){return(void 0===t[e]||""===t[e])&&delete t[e]})),t},W={annotate:function(t,e){return F.a.post("".concat(U,"/insights/annotate"),new URLSearchParams("insight_id=".concat(t,"&annotation=").concat(e,"&update=1")),{withCredentials:!0})},questions:function(t,e,n,a,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:10,r=h();return F.a.get("".concat(U,"/questions/").concat(t),{params:X({count:o,lang:r,insight_types:e,value_tag:n,brands:a,country:i})}).then((function(t){var e=t.data.questions;return t.data.questions=e.filter((function(t){return t.source_image_url})),t}))},loadLogo:function(t){return F.a.get("".concat(U,"/images/logos/").concat(t))},updateLogo:function(t,e,n){return F.a.put("".concat(U,"/images/logos/").concat(t),X({withCredentials:!0,value:e,type:n}))},searchLogos:function(t,e,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:25;return F.a.get("".concat(U,"/images/logos"),{params:X({annotated:1,barcode:t,value:e,type:n,count:a})})},getLogoAnnotations:function(t,e,n){var a=t.length>0?"".concat(U,"/ann/").concat(t):"".concat(U,"/ann");return F.a.get(a,{params:X({index:e,count:n})})},annotateLogos:function(t){return F.a.post("".concat(U,"/images/logos/annotate"),X({withCredentials:!0,annotations:t}))},getInsights:function(t,e,n,a,i){var o,r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:25;return a.length&&"not_annotated"==a&&(o="0"),F.a.get("".concat(U,"/insights"),{params:X({barcode:t,insight_types:e,value_tag:n,annotation:a,page:i,annotated:o,count:r})})},getUserStatistics:function(t){return F.a.get("".concat(U,"/users/statistics/").concat(t))},getCroppedImageUrl:function(t,e){var n=Object(R["a"])(e,4),a=n[0],i=n[1],o=n[2],r=n[3];return"".concat(U,"/images/crop?image_url=").concat(t,"&y_min=").concat(a,"&x_min=").concat(i,"&y_max=").concat(o,"&x_max=").concat(r)},getLogosImages:function(t){return F.a.get("".concat(U,"/images/logos?logo_ids=").concat(t.join(",")))}},J=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.loaded?n("div",{staticClass:"product-card"},[n("h3",[t._v(t._s(t.productName))]),n("a",{staticClass:"ui button primary",attrs:{target:"_blank",href:t.productUrl}},[t._v(t._s(t.$t("questions.view")))]),n("a",{staticClass:"ui button",attrs:{target:"_blank",href:t.productEditUrl}},[t._v(t._s(t.$t("questions.edit")))]),n("div",{staticClass:"ui divider"}),t.imagesPreview.length>0?n("div",[n("div",{staticClass:"ui basic segment"},[n("sui-checkbox",{model:{value:t.hideImage,callback:function(e){t.hideImage=e},expression:"hideImage"}},[t._v(" "+t._s(t.$t("questions.hide_images"))+" ")])],1),t.hideImage?t._e():n("viewer",{attrs:{images:t.imagesPreview,options:t.imageZoomOptions}},t._l(t.imagesPreview,(function(t){return n("img",{key:t,staticStyle:{"max-height":"200px","max-width":"200px","margin-right":"3px"},attrs:{src:t,loading:"lazy"}})})),0),n("div",{staticClass:"ui divider"})],1):t._e(),t.brands?n("p",[n("strong",[t._v(t._s(t.$t("questions.brands"))+" :")]),t._v(" "+t._s(t.brands)+" ")]):t._e(),t.ingredientsText?n("p",[n("strong",[t._v(t._s(t.$t("questions.ingredients"))+":")]),t._v(" "+t._s(t.ingredientsText)+" ")]):t._e(),t.countries?n("p",[n("strong",[t._v(t._s(t.$t("questions.countries"))+":")]),t._v(" "+t._s(t.countries)+" ")]):t._e()]):t._e()},Z=[],tt=(n("d81d"),n("ff16")),et=function(){var t={};return tt.forEach((function(e){t[e.id]=e.label})),t}(),nt=(n("2ca0"),n("e683")),at=n.n(nt),it={getCookie:function(t){var e=document.cookie.split(";").filter((function(e){return e.trim().startsWith("".concat(t,"="))}));if(e.length){var n=e[0];return n.split("=",2)[1]}return""},getUsername:function(){var t=this.getCookie("session");if(!t.length)return"";var e=!1,n="";return t.split("&").forEach((function(t){"user_id"===t?e=!0:e&&(n=t,e=!1)})),n},getProduct:function(t){return F.a.get("".concat(Q,"/product/").concat(t,".json?fields=product_name,brands,ingredients_text,countries_tags,images"))},getProductUrl:function(t){var e=h();return"https://world".concat("en"===e?"":"-"+e,".openfoodfacts.org/product/").concat(t)},getProductEditUrl:function(t){var e=h();return"https://world".concat("en"===e?"":"-"+e,".openfoodfacts.org/cgi/product.pl?type=edit&code=").concat(t)},getImageUrl:function(t){return at()(H,t)},getTableExtractionAI:function(t){var e=t.img,n=t.x0,a=t.y0,i=t.x1,o=t.y1;return"https://off-nutri-test.azurewebsites.net/api/get-nutri-table?name=".concat(e,"%7C(").concat(n,",").concat(a,",").concat(i,",").concat(o,")")},getNutritionToFillUrl:function(t){var e=t.page,n=t.country,a=t.creator,i=t.category,o=t.code,r=void 0!==o&&o;if(r)return"https://world.openfoodfacts.org/api/v0/product/".concat(r,".json?fields=code,states,lang,image_nutrition_url,product_name,nutriments,images,creator,countries");var s=2,u=2;return n&&(s+=1,u+=1),a&&(u+=1),"".concat(K,"?json=true&").concat(e?"page=".concat(e,"&"):"","fields=code,states,lang,image_nutrition_url,product_name,nutriments,images,creator,countries&action=process&sort_by=last_modified_t&tagtype_0=states&tag_contains_0=contains&tag_0=photos-validated&tagtype_1=states&tag_contains_1=contains&tag_1=nutrition-facts-to-be-completed").concat(n?"&tagtype_2=countries&tag_contains_2=contains&tag_2=".concat(n):"").concat(a?"&tagtype_".concat(s,"=creator&tag_contains_").concat(s,"=contains&tag_").concat(s,"=").concat(a):"","\n      ").concat(i?"&tagtype_".concat(u,"=categories&tag_contains_").concat(u,"=contains&tag_").concat(u,"=").concat(i):"")}},ot=/(...)(...)(...)(.*)$/,rt=function(t){var e=ot.exec(t);return null!==e?(e.shift(),e):[t]},st=function(t){var e=rt(t);return null===e?null:it.getImageUrl(e.join("/"))},ut={name:"Product",props:["barcode"],data:function(){return{hideImage:m.fetch()["hideImage"]||!1,productName:"",brands:"",ingredientsText:"",countriesTags:[],images:{},loaded:!1,imageZoomOptions:{toolbar:{rotateLeft:1,rotateRight:1}}}},watch:{barcode:function(t){t?this.update():(this.productName="",this.brands="",this.ingredientsText="",this.countriesTags=[],this.images={},this.loaded=!1)},hideImage:function(t){m.update("hideImage",t)}},methods:{update:function(){var t=this;it.getProduct(this.barcode).then((function(e){var n=e.data.product;t.productName=n.product_name||"",t.brands=n.brands||"",t.ingredientsText=n.ingredients_text||"",t.countriesTags=n.countries_tags||[],t.images=n.images||{},t.loaded=!0}))}},computed:{productUrl:function(){return null===this.barcode?"":it.getProductUrl(this.barcode)},productEditUrl:function(){return null===this.barcode?"":it.getProductEditUrl(this.barcode)},countries:function(){return this.countriesTags.map((function(t){return et[t]})).join(", ")},imagesPreview:function(){for(var t=[],e=0,n=Object.keys(this.images);e<n.length;e++){var a=n[e];if(!isNaN(a)){var i="".concat(st(this.barcode),"/").concat(a,".jpg");t.push(i)}}return t}},mounted:function(){this.barcode&&this.update()}},ct=ut,lt=(n("ef44"),Object(I["a"])(ct,J,Z,!1,null,"592dbe0e",null)),dt=lt.exports,gt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:{centered:t.centered}},[t.show?n("div",{staticClass:"ui active inline loader",class:[t.size]}):t._e()])},mt=[],ht={name:"LoadingSpinner",props:{show:{type:Boolean,required:!0},centered:{type:Boolean,required:!1,default:!0},size:{type:String,required:!1,default:"huge"}}},pt=ht,ft=(n("8d2d"),Object(I["a"])(pt,gt,mt,!1,null,"66aae622",null)),bt=ft.exports,vt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"main-column"},[n("h3",[t._v(t._s(t.$t("questions.annotations")))]),n("p",[t._v(" "+t._s(t.$t("questions.remaining_annotations"))+" "),n("strong",[t._v(t._s(t.remainingCount))])]),n("p",[t._v(" "+t._s(t.$t("questions.annotated_annotations"))+": "),n("strong",[t._v(t._s(t.annotatedCount))])]),n("div",{staticClass:"ui divider"}),n("h3",[t._v(t._s(t.$t("questions.last_annotations")))]),t._l(t.sortedLastAnnotations,(function(e){return n("div",{key:e.question.insight_id},[n("a",{attrs:{target:"_blank",href:t.getProductUrl(e.question.barcode)}},[t._v(t._s(e.question.insight_type)+": "+t._s(e.question.value))]),1==e.annotation?n("i",{staticClass:"check green icon"}):-1==e.annotation?n("i",{staticClass:"question icon"}):0==e.annotation?n("i",{staticClass:"times red icon"}):t._e()])}))],2)},_t=[],yt=(n("a9e3"),{name:"AnnotationCounter",props:{remainingCount:{type:Number,required:!0},lastAnnotations:{type:Array,required:!0},sessionAnnotatedCount:{type:Number,required:!0}},data:function(){return{username:it.getUsername(),historyAnnotatedCount:0}},methods:{getProductUrl:function(t){return it.getProductUrl(t)}},computed:{sortedLastAnnotations:function(){var t=this.lastAnnotations.slice();return t.reverse()},annotatedCount:function(){return this.historyAnnotatedCount+this.sessionAnnotatedCount}},mounted:function(){var t=this;this.username.length&&W.getUserStatistics(this.username).then((function(e){t.historyAnnotatedCount=e.data.count.annotations})).catch((function(t){return window.console.log(t)}))}}),Ct=yt,xt=(n("4a93"),Object(I["a"])(Ct,vt,_t,!1,null,"11ffedee",null)),kt=xt.exports,wt=function(t,e){var n=new URLSearchParams(window.location.search);n.set(t,e);var a=window.location.pathname+"?"+n.toString();history.pushState(null,"",a)},St=function(t){var e=new URLSearchParams(window.location.search);if(e.has(t)){e.delete(t);var n=window.location.pathname+(e.toString().length?"?".concat(e.toString()):"");history.pushState(null,"",n)}},It=function(t){var e=new URLSearchParams(window.location.search);return e.has(t)?e.get(t):""},Ot="NO_QUESTION_LEFT",Pt={label:"label",category:"category",brand:"brand",product_weight:"product weight"},jt=["label","category","brand"],qt=["en:belgium","en:denmark","en:france","en:germany","en:italy","en:netherlands","en:portugal","en:spain","en:sweden","en:switzerland","en:united-states","en:canada","en:australia","en:united-kingdom"],Lt=function(){return jt[Math.floor(jt.length*Math.random())]},zt=function(){var t=It("type");return t.length?t:Lt()},At={" ":"-","'":"-","&":"","Ã ":"a","Ã¢":"a","Ã¤":"a","Ã©":"e","Ã¨":"e","Ãª":"e","Ã«":"e","Ã®":"i","Ã¯":"i","Ã´":"o","Ã¶":"o","Ã»":"u","Ã¹":"u","Ã¼":"u"},Bt=function(t){for(var e=t.trim().toLowerCase(),n=0,a=Object.entries(At);n<a.length;n++){var i=Object(R["a"])(a[n],2),o=i[0],r=i[1];e=e.replace(new RegExp(o,"g"),r)}return e=e.replace(/-{2,}/g,"-"),e},Nt={name:"QuestionView",components:{Product:dt,AnnotationCounter:kt,LoadingSpinner:bt,Cropper:M["a"]},data:function(){return{valueTag:It("value_tag"),valueTagInput:It("value_tag"),valueTagTimeout:null,currentQuestion:null,questionBuffer:[],remainingQuestionCount:0,lastAnnotations:[],sessionAnnotatedCount:0,insightTypesNames:Pt,selectedInsightType:zt(),imageRotation:0,seenInsightIds:new Set,sortByPopularity:!1,brandFilter:It("brand"),countryNames:qt,countryFilter:It("country"),imageZoomOptions:{toolbar:{rotateLeft:1,rotateRight:1}}}},watch:{valueTagInput:function(){var t=this;if(clearTimeout(this.valueTagTimeout),0==this.valueTagInput.length)return this.valueTag="",void St("value_tag");var e=this.valueTagInput.toLowerCase();this.valueTagTimeout=setTimeout((function(){t.valueTag=Bt(e),wt("value_tag",t.valueTag)}),1e3)},valueTag:function(){this.currentQuestion=null,this.questionBuffer=[],this.loadQuestions()},sortByPopularity:function(){this.currentQuestion=null,this.questionBuffer=[],this.loadQuestions()},countryFilter:function(){this.currentQuestion=null,this.questionBuffer=[],this.loadQuestions()},selectedInsightType:function(){this.updateInsightTypeUrlParam()}},methods:{clearValueTagInput:function(){this.valueTagInput=""},rotateImage:function(){window.console.log(this.imageRotation),0===this.imageRotation?this.imageRotation=90:90===this.imageRotation?this.imageRotation=180:180===this.imageRotation?this.imageRotation=270:270===this.imageRotation&&(this.imageRotation=0)},updateInsightTypeUrlParam:function(){wt("type",this.selectedInsightType)},updateLastAnnotations:function(t,e){this.lastAnnotations.push({question:t,annotation:e}),this.lastAnnotations.length>10&&this.lastAnnotations.shift()},selectInsightType:function(t){this.selectedInsightType=t,this.currentQuestion=null,this.questionBuffer=[],this.loadQuestions()},annotate:function(t){-1!==t&&(W.annotate(this.currentQuestion.insight_id,t),this.updateLastAnnotations(this.currentQuestion,t),this.remainingQuestionCount-=1,this.sessionAnnotatedCount+=1),this.updateCurrentQuestion(),!this.noRemainingQuestion&&this.questionBuffer.length<=2&&this.loadQuestions()},updateCurrentQuestion:function(){this.currentQuestion=null,this.questionBuffer.length>0?this.currentQuestion=this.questionBuffer.shift():window.console.error("question buffer is empty, cannot update current question!")},loadQuestions:function(){var t=this,e=this.sortByPopularity?"popular":"random",n=10;W.questions(e,this.selectedInsightType,this.valueTag,this.brandFilter,"en:world"!==this.countryFilter?this.countryFilter:null,n).then((function(e){t.remainingQuestionCount=e.data.count,0!=e.data.questions.length?(e.data.questions.forEach((function(e){t.seenInsightIds.has(e.insight_id)||(t.questionBuffer.push(e),t.seenInsightIds.add(e.insight_id))})),e.data.questions.length<n&&(t.questionBuffer.includes(Ot)||t.questionBuffer.push(Ot)),null===t.currentQuestion&&t.updateCurrentQuestion()):t.questionBuffer.includes(Ot)||t.questionBuffer.push(Ot)}))}},computed:{availableInsightTypes:function(){return Object.keys(Pt)},currentQuestionImageUrl:function(){return this.currentQuestion.source_image_url?this.currentQuestion.source_image_url:"https://static.openfoodfacts.org/images/image-placeholder.png"},imageRotationClassName:function(){return 90===this.imageRotation?"rotate-90":180===this.imageRotation?"rotate-180":270===this.imageRotation?"rotate-270":"rotation-0"},loading:function(){return!this.noRemainingQuestion&&null==this.currentQuestion},noRemainingQuestion:function(){return 1==this.questionBuffer.length&&this.questionBuffer[0]===Ot},currentQuestionBarcode:function(){return null!==this.currentQuestion&&this.currentQuestion!==Ot?this.currentQuestion.barcode:null},valueTagQuestionsURL:function(){if(null!==this.currentQuestion&&this.currentQuestion!==Ot&&"brand"===this.selectedInsightType){var t=new URLSearchParams;return t.append("type",this.selectedInsightType),t.append("value_tag",Bt(this.currentQuestion.value)),"/questions?".concat(t.toString())}return""}},mounted:function(){this.updateInsightTypeUrlParam(),this.loadQuestions();var t=this;window.addEventListener("keyup",(function(e){"BODY"==e.target.nodeName&&("k"===e.key&&t.annotate(-1),"n"===e.key&&t.annotate(0),"o"===e.key&&t.annotate(1),"p"===e.key&&t.rotateImage())}))}},Tt=Nt,$t=(n("5ccc"),Object(I["a"])(Tt,D,E,!1,null,"2f57942e",null)),Dt=$t.exports,Et=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"ui grid stackable"},[n("div",{staticClass:"four wide column centered"},[t.bufferIsEmpty?n("div",[t.loading?n("p",[t._v("Loading ...")]):n("p",[t._v("No remaining images")])]):n("div",{staticClass:"insight-column"},[n("h3",[t._v(t._s(t.productName))]),n("a",{staticClass:"ui button primary",attrs:{target:"_blank",href:t.productUrl}},[t._v(t._s(t.$t("questions.view")))]),n("a",{staticClass:"ui button",attrs:{target:"_blank",href:t.productEditUrl}},[t._v(t._s(t.$t("questions.edit")))]),n("div",{staticClass:"ui divider"}),n("viewer",{staticStyle:{height:"300px"},attrs:{options:t.imageZoomOptions}},[n("img",{class:[t.imageRotationClass],staticStyle:{"max-height":"300px","max-width":"300px"},attrs:{src:t.productBuffer[0]["image_nutrition_url"]}})])],1)]),n("div",{staticClass:"ten wide column centered"},[n("sui-table",{attrs:{celled:"",definition:""}},[n("sui-table-header",[n("sui-table-header-cell"),n("sui-table-header-cell",[t._v(t._s(t.$t("nutrition.table.value")))]),n("sui-table-header-cell",[t._v(t._s(t.$t("nutrition.table.ispresent")))])],1),t._l(t.currentProductData,(function(e){return n("sui-table-row",{key:e.id},[n("sui-table-cell",[t._v(t._s(t.$t("nutrition.nutriments."+e.id)))]),n("sui-table-cell",{staticStyle:{display:"flex"}},[n("sui-input",{staticStyle:{"flex-grow":"1"},attrs:{disabled:!e.visible,error:t.isInvalid(t.currentProductData[e.id]["data"])},model:{value:t.currentProductData[e.id]["data"],callback:function(n){t.$set(t.currentProductData[e.id],"data",n)},expression:"currentProductData[nutritiveValue.id]['data']"}}),t.getNutrimentUnits(e.id).length>1?n("sui-dropdown",{staticClass:"unit",staticStyle:{"min-width":"3rem"},attrs:{disabled:!e.visible,selection:"",placeholder:t.$t("nutrition.table.unit"),options:t.getNutrimentUnits(e.id)},model:{value:t.currentProductData[e.id]["unit"],callback:function(n){t.$set(t.currentProductData[e.id],"unit",n)},expression:"currentProductData[nutritiveValue.id]['unit']"}}):n("span",{staticClass:"unit"},[t._v(t._s(t.getNutrimentUnits(e.id)[0]))])],1),n("sui-table-cell",[n("sui-checkbox",{attrs:{name:"public",label:e.visible?t.$t("nutrition.present"):t.$t("nutrition.absent")},model:{value:t.currentProductData[e.id]["visible"],callback:function(n){t.$set(t.currentProductData[e.id],"visible",n)},expression:"currentProductData[nutritiveValue.id]['visible']"}})],1)],1)}))],2),n("div",[n("button",{staticClass:"ui button red annotate",attrs:{"data-tooltip":"Shortcut: d"},on:{click:function(e){return t.deleteProduct()}}},[t._v(" "+t._s(t.$t("nutrition.delete"))+" ")]),n("button",{staticClass:"ui button annotate",attrs:{"data-tooltip":"Shortcut: k"},on:{click:function(e){return t.skipProduct()}}},[t._v(" "+t._s(t.$t("nutrition.skip"))+" ")]),n("button",{staticClass:"ui button green annotate",attrs:{"data-tooltip":"Shortcut: v"},on:{click:function(e){return t.validate()}}},[t._v(" "+t._s(t.$t("nutrition.validate"))+" ")])])],1)])},Rt=[],Mt=n("1da1"),Gt=(n("96cf"),n("466d"),n("b0c0"),n("d31f")),Ft=function(){var t=Object(Mt["a"])(regeneratorRuntime.mark((function t(e){var n,a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=Math.floor(Math.random()*e),t.next=3,F()("".concat(V,"/state/photos-validated/state/nutrition-facts-to-be-completed/").concat(n,".json?fields=code,lang,image_nutrition_url,product_name"));case 3:return a=t.sent,i=a.data.products,t.abrupt("return",i);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),Ut={name:"NutritionView",components:{},data:function(){return{valueTagInput:"",imageZoomOptions:{toolbar:{rotateLeft:1,rotateRight:1}},loading:!1,productBuffer:[],currentProductData:{}}},computed:{productName:function(){return 0===this.productBuffer.length||null===this.productBuffer[0].product_name?"":this.productBuffer[0].product_name},productUrl:function(){return 0===this.productBuffer.length||null===this.productBuffer[0].code?"":it.getProductUrl(this.productBuffer[0].code)},productEditUrl:function(){return 0===this.productBuffer.length||null===this.productBuffer[0].code?"":it.getProductEditUrl(this.productBuffer[0].code)},bufferIsEmpty:function(){return 0===this.productBuffer.length}},methods:{isInvalid:function(t){return!t.match("^((<|>|<=|>=|~|.)*[0-9]+| *)$")},clearValueTagInput:function(){this.valueTagInput=""},addProducts:function(){var t=Object(Mt["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.loading=!0,t.next=3,Ft(20);case 3:e=t.sent,this.productBuffer=this.productBuffer.concat(e),this.loading=!1;case 6:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),skipProduct:function(){this.productBuffer.shift()},deleteProduct:function(){var t=this.productBuffer[0]["image_nutrition_url"],e=t.split("/").pop().split(".")[0];F.a.post("".concat(V,"/cgi/product_image_unselect.pl?"),new URLSearchParams("code=".concat(this.productBuffer[0].code,"&id=").concat(e)))},validate:function(){var t=this,e=Object.keys(this.currentProductData).filter((function(e){return!t.currentProductData[e].visible})),n=Object.keys(this.currentProductData).filter((function(e){return t.currentProductData[e]&&t.currentProductData[e].visible&&t.currentProductData[e].data&&t.isInvalid(t.currentProductData[e].data)&&t.currentProductData[e].data.length>0})).map((function(e){return{name:e,value:"".concat(t.currentProductData[e].data).concat(t.currentProductData[e].unit||""),quantity:t.currentProductData[e].data,unit:t.currentProductData[e].unit}}));F.a.post("".concat(V,"/cgi/product_jqm2.pl?"),new URLSearchParams("".concat(n.map((function(t){return"".concat(t.name,"=").concat(t.quantity,"&")})).join("")).concat(n.map((function(t){return t.unit?"".concat(t.name,"_unit=").concat(t.unit,"&"):""})).join("")).concat(e.map((function(t){return"".concat(t,'=""&')})).join(""),"code=").concat(this.productBuffer[0]["code"])))},resetProductData:function(){for(var t={},e=0,n=Object.keys(Gt);e<n.length;e++){var a=n[e];t[a]={id:a,data:"",unit:Gt[a],visible:!0}}this.currentProductData=t},getNutrimentUnits:function(t){switch(t){case"nutriment_energy-kcal":return["kcal"];case"nutriment_energy-kj":return["kJ"];default:return[{text:"g",value:"g"},{text:"mg",value:"mg"}]}}},watch:{productBuffer:function(t,e){t.length<=5&&!this.loading&&this.addProducts(),!t[0]||e[0]&&t[0].code===e[0].code||this.resetProductData()}},mounted:function(){this.addProducts();var t=this;window.addEventListener("keyup",(function(e){"BODY"==e.target.nodeName&&("k"===e.key&&t.skipProduct(),"v"===e.key&&t.validate())}))}},Vt=Ut,Qt=(n("1f91"),Object(I["a"])(Vt,Et,Rt,!1,null,"5dbd3b68",null)),Ht=Qt.exports,Kt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"ui grid stackable"},[n("div",{staticClass:"eight wide column centered"},[n("div",{staticClass:"filters"},[n("div",{staticClass:"column"},[n("select",{directives:[{name:"model",rawName:"v-model",value:t.country,expression:"country"}],on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.country=e.target.multiple?n:n[0]}}},[n("option",{attrs:{value:""}},[t._v("country")]),n("option",[t._v("Australia")]),n("option",[t._v("Austria")]),n("option",[t._v("Belgium")]),n("option",[t._v("Denmark")]),n("option",[t._v("France")]),n("option",[t._v("Germany")]),n("option",[t._v("Greece")]),n("option",[t._v("Italy")]),n("option",[t._v("Sweden")]),n("option",[t._v("Switzerland")]),n("option",[t._v("United Kingdom")]),n("option",[t._v("United States")])]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.contributor,expression:"contributor"}],attrs:{placeholder:"contributor"},domProps:{value:t.contributor},on:{input:function(e){e.target.composing||(t.contributor=e.target.value)}}})]),n("div",[n("button",{staticClass:"ui button",class:{positive:"baby-milks"===t.category},on:{click:function(e){return t.setCategory("baby-milks")}}},[t._v(" baby-milks ")]),n("button",{staticClass:"ui button",class:{positive:"waters"===t.category},on:{click:function(e){return t.setCategory("waters")}}},[t._v(" waters ")])]),n("button",{on:{click:t.search}},[t._v(" "+t._s(t.$t("nutrition.search"))+" ")]),n("button",{on:{click:t.toggleHistoryIsOpen}},[t._v(" "+t._s(t.$t("nutrition.history.open"))+" ")])]),t.bufferIsEmpty?n("div",[t.loading?n("p",[t._v("Loading ...")]):n("p",[t._v("No remaining images")])]):[n("h3",[t._v(t._s(t.productName))]),n("div",[n("a",{staticClass:"ui button primary",attrs:{target:"_blank",href:t.productUrl}},[t._v(t._s(t.$t("questions.view")))]),n("a",{staticClass:"ui button",attrs:{target:"_blank",href:t.productEditUrl}},[t._v(t._s(t.$t("questions.edit")))])]),n("div",{staticClass:"ui divider"}),0==t.step?[n("cropper",{ref:"cropper",staticClass:"imageDisplay",attrs:{src:t.imageURL,canvas:!1,checkOrientation:!1,crossOrigine:!1},on:{change:t.changeCropCoordinate}}),n("div",{staticStyle:{"text-align":"center"}},[n("button",{staticClass:"ui icon button",on:{click:t.rotateLeft}},[n("i",{staticClass:"undo icon"})]),n("button",{staticClass:"ui icon button",on:{click:t.rotateRight}},[n("i",{staticClass:"redo icon"})])])]:[n("div",{style:"width: min(50vw, 800px); height: calc(min(50vw, 800px) * "+(t.imageZoomOptions.coordinates?t.imageZoomOptions.coordinates.height/t.imageZoomOptions.coordinates.width:1)+")"},[n("interactiveImage",{attrs:{"v-if":t.imageZoomOptions.image,image:t.imageZoomOptions.image,coordinates:t.imageZoomOptions.coordinates,clickableBoxes:t.clickableBoxes,anotationToValidate:t.anotationToValidate,bestMatch:t.bestMatch,boxesHighlight:t.nutrimentToFill.boxes,attributedBoxesIds:t.attributedBoxesIds,onlyPredictions:t.useOnlyPredictions},on:{nutriPredictionAccept:t.nutriPredictionAccepted,nutriPredictionCancel:t.nutriPredictionCanceled,validatedBox:t.validateHumanAnnotation}})],1)]],n("div",{staticClass:"questionContainer annotateLine"},[n("sui-step-group",{attrs:{"step-number":"four"}},[n("sui-step",{attrs:{active:0==t.step,title:t.$t("nutrition.steps.1")}}),n("sui-step",{attrs:{active:1==t.step,title:t.$t("nutrition.steps.2")}}),n("sui-step",{attrs:{active:2==t.step||3==t.step,title:t.$t("nutrition.steps.3")}}),n("sui-step",{attrs:{active:4==t.step,title:t.$t("nutrition.steps.4")}})],1),1==t.step?[n("div",{staticClass:"line2"},[n("span",[t._v(t._s(t.$t("nutrition.basis")))]),n("sui-input",{directives:[{name:"focus",rawName:"v-focus"}],staticStyle:{width:"5rem"},attrs:{error:t.isInvalid(t.basisData["quantity"]),inputmode:"decimal"},model:{value:t.basisData["quantity"],callback:function(e){t.$set(t.basisData,"quantity",e)},expression:"basisData['quantity']"}}),n("span",{staticStyle:{"font-size":"1.5rem","margin-right":"0.5rem"}},[t._v("g/ml")]),n("sui-checkbox",{attrs:{label:t.$t("nutrition.servingSize")},model:{value:t.basisData["isServingSize"],callback:function(e){t.$set(t.basisData,"isServingSize",e)},expression:"basisData['isServingSize']"}})],1)]:t._e(),[n("div",{staticClass:"line2"},[0==t.step?n("p",[t._v(" "+t._s(t.$t("nutrition.instructions.cropTheTable"))+" ")]):t._e(),2==t.step?n("p",[t._v(" "+t._s(t.$t("nutrition.instructions.verifyNutrimentDetected"))+" ")]):t._e(),3==t.step?n("p",[t._v(" "+t._s(t.$t("nutrition.instructions.selectMissingNutriments"))+" ")]):t._e(),4==t.step?n("p",[t._v(" "+t._s(t.$t("nutrition.instructions.selectValue"))+" "),n("span",{staticClass:"nutrimentName"},[t._v(t._s(t.$t("nutrition.nutriments."+t.nutrimentToFill.id)))])]):t._e()])],n("div",{staticClass:"line4"},[n("button",{staticClass:"ui button annotate",class:{disabled:0===t.step},on:{click:function(e){return t.prevStep()}}},[t._v(" "+t._s(t.$t("nutrition.prev"))+" ")]),n("button",{staticClass:"ui button annotate",class:{disabled:!t.canGoNext},on:{click:function(e){return t.nextStep()}}},[t._v(" "+t._s(t.$t("nutrition.next"))+" ")])]),n("div",{staticClass:"line4"},[n("button",{staticClass:"ui button negative annotate",on:{click:function(e){return t.unselectPicture()}}},[t._v(" "+t._s(t.$t("nutrition.unselect_picture"))+" ")]),n("button",{staticClass:"ui button annotate",on:{click:function(e){return t.skipProduct()}}},[t._v(" "+t._s(t.$t("nutrition.skip"))+" ")]),n("button",{staticClass:"ui button positive annotate",class:{disabled:!t.canValidate},on:{click:function(e){return t.validate()}}},[t._v(" "+t._s(t.$t("nutrition.validate"))+" ")])])],2)],2),n("div",{staticClass:"eight wide column centered"},[n("div",{staticClass:"table"},[n("NutritionTable",{attrs:{nutrimentToFillIndex:t.nutrimentToFillIndex,selectLine:4===t.step},on:{setNurtiIndex:t.setNutrimentValueIndex},model:{value:t.currentProductData,callback:function(e){t.currentProductData=e},expression:"currentProductData"}})],1)]),n("sui-modal",{model:{value:t.historyIsOpen,callback:function(e){t.historyIsOpen=e},expression:"historyIsOpen"}},[n("sui-modal-header",[t._v(t._s(t.$t("nutrition.history.title")))]),n("sui-modal-content",{attrs:{scrolling:""}},[n("table",{staticClass:"ui celled table"},[n("thead",[n("tr",[n("th",[t._v(t._s(t.$t("nutrition.history.status")))]),n("th",[t._v(t._s(t.$t("nutrition.history.product name")))]),n("th"),n("th")])]),n("tbody",t._l(t.history,(function(e){return n("tr",{key:e.code,class:{positive:"VALIDATED"===e.status,negative:"SKIP"===e.status||"WRONG_IMAGE"===e.status}},[n("td",[t._v(" "+t._s(t.$t("nutrition.history."+e.status))+" ")]),n("td",[t._v(t._s(e.name))]),n("td",[n("a",{attrs:{target:"_blank",href:t.getProductUrl(e.code)}},[t._v(t._s(t.$t("nutrition.history.view")))])]),n("td",[n("a",{attrs:{target:"_blank",href:t.getProductEditUrl(e.code)}},[t._v(t._s(t.$t("nutrition.history.edit")))])])])})),0)])]),n("sui-modal-actions",[n("sui-button",{attrs:{positive:""},nativeOn:{click:function(e){return t.toggleHistoryIsOpen.apply(null,arguments)}}},[t._v(" "+t._s(t.$t("nutrition.history.close"))+" ")])],1)],1)],1)},Yt=[],Xt=n("ade3"),Wt=n("2909"),Jt=(n("a4d3"),n("e01a"),n("4e82"),n("5db7"),n("73d9"),n("a1f0"),n("bc3a")),Zt=n("0f86"),te=n("593e"),ee=te.distance,ne=te.closest,ae="https://static.openfoodfacts.org/images/products",ie=.75,oe=function(t,e){var n=Math.min(t.maxY-t.minY,e.maxY-e.minY),a=Math.min(t.maxY,e.maxY)-Math.max(t.minY,e.minY);return a/n>ie},re=function t(e,n,a){if(0===n.length)return null;var i=n[0];void 0===e[i]&&(e[i]={}),1===n.length?e[i]["nutriKey"]=a:t(e[i],n.slice(1),a)},se=function t(e){if(!Object.keys(Zt).includes(e))return t("en");var n={};return Object.keys(Zt[e]).forEach((function(t){Zt[e][t].forEach((function(e){var a=e.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase(),i=a.split(" ");re(n,i,t)}))})),n},ue=function(t,e){var n=e.minX,a=e.minY,i=e.maxX,o=e.maxY,r=0;if(t["boundingPoly"]["vertices"].forEach((function(t){var e=t.x,n=t.y;void 0!==e&&void 0!==n&&(r+=1)})),r<4)return!1;var s=!1;return t["boundingPoly"]["vertices"].forEach((function(t){var e=t.x,r=t.y;n<=e&&i>=e&&a<=r&&o>=r&&(s=!0)})),s},ce=function(t){var e={minX:-1,minY:-1,maxX:-1,maxY:-1};return t["boundingPoly"]["vertices"].forEach((function(t){var n=t.x,a=t.y;n&&n>e.maxX&&(e.maxX=n),a&&a>e.maxY&&(e.maxY=a),n&&(n<e.minX||-1===e.minX)&&(e.minX=n),a&&(a<e.minY||-1===e.minY)&&(e.minY=a)})),Object(b["a"])(Object(b["a"])({},t),e)},le=function(t){var e=t.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().replace(/,/gi,".").replace(/[^0-9a-z.><=~%]/gi,""),n=Object(Wt["a"])(e.matchAll(/[<|>|<|=|>|=|~]{0,1}[0-9]*[<|>|<|=|>|=|~|.]*[0-9]*g/g)).map((function(t){return t[0]})).filter((function(t){return"g"!==t})),a=Object(Wt["a"])(e.matchAll(/[<|>|<|=|>|=|~]{0,1}[0-9]*[<|>|<|=|>|=|~|.]*[0-9]*mg/g)).map((function(t){return t[0]})).filter((function(t){return"mg"!==t})),i=Object(Wt["a"])(e.matchAll(/[<|>|<|=|>|=|~]{0,1}[0-9]*[<|>|<|=|>|=|~|.]*[0-9]*mcg/g)).map((function(t){return t[0]})).filter((function(t){return"mcg"!==t})),o=Object(Wt["a"])(e.matchAll(/[<|>|<|=|>|=|~]{0,1}[0-9]*[<|>|<|=|>|=|~|.]*[0-9]*%/g)).map((function(t){return t[0]})).filter((function(t){return"%"!==t})),r=Object(Wt["a"])(e.matchAll(/[0-9]*[<|>|<|=|>|=|~|.]*[0-9]*kj/g)).map((function(t){return t[0]})).filter((function(t){return"kj"!==t})),s=Object(Wt["a"])(e.matchAll(/[0-9]*[<|>|<|=|>|=|~|.]*[0-9]*kcal/g)).map((function(t){return t[0]})).filter((function(t){return"kcal"!==t})),u=Object(Wt["a"])(e.matchAll(/[<|>|<|=|>|=|~]{0,1}[0-9]*[<|>|<|=|>|=|~|.]*[0-9]*/g)).map((function(t){return t[0]})).filter((function(t){return!["","<",">","<","=",">","=","~","."].includes(t)}));return{grams:n,milligrams:a,mcg:i,percents:o,kJ:r,kcal:s,all:u}};function de(t,e,n){var a=se(n),i=[],o=[];return Object.keys(e).forEach((function(n){var r=parseInt(n);if(!o.includes(r)){var s={},u=[r],c=a,l=r;while(void 0!==c&&null!==l){var d=t[l].description;d=d.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().replace(/[^a-z0-9]/g,""),void 0!==c[d]&&void 0!==c[d]["nutriKey"]&&(s.key=c[d]["nutriKey"],s.boxes=[].concat(u)),void 0!==c[d]?(c=c[d],l=e[l],u.push(l)):c=c[d]}i.push(Object(b["a"])(Object(b["a"])({},s),{},{text:s.boxes?s.boxes.map((function(e){return t[e].description.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().replace(/[^a-z0-9]/g,"")})).join(" "):t[r].description.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().replace(/[^a-z0-9]/g,"")})),s.boxes&&s.boxes.forEach((function(t){return o.push(t)}))}})),i}function ge(t,e){var n=[],a=[];return Object.keys(e).forEach((function(i){var o=parseInt(i),r=t[o];if(!a.includes(o)){a.push(o);var s=r.description,u=le(s),c=u.grams,l=u.milligrams,d=u.mcg,g=u.percents,m=u.kJ,h=u.kcal,p=u.all,f=o,b=[f],v=!0;while(p.length>0&&null!==e[f]&&v){v=!1;var _=le(s+t[e[f]].description),y=_.grams,C=_.milligrams,x=_.mcg,k=_.percents,w=_.kJ,S=_.kcal,I=_.all;(c.length<y.length||l.length<C.length||d.length<x.length||g.length<k.length||m.length<w.length||h.length<S.length)&&(v=!0,a.push(e[f]),b.push(e[f]),f=e[f],s+=t[f].description,c=y,l=C,d=x,g=k,m=w,h=S,p=I)}p.length>0&&n.push({boxesIndexes:[].concat(b),text:[].concat(Object(Wt["a"])(c),Object(Wt["a"])(l),Object(Wt["a"])(d),Object(Wt["a"])(g),Object(Wt["a"])(m),Object(Wt["a"])(h),Object(Wt["a"])(p))})}})),n}function me(t,e){var n=e.minX,a=e.minY,i=e.maxX,o=e.maxY,r=e.angle,s=e.width,u=e.height;while(r<0)r+=360;var c=t.boxes.map((function(t){return Object(b["a"])(Object(b["a"])({},t),{},{boundingPoly:Object(b["a"])(Object(b["a"])({},t.boundingPoly),{},{vertices:t.boundingPoly.vertices.map((function(t){var e=t.x,n=t.y;switch(r%360){case 90:return{x:u-n,y:e};case 180:return{x:s-e,y:u-n};case 270:return{x:n,y:s-e};default:return{x:e,y:n}}}))})})})).filter((function(t){return ue(t,{minX:n,minY:a,maxX:i,maxY:o})})).map((function(t){return ce(t)})).sort((function(t,e){return t.minY-e.minY})),l=c.map((function(t){return t.maxY-t.minY})).sort()[Math.floor(c.length/2)],d=Object(Wt["a"])(c.map((function(t,e){return e})));d.sort((function(t,e){return-c[t].minX+c[e].minX}));var g={};return d.forEach((function(t){var e=parseInt(t);g[e]=null;var n=e-1;while(null===g[e]&&n>=0&&c[n].maxY>c[e].minY)c[e].maxX-l<=c[n].minX&&c[e].maxX+l>=c[n].minX&&oe(c[e],c[n])&&(g[e]=n),n-=1;n=e+1;while(null===g[e]&&n<c.length&&c[n].minY<c[e].maxY)c[e].maxX-l<=c[n].minX&&c[e].maxX+l>=c[n].minX&&oe(c[e],c[n])&&(g[e]=n),n+=1})),{filteredBoxes:c,linkBoxes:g}}var he={getOCRdata:function(t){return Object(Mt["a"])(regeneratorRuntime.mark((function e(){var n,a,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Jt.get("".concat(ae,"/").concat(t.split(".jpg")[0],".json"));case 2:return n=e.sent,a=Object(R["a"])(n.data.responses,1),i=a[0].textAnnotations,e.abrupt("return",{lang:i[0]["locale"],text:i[0]["description"],boxes:i.slice(1)});case 6:case"end":return e.stop()}}),e)})))()},getData:function(t,e){var n=e.minX,a=e.minY,i=e.maxX,o=e.maxY,r=e.image,s=r.width,u=r.height,c=r.transforms.rotate,l=void 0===c?0:c,d=me(t,{minX:n,minY:a,maxX:i,maxY:o,angle:l,width:s,height:u}),g=d.filteredBoxes,m=d.linkBoxes;g.forEach((function(t,e){g[e]=Object(b["a"])({id:e},t)}));var h=ge(g,m),p=de(g,m,t.lang);return{filteredBoxes:g,values:h,nutriments:p}},bestMatch:function(t){var e=t.search,n=t.lang,a=void 0===n?"":n,i=t.except,o=void 0===i?[]:i;if(!e)return[];var r=Zt[a];r||(r={}),"en"!==a&&Object.keys(Zt["en"]).forEach((function(t){r[t]?Zt["en"][t].forEach((function(e){r[t].includes(e)||r[t].push(e)})):r[t]=Object(Wt["a"])(Zt["en"][t]),r[t]}));var s=e.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase();return Object.keys(r).filter((function(t){return!o.includes(t)&&!("nutriment_energy"===t&&o.includes("nutriment_energy-kj"))})).map((function(t){var e=ne(s,r[t].map((function(t){return t.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase()})));return{key:t,text:e,d:ee(s,e)}})).sort((function(t,e){return t.d-e.d})).slice(0,5)}},pe=he,fe=(n("f7aa"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"rootContainer"},[n("div",{ref:"root",staticClass:"vue-preview",style:t.style},[n("div",{ref:"wrapper",staticClass:"wrapper",style:t.wrapperStyle},[n("img",{directives:[{name:"show",rawName:"v-show",value:t.image&&t.image.src,expression:"image && image.src"}],ref:"image",staticClass:"image",style:t.imageStyle,attrs:{src:t.image&&t.image.src}}),n("svg",{staticClass:"image",style:t.svgStyle,attrs:{width:t.imageWidth,height:t.imageHeight}},[n("rect",{staticClass:"nutriHighlight",attrs:{x0:"0",y0:"0",width:t.imageWidth,height:t.imageHeight}}),t._l(t.clickableBoxes,(function(e,a){return n("g",{key:a},t._l(e.boxes,(function(e,i){return n("path",{key:a+"-"+i,class:{highlight:t.displayedBox.index===i,alreadyUsed:t.attributedBoxesIds.includes(e.id)},attrs:{d:t.boxBoundingPath(e)},on:{click:function(e){return t.displayBox(a)}}})})),0)})),t.anotationToValidate&&t.anotationToValidate.boxes?n("g",t._l(t.anotationToValidate.boxes,(function(e){return n("path",{key:e.minX,staticClass:"nutriHighlight",attrs:{d:t.boxBoundingPath(e)}})})),0):t._e(),t.boxesHighlight?n("g",t._l(t.boxesHighlight,(function(e){return n("path",{key:e.minX,staticClass:"boxHighlighted",attrs:{d:t.boxBoundingPath(e)}})})),0):t._e()],2)])]),t.displayedBox&&void 0!==t.displayedBox.values?n("div",{directives:[{name:"focus",rawName:"v-focus"}],staticClass:"anotation",style:t.interactiveElementStyle(t.displayedBox.boxes[t.displayedBox.boxes.length-1])},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.displayedBox.values,expression:"displayedBox.values"}],domProps:{value:t.displayedBox.values},on:{input:function(e){e.target.composing||t.$set(t.displayedBox,"values",e.target.value)}}}),t.onlyPredictions?[n("button",{on:{click:t.removeDisplayedBox}},[t._v("X")]),n("ol",{staticClass:"propositions"},t._l(t.potentialNutriments,(function(e){return n("li",{key:e.key},[n("button",{on:{click:function(n){return t.validateProposition(e.key)}}},[t._v(" "+t._s(e.key)+"("+t._s(e.text)+") ")])])})),0)]:[n("br"),n("button",{on:{click:t.removeDisplayedBox}},[t._v("X")]),n("button",{on:{click:t.validateValue}},[t._v("V")])]],2):t._e(),t.anotationToValidate&&t.anotationToValidate.boxes?n("div",{staticClass:"anotation",style:t.interactiveElementStyle(t.anotationToValidate.boxes[t.anotationToValidate.boxes.length-1])},[t._v(" "+t._s(t.anotationToValidate.text)+" "),n("button",{on:{click:t.cancelNutrimentPrediction}},[t._v("X")]),n("button",{on:{click:t.validateNutrimentPrediction}},[t._v("V")])]):t._e()])}),be=[],ve=(n("cb29"),function(t,e){return"M "+t.map((function(t){return"".concat(t.x," ").concat(t.y)})).join(" L ")+(e?" Z":"")}),_e=function(t){return Object(Wt["a"])(t).sort((function(t,e){return t.x==e.x?t.y-e.y:t.x-e.x})).map((function(t){return"(".concat(t.x,",").concat(t.y,")")})).join("")},ye=function(t,e,n){return(e.x-t.x)*(n.y-t.y)-(e.y-t.y)*(n.x-t.x)>0},Ce=function(t){var e=Object(Wt["a"])(t).sort((function(t,e){return t.x-e.x})),n=[0];while(n[n.length-1]!==n[0]||1===n.length)for(var a=n[n.length-1],i=0;i<e.length;i++)if(a!==i){var o=!0,r=0;while(r<e.length&&o)r!==a&&r!==i&&ye(e[a],e[i],e[r])&&(o=!1),r++;o&&n.push(i)}return n.slice(0,n.length).map((function(t){return e[t]}))},xe=function(t){var e=t.reduce((function(t,e){return{x:t.x+e.x,y:t.y+e.y}}),{x:0,y:0});return{x:e.x/t.length,y:e.y/t.length}},ke=function(t){var e={};return t.forEach((function(t,n){n>0&&(e[_e(t.boundingPoly.vertices)]={id:_e(t.boundingPoly.vertices),boxIndex:n,points:t.boundingPoly.vertices,path:ve(t.boundingPoly.vertices,!0),text:t.description,visible:!0,toDelete:!1})})),e},we=function(t){var e={};return Object.keys(t).forEach((function(t,n){e[t]=n})),Object.keys(t).forEach((function(n){var a=[].concat(Object(Wt["a"])(t[n]),[n]),i=a.map((function(t){return e[t]})),o=i.reduce((function(t,e){return Math.min(t,e)}),Object.keys(t).length);Object.keys(t).forEach((function(t){i.includes(e[t])&&(e[t]=o)}))})),e},Se=function(t,e){var n=we(t);0===e&&(e+=1);var a={};Object.keys(n).forEach((function(t){var e=n[t];void 0===a[e]?a[e]=[t]:a[e].push(t)}));var i={};return Object.keys(a).forEach((function(t){var n=a[t].reduce((function(t,n){return[].concat(Object(Wt["a"])(t),Object(Wt["a"])(e[n].points))}),[]),o=Object(Wt["a"])(a[t]).sort((function(t,e){return t<e?1:-1})).join("-");i[o]={path:ve(Ce(n),!0),points:n,text:"",visible:!0,id:o}})),i},Ie=function(t,e){var n=e>t?e:t,a=e<=t?e:t;return[n,a]},Oe=function(t,e,n,a,i){for(var o=Math.min(t,n),r=Math.min(e,a),s=Math.max(t,n),u=Math.max(e,a),c=0;c<i.length;c++)if(i[c].x>s||i[c].x<o||i[c].y>u||i[c].y<r)return!1;return!0};function Pe(t,e){var n=e*Math.PI/180;return{width:Math.abs(t.width*Math.cos(n))+Math.abs(t.height*Math.sin(n)),height:Math.abs(t.width*Math.sin(n))+Math.abs(t.height*Math.cos(n))}}function je(t){var e=t.rotate,n=t.flip,a=t.scaleX,i=t.scaleY,o="";return o+=" rotate(".concat(e,"deg) "),o+=" scaleX(".concat(a*(n.horizontal?-1:1),") "),o+=" scaleY(".concat(i*(n.vertical?-1:1),") "),o}var qe={props:{coordinates:{type:Object},transitions:{type:Object},image:{type:Object,default:function(){return{}}},imageClass:{type:String},width:{type:Number},height:{type:Number},onlyPredictions:{type:Boolean},clickableBoxes:{type:Array},anotationToValidate:{type:Object},bestMatch:{type:Function},boxesHighlight:{type:Array},attributedBoxesIds:{type:Array}},data:function(){return{calculatedImageSize:{width:0,height:0},calculatedSize:{width:0,height:0},displayedBox:{}}},computed:{style:function(){if(this.fill)return{};var t={};return this.width&&(t.width="".concat(this.size.width,"px")),this.height&&(t.height="".concat(this.size.height,"px")),this.transitions&&this.transitions.enabled&&(t.transition="".concat(this.transitions.time,"ms ").concat(this.transitions.timingFunction)),t},imageWidth:function(){return this.image.width},imageHeight:function(){return this.image.height},wrapperStyle:function(){var t={width:"".concat(this.size.width,"px"),height:"".concat(this.size.height,"px"),left:"calc(50% - ".concat(this.size.width/2,"px)"),top:"calc(50% - ".concat(this.size.height/2,"px)")};return this.transitions&&this.transitions.enabled&&(t.transition="".concat(this.transitions.time,"ms ").concat(this.transitions.timingFunction)),t},imageStyle:function(){if(this.coordinates&&this.image){var t=this.coordinates.width/this.size.width,e=Object(b["a"])(Object(b["a"])({rotate:0,flip:{horizontal:!1,vertical:!1}},this.image.transforms),{},{scaleX:1/t,scaleY:1/t}),n=this.imageSize.width,a=this.imageSize.height,i=Pe({width:n,height:a},e.rotate),o={width:"".concat(n,"px"),height:"".concat(a,"px"),left:"0px",top:"0px"},r={rotate:{left:(n-i.width)*e.scaleX/2,top:(a-i.height)*e.scaleY/2},scale:{left:(1-e.scaleX)*n/2,top:(1-e.scaleY)*a/2}};return o.transform="translate(\n\t\t\t\t".concat(-this.coordinates.left/t-r.rotate.left-r.scale.left,"px,").concat(-this.coordinates.top/t-r.rotate.top-r.scale.top,"px) ")+je(e),this.transitions&&this.transitions.enabled&&(o.transition="".concat(this.transitions.time,"ms ").concat(this.transitions.timingFunction)),o}return{}},svgStyle:function(){if(this.coordinates&&this.image){var t=this.coordinates.width/this.size.width,e=Object(b["a"])(Object(b["a"])({flip:{horizontal:!1,vertical:!1},rotate:0},this.image.transforms),{},{scaleX:1/t,scaleY:1/t}),n=Pe(this.imageSize,e.rotate),a=n.width,i=n.height,o={width:"".concat(a,"px"),height:"".concat(i,"px"),left:"0px",top:"0px",transformOrigin:"0 0"};return o.transform="translate(\n          ".concat(-this.coordinates.left*e.scaleX,"px,").concat(-this.coordinates.top*e.scaleY,"px) ")+je(Object(b["a"])(Object(b["a"])({},e),{},{rotate:0})),this.transitions&&this.transitions.enabled&&(o.transition="".concat(this.transitions.time,"ms ").concat(this.transitions.timingFunction)),o}return{}},size:function(){return{width:this.width||this.calculatedSize.width,height:this.height||this.calculatedSize.height}},imageSize:function(){return{width:this.image.width||this.calculatedImageSize.width,height:this.image.height||this.calculatedImageSize.height}},potentialNutriments:function(){if(console.log("potentialNutriments"),console.log(this.displayedBox),!this.displayedBox||!this.displayedBox.values)return[];var t=this.$props.bestMatch({search:this.displayedBox.values});return console.log(t),t}},watch:{clickableBoxes:function(){this.displayedBox={}},image:function(t){(t.width||t.height)&&this.onChangeImage()}},mounted:function(){var t=this;this.onChangeImage(),this.$refs.image.addEventListener("load",(function(){t.refreshImage()})),window.addEventListener("resize",this.refresh),window.addEventListener("orientationchange",this.refresh)},destroyed:function(){window.removeEventListener("resize",this.refresh),window.removeEventListener("orientationchange",this.refresh)},methods:{log:function(t){console.log(t.target),console.log(t),console.log({x:t.offsetX,y:t.offsetY}),this.displayedBox={index:null,boxes:[{maxX:t.offsetX,minY:t.offsetY}],values:""}},boxBoundingPath:function(t){return ve(t.boundingPoly.vertices,!0)},displayBox:function(t){this.displayedBox&&this.displayedBox.index===t?this.displayedBox={}:(console.log(Object(b["a"])({index:t},this.$props.clickableBoxes[t])),this.displayedBox=Object(b["a"])({index:t},this.$props.clickableBoxes[t]))},removeDisplayedBox:function(){this.displayedBox={}},validateProposition:function(t){this.$emit("validatedBox",Object(b["a"])(Object(b["a"])({},this.displayedBox),{},{key:t})),this.displayedBox={}},validateValue:function(){this.$emit("validatedBox",Object(b["a"])({},this.displayedBox)),this.displayedBox={}},validateNutrimentPrediction:function(){this.$emit("nutriPredictionAccept")},cancelNutrimentPrediction:function(){this.$emit("nutriPredictionCancel")},interactiveElementStyle:function(t){var e=t.maxX,n=t.minY;if(this.coordinates&&this.image){var a={left:"".concat((e-this.coordinates.left)*this.size.width/this.coordinates.width,"px"),top:"".concat((n-this.coordinates.top)*this.size.height/this.coordinates.height,"px")};return a}return{}},refreshImage:function(){var t=this.$refs.image;this.calculatedImageSize.height=t.naturalHeight,this.calculatedImageSize.width=t.naturalWidth},refresh:function(){var t=this.$refs.root;this.width||(this.calculatedSize.width=t.clientWidth),this.height||(this.calculatedSize.height=t.clientHeight)},onChangeImage:function(){var t=this.$refs.image;t&&t.complete&&this.refreshImage(),this.refresh()}}},Le=qe,ze=(n("39b9"),Object(I["a"])(Le,fe,be,!1,null,"d9448178",null)),Ae=ze.exports,Be=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("sui-table",{attrs:{celled:"",definition:""}},[n("sui-table-header",[n("sui-table-header-cell"),n("sui-table-header-cell",[t._v(t._s(t.$t("nutrition.value")))])],1),t._l(t.sortedKeys,(function(e,a){return n("sui-table-row",{key:e},[n("sui-table-cell",{attrs:{selectable:t.selectLine&&a!==t.nutrimentToFillIndex,warning:t.selectLine&&a===t.nutrimentToFillIndex},on:{click:function(e){return t.updateNutriIndexToFill(a)}}},[t._v(t._s(t.$t("nutrition.nutriments."+e)))]),n("sui-table-cell",{staticStyle:{display:"flex"},attrs:{negative:t.isInvalid(t.value[e]["data"])}},[n("input",{staticStyle:{"flex-grow":"1"},domProps:{value:t.value[e]["data"]},on:{input:function(n){t.updateValue(e)(n)}}}),t.getNutrimentUnits(e).length>1?n("select",{staticClass:"unit",staticStyle:{"min-width":"3rem"},attrs:{selection:"",placeholder:t.$t("nutrition.table.unit"),options:t.getNutrimentUnits(e)},domProps:{value:t.value[e]["unit"]},on:{change:function(n){t.updateUnit(e)(n)}}},t._l(t.getNutrimentUnits(e),(function(e){return n("option",{key:e},[t._v(t._s(e))])})),0):n("span",{staticClass:"unit"},[t._v(t._s(t.getNutrimentUnits(e)[0]))])]),n("sui-table-cell",[n("button",{on:{click:function(n){return t.remove(e)}}},[t._v(" X ")])])],1)}))],2)},Ne=[],Te={props:{value:Object,nutrimentToFillIndex:Number,selectLine:Boolean},model:{prop:"value",event:"input"},computed:{sortedKeys:function(){var t=this;return Object.keys(this.$props.value).sort((function(e,n){return t.$props.value[e].y-t.$props.value[n].y}))}},methods:{isInvalid:function(t){return!t.match("^((<|>|<=|>=|~|.)*[0-9]+| *)$")},getNutrimentUnits:function(t){switch(t){case"nutriment_energy-kcal":return["kcal"];case"nutriment_energy-kj":return["kJ"];case"nutriment_alcohol":return[];case"nutriment_ph":return[];default:return["g","mg","Âµg","IU"]}},remove:function(t){var e=Object.assign({},this.$props.value);delete e[t],this.$emit("input",e)},updateUnit:function(t){var e=this;return function(n){e.$emit("input",Object(b["a"])(Object(b["a"])({},e.$props.value),{},Object(Xt["a"])({},t,Object(b["a"])(Object(b["a"])({},e.$props.value[t]),{},Object(Xt["a"])({},"unit",n.target.value)))))}},updateValue:function(t){var e=this;return function(n){e.$emit("input",Object(b["a"])(Object(b["a"])({},e.$props.value),{},Object(Xt["a"])({},t,Object(b["a"])(Object(b["a"])({},e.$props.value[t]),{},Object(Xt["a"])({},"data",n.target.value)))))}},updateNutriIndexToFill:function(t){this.$props.selectLine&&this.$emit("setNurtiIndex",t)}}},$e=Te,De=(n("f4dd"),Object(I["a"])($e,Be,Ne,!1,null,"19f70efe",null)),Ee=De.exports,Re="SEEN_CODES",Me=function(){var t=Object(Mt["a"])(regeneratorRuntime.mark((function t(e){var n,a,i,o,r,s,u,c,l,d,g,m=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n=m.length>1&&void 0!==m[1]?m[1]:"",a=m.length>2&&void 0!==m[2]?m[2]:"",i=m.length>3&&void 0!==m[3]?m[3]:"",o=m.length>4&&void 0!==m[4]?m[4]:"",!o){t.next=12;break}return t.next=7,F()(it.getNutritionToFillUrl({page:e,country:n,category:i,creator:a,code:o}));case 7:return r=t.sent,s=r.data.product,t.abrupt("return",[s]);case 12:return t.next=14,F()(it.getNutritionToFillUrl({page:e,country:n,category:i,creator:a}));case 14:return u=t.sent,c=u.data,l=c.products,d=c.count,g=c.page_size,t.abrupt("return",[l,Math.ceil(d/g)]);case 20:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),Ge={name:"NutritionView",components:{Cropper:M["a"],InteractiveImage:Ae,NutritionTable:Ee},data:function(){return{loading:!1,productBuffer:[],currentProductData:{},basisData:{quantity:"100",isServingSize:!1},nutritiveId:-2,imageZoomOptions:{coordinates:null,image:null},extracted:null,step:0,nutritionPredictionIndex:0,nutrimentToFillIndex:0,country:"",contributor:"",category:"",history:[],historyIsOpen:!1,nextPage:1}},computed:{productCode:function(){return 0===this.productBuffer.length||null===this.productBuffer[0].code?"":this.productBuffer[0].code},productName:function(){return 0===this.productBuffer.length||null===this.productBuffer[0].product_name?"":this.productBuffer[0].product_name},productUrl:function(){return 0===this.productBuffer.length||null===this.productBuffer[0].code?"":it.getProductUrl(this.productBuffer[0].code)},productEditUrl:function(){return 0===this.productBuffer.length||null===this.productBuffer[0].code?"":it.getProductEditUrl(this.productBuffer[0].code)},productLang:function(){return 0===this.productBuffer.length||null===this.productBuffer[0].lang?"":this.productBuffer[0].lang},imageURL:function(){if(0===this.productBuffer.length||null===this.productBuffer[0].image_nutrition_url)return"";var t=this.productBuffer[0].images["nutrition_".concat(this.productBuffer[0].lang)].imgid;return"".concat(this.productBuffer[0]["image_nutrition_url"].split("nutrition_")[0]).concat(t,".jpg")},bufferIsEmpty:function(){return 0===this.productBuffer.length},proposedNutriments:function(){return""},boxes:function(){return this.extracted&&this.extracted.filteredBoxes?this.extracted.filteredBoxes:[]},clickableBoxes:function(){var t=this;return 3===this.step?this.extracted.filteredBoxes.map((function(t){return{boxes:[Object(b["a"])({},t)],values:t.description}})):4===this.step?this.extracted.values.map((function(e){var n=e.boxesIndexes,a=e.text;return{boxes:n.map((function(e){return t.extracted.filteredBoxes[e]})),values:a[0]}})):[]},anotationToValidate:function(){var t=this;return 2!==this.step?{}:{text:this.extracted.nutriments[this.nutritionPredictionIndex]["text"],key:this.extracted.nutriments[this.nutritionPredictionIndex]["key"],boxes:this.extracted.nutriments[this.nutritionPredictionIndex]["boxes"].map((function(e){return t.extracted.filteredBoxes[e]}))}},currentValue:function(){return!this.extracted||!this.extracted.values||this.nutritiveId<0||this.nutritiveId>=this.extracted.values.length?{}:this.extracted.values[this.nutritiveId]},nutriKeys:function(){var t=this;return Object.keys(this.currentProductData).sort((function(e,n){return t.currentProductData[e].y-t.currentProductData[n].y}))},useOnlyPredictions:function(){return 3===this.step},nutrimentToFill:function(){if(4!==this.step)return{};var t=this.nutriKeys[this.nutrimentToFillIndex];return this.currentProductData[t]},attributedBoxesIds:function(){var t=this;return[].concat(Object(Wt["a"])(Object.keys(this.currentProductData).flatMap((function(e){return t.currentProductData[e].boxes.map((function(t){return t.id}))}))),Object(Wt["a"])(Object.keys(this.currentProductData).flatMap((function(e){return t.currentProductData[e].valueBoxes?t.currentProductData[e].valueBoxes.map((function(t){return t.id})):[]}))))},canValidate:function(){return 4===this.step},canGoNext:function(){return 4!==this.step&&(3!==this.step||0!==Object.keys(this.currentProductData).length)}},methods:{bestMatch:function(t){var e=t.search,n=t.lang,a=void 0===n?"":n;return 3!==this.step?[]:pe.bestMatch({search:e,lang:a,except:Object.keys(this.currentProductData)})},prevStep:function(){return 1===this.step?(this.resetProductData(),null):2==this.step?(this.step-=1,null):3==this.step?(this.step-=2,null):4==this.step?(this.step-=1,null):void 0},nextStep:function(){this.step+=1,1===this.step&&(this.extracted=Object(b["a"])({},pe.getData(this.productBuffer[0].ocrData,this.imageZoomOptions)),console.log(this.extracted)),2===this.step&&this.nextPrediction()},nextPrediction:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=this.nutritionPredictionIndex;t||(e+=1);while(e<this.extracted.nutriments.length&&(!this.extracted.nutriments[e].key||void 0!==this.currentProductData[this.extracted.nutriments[e].key]))e+=1;e==this.extracted.nutriments.length?this.nextStep():this.nutritionPredictionIndex=e},nutriPredictionAccepted:function(){var t=this,e=this.extracted.nutriments[this.nutritionPredictionIndex],n=e.key,a=e.boxes,i=[];"nutriment_energy"===n?(i.push("nutriment_energy-kj"),i.push("nutriment_energy-kcal")):i.push(n);var o=this.boxes;i.forEach((function(e){t.currentProductData=Object(b["a"])(Object(b["a"])({},t.currentProductData),{},Object(Xt["a"])({},e,{id:e,data:"",unit:Gt[e],x:Math.min.apply(Math,Object(Wt["a"])(a.map((function(t){return o[t].minX})))),y:Math.min.apply(Math,Object(Wt["a"])(a.map((function(t){return o[t].minY})))),boxes:Object(Wt["a"])(a.map((function(t){return o[t]}))),valueBoxes:[]}))})),this.nextPrediction(!1)},nutriPredictionCanceled:function(){this.nextPrediction(!1)},validateHumanAnnotation:function(t){var e=this;if(3===this.step){var n=t.key,a=t.boxes,i=[];"nutriment_energy"===n?(i.push("nutriment_energy-kj"),i.push("nutriment_energy-kcal")):i.push(n),i.forEach((function(t){e.currentProductData=Object(b["a"])(Object(b["a"])({},e.currentProductData),{},Object(Xt["a"])({},t,{id:t,data:"",unit:Gt[t],x:Math.min.apply(Math,Object(Wt["a"])(a.map((function(t){return t.minX})))),y:Math.min.apply(Math,Object(Wt["a"])(a.map((function(t){return t.minY})))),boxes:Object(Wt["a"])(a.map((function(t){return Object(b["a"])({},t)}))),valueBoxes:[]}))}))}else if(4===this.step){var o=t.values,r=t.boxes,s=o.toLowerCase().match("^((<|>|<=|>=|~|.)*[0-9]+| *)").filter((function(t){return""!==t}))[0],u=o.toLowerCase().match(/[a-z]*/g).filter((function(t){return""!==t}))[0];if("kj"===u&&(u="kJ"),this.currentProductData=Object(b["a"])(Object(b["a"])({},this.currentProductData),{},Object(Xt["a"])({},this.nutrimentToFill.id,Object(b["a"])(Object(b["a"])({},this.currentProductData[this.nutrimentToFill.id]),{},{valueBoxes:Object(Wt["a"])(r.map((function(t){return Object(b["a"])({},t)}))),data:s,unit:u}))),!1===this.nutriKeys.reduce((function(t,n){return t&&!!e.currentProductData[n].data}),!0)){var c=(this.nutrimentToFillIndex+1)%this.nutriKeys.length;while(c!==this.nutrimentToFillIndex&&this.currentProductData[this.nutriKeys[c]].data)c=(c+1)%this.nutriKeys.length;this.nutrimentToFillIndex=c}}},setNutrimentValueIndex:function(t){this.nutrimentToFillIndex=t},rotateLeft:function(){this.$refs.cropper.rotate(-90)},rotateRight:function(){this.$refs.cropper.rotate(90)},setCategory:function(t){this.category===t?this.category="":this.category=t},isInvalid:function(t){return!t.match("^((<|>|<=|>=|~|.)*[0-9]+| *)$")},getProductUrl:function(t){return it.getProductUrl(t)},getProductEditUrl:function(t){return it.getProductEditUrl(t)},toggleHistoryIsOpen:function(){this.historyIsOpen=!this.historyIsOpen},changeCropCoordinate:function(t){var e=t.coordinates,n=t.image;this.imageZoomOptions=Object(b["a"])(Object(b["a"])({},this.imageZoomOptions),{},{coordinates:e,image:n,minX:e.left,maxX:e.left+e.width,minY:e.top,maxY:e.top+e.height})},addProducts:function(){var t=Object(Mt["a"])(regeneratorRuntime.mark((function t(e,n,a){var i,o,r,s,u,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!this.$route.params.code){t.next=9;break}return this.loading=!0,t.next=4,Me(1,e,n,a,this.$route.params.code);case 4:i=t.sent,this.productBuffer=Object(Wt["a"])(i),this.loading=!1,t.next=20;break;case 9:return this.loading=!0,t.next=12,Me(this.nextPage,e,n,a);case 12:o=t.sent,r=Object(R["a"])(o,2),s=r[0],u=r[1],this.nextPage=1+Math.floor(u*Math.random()),c=JSON.parse(localStorage.getItem(Re)||"[]"),this.productBuffer=this.productBuffer.concat(s.filter((function(t){var e=t.code;return!c.includes(e)}))),this.loading=!1;case 20:case"end":return t.stop()}}),t,this)})));function e(e,n,a){return t.apply(this,arguments)}return e}(),replaceProducts:function(){var t=Object(Mt["a"])(regeneratorRuntime.mark((function t(e,n,a){var i,o,r,s,u;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.loading=!0,t.next=3,Me(1,e,n,a);case 3:i=t.sent,o=Object(R["a"])(i,2),r=o[0],s=o[1],this.nextPage=1+Math.floor(s*Math.random()),u=JSON.parse(localStorage.getItem(Re)||"[]"),this.productBuffer=Object(Wt["a"])(r).filter((function(t){var e=t.code;return!u.includes(e)})),this.loading=!1;case 11:case"end":return t.stop()}}),t,this)})));function e(e,n,a){return t.apply(this,arguments)}return e}(),unselectPicture:function(){F.a.post("https://world.openfoodfacts.org/cgi/product_image_unselect.pl?",new URLSearchParams("code=".concat(this.productBuffer[0]["code"],"&id=nutrition").concat(this.productBuffer[0].image_nutrition_url.split("nutrition")[1].split(".")[0]))),this.skipProduct("WRONG_IMAGE")},skipProduct:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"SKIP";this.history.push({code:this.productCode,name:this.productName,status:t});var e=JSON.parse(localStorage.getItem(Re)||"[]").slice(0,1e3);localStorage.setItem(Re,JSON.stringify([this.productCode].concat(Object(Wt["a"])(e)))),this.productBuffer.shift()},getBasisTextForAPI:function(){return this.basisData.quantity&&!this.isInvalid(this.basisData.quantity)?this.basisData.isServingSize?"nutrition_data_per=serving&serving_size=".concat(this.basisData.quantity,"g"):"nutrition_data_per=".concat(this.basisData.quantity,"g"):""},validate:function(){var t=this;this.history.push({code:this.productCode,name:this.productName,status:"VALIDATED"});var e=JSON.parse(localStorage.getItem(Re)||"[]").slice(0,1e3);localStorage.setItem(Re,JSON.stringify([this.productCode].concat(Object(Wt["a"])(e))));var n=Object.keys(this.currentProductData).filter((function(e){return t.currentProductData[e]&&t.currentProductData[e].data&&!t.isInvalid(t.currentProductData[e].data)&&t.currentProductData[e].data.length>0})).map((function(e){return{name:e,value:"".concat(t.currentProductData[e].data).concat(t.currentProductData[e].unit||""),quantity:t.currentProductData[e].data,unit:t.currentProductData[e].unit}})),a=Object.keys(this.currentProductData).filter((function(e){return t.currentProductData[e]&&!t.currentProductData[e].data})).map((function(t){return{name:t,value:"",quantity:"",unit:""}})),i=this.getBasisTextForAPI();F.a.post("".concat(V,"/cgi/product_jqm2.pl?"),new URLSearchParams("".concat(n.map((function(t){return"".concat(t.name,"=").concat(t.quantity,"&")})).join("")).concat(n.map((function(t){return t.unit?"".concat(t.name,"_unit=").concat(t.unit,"&"):""})).join("")).concat(a.map((function(t){return"".concat(t,'=""&')})).join("")).concat(i?"".concat(i,"&"):"","code=").concat(this.productBuffer[0]["code"])));var o={};n.forEach((function(t){o[t.name]="".concat(t.quantity,"&")})),this.productBuffer.shift()},resetProductData:function(){this.currentProductData={},this.basisData={quantity:"100",isServingSize:!1},this.extracted=null,this.step=0,this.nutritionPredictionIndex=0,this.nutrimentToFillIndex=0},search:function(){this.replaceProducts(this.country,this.contributor,this.category)}},watch:{productCode:function(){var t=this;if(this.resetProductData(),this.productBuffer.length<=5&&!this.loading&&this.addProducts(this.country,this.contributor,this.category),this.productBuffer[0]&&this.productBuffer[0].image_nutrition_url&&this.productBuffer[0].lang){var e=this.productBuffer[0].images["nutrition_".concat(this.productBuffer[0].lang)].imgid,n="".concat(this.productBuffer[0].image_nutrition_url.split("nutrition")[0].split("products")[1]).concat(e,".jpg"),a=this.productBuffer[0].code;pe.getOCRdata(n).then((function(n){t.productBuffer[0].code===a&&(t.productBuffer[0]=Object(b["a"])(Object(b["a"])({},t.productBuffer[0]),{},{ocrData:n,sizes:{full:Object(b["a"])({},t.productBuffer[0].images[e].sizes.full),small:Object(b["a"])({},t.productBuffer[0].images[e].sizes["400"])}}))})).catch((function(){t.productBuffer[0].code===a&&t.skipProduct()}))}},nutriKeys:function(){this.nutrimentToFillIndex>=this.nutriKeys.length&&(this.nutrimentToFillIndex=this.nutrimentToFillIndex%this.nutriKeys.length||0)}},mounted:function(){this.addProducts()}},Fe=Ge,Ue=(n("792b"),Object(I["a"])(Fe,Kt,Yt,!1,null,"9f152366",null)),Ve=Ue.exports,Qe=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"app"},[n("div",{staticClass:"scollable"},[n("p",{staticClass:"explanations"},[t._v(t._s(this.messages[this.currentState]))]),n("div",{staticClass:"imageContainer",on:{click:function(e){return t.click("")}}},[n("img",{attrs:{src:t.urlImg}}),n("svg",{class:{desactivateListenersInside:t.isDraggingCropRectangle},attrs:{width:t.imageWidth,height:t.imageHeight},on:{mousemove:t.moveAt,mouseleave:function(e){return e.stopPropagation(),t.stopDragging.apply(null,arguments)},mouseup:function(e){return e.stopPropagation(),t.stopDragging.apply(null,arguments)}}},[t._l(t.visibleBoxes,(function(e){return n("path",{key:"box-"+e.id,staticClass:"box",class:{toDelete:e.toDelete,selectable:t.currentState>=0},attrs:{d:e.path},on:{click:function(n){n.stopPropagation(),t.currentState>=0&&t.click(e.id,n)},mouseover:function(n){t.currentState>=0&&t.mouseover(e.id)}}})})),t.currentLinks?n("path",{staticClass:"currentLink",attrs:{d:t.currentLinks}}):t._e(),t._l(t.annotations.currentPath,(function(e){return n("circle",{key:"creationCenter-"+e,staticClass:"currentBoxesCenter",attrs:{cx:t.getCenter(t.boxes[e].points).x,cy:t.getCenter(t.boxes[e].points).y,r:"5"}})})),t._l(t.annotations.memorizedGraph,(function(e,a){return n("g",{key:"node-group-"+a},[t._l(e,(function(e){return n("g",{key:"savedLink-"+a+" - "+e},[n("line",{staticClass:"helpLink",class:{noPointerEvent:t.keyIsDown,youWantToDelete:!t.keyIsDown},attrs:{x1:t.getCenter(t.boxes[a].points).x,y1:t.getCenter(t.boxes[a].points).y,x2:t.getCenter(t.boxes[e].points).x,y2:t.getCenter(t.boxes[e].points).y},on:{click:function(n){return n.stopPropagation(),t.clickLink(a,e)}}}),n("line",{staticClass:"savedLink",attrs:{x1:t.getCenter(t.boxes[a].points).x,y1:t.getCenter(t.boxes[a].points).y,x2:t.getCenter(t.boxes[e].points).x,y2:t.getCenter(t.boxes[e].points).y}})])})),n("circle",{class:{youWantToDeleteBoxCenter:!t.keyIsDown,noPointerEvent:t.keyIsDown},attrs:{cx:t.getCenter(t.boxes[a].points).x,cy:t.getCenter(t.boxes[a].points).y,r:"15"},on:{click:function(e){return e.stopPropagation(),t.clickNode(a)}}}),n("circle",{staticClass:"savedBoxesCenter",attrs:{cx:t.getCenter(t.boxes[a].points).x,cy:t.getCenter(t.boxes[a].points).y,r:"5"}})],2)})),t.showSavedLines?n("g",{class:{unfill:t.canValidate}},t._l(t.savedLines,(function(e,a){return n("g",{key:"saved-line-"+a,staticClass:"validatedGroup validatedLine"},[n("path",{attrs:{d:e.path}}),t.canNotValidate?n("text",{attrs:{x:e.center.x,y:e.center.y,"dominant-baseline":"middle","text-anchor":"middle"}},[t._v(" "+t._s("line : "+a)+" ")]):t._e()])})),0):t._e(),t.showSavedColumns?n("g",{class:{unfill:t.canValidate}},t._l(t.savedColumns,(function(e,a){return n("g",{key:"saved-column-"+a,staticClass:"validatedGroup validatedColumn"},[n("path",{attrs:{d:e.path}}),t.canNotValidate?n("text",{attrs:{x:e.center.x,y:e.center.y,"dominant-baseline":"middle","text-anchor":"middle"}},[t._v(" "+t._s("column : "+a)+" ")]):t._e()])})),0):t._e(),t.annotations.keyIsDown?n("line",{staticClass:"currentLink",attrs:{x1:""+t.cursor.x,y1:""+t.cursor.y,x2:""+t.annotations.lastElement.x,y2:""+t.annotations.lastElement.y}}):t._e(),t._l(t.convexHalls,(function(t,e){return n("path",{key:"convexHalls-"+e,staticClass:"convexhall",attrs:{d:t.path}})})),t.showCorppingRectangle?n("g",{staticClass:"croppingRectangle"},[n("path",{attrs:{d:"M "+t.cropRectangle.start.x+" "+t.cropRectangle.start.y+" L\n        "+t.cropRectangle.start.x+" "+t.cropRectangle.end.y+" L\n        "+t.cropRectangle.end.x+" "+t.cropRectangle.end.y+" L "+t.cropRectangle.end.x+"\n        "+t.cropRectangle.start.y+" Z"}}),n("circle",{attrs:{cx:t.cropRectangle.start.x,cy:t.cropRectangle.start.y,r:"10"},on:{mousedown:function(e){return e.stopPropagation(),t.startDraggingStart.apply(null,arguments)}}}),n("circle",{attrs:{cx:t.cropRectangle.end.x,cy:t.cropRectangle.end.y,r:"10"},on:{mousedown:function(e){return e.stopPropagation(),t.startDraggingEnd.apply(null,arguments)}}})]):t._e()],2),n("div",{staticClass:"subActions"},[n("button",{on:{click:t.previousStep}},[t._v("Prev (p)")]),n("button",{on:{click:t.nextStep}},[t._v("Next (n)")])]),n("div",{staticClass:"checkboxContainer"},[n("div",{staticClass:"ui checkbox"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.dataQuality,expression:"dataQuality"}],attrs:{type:"checkbox",name:"perfect-data",id:"perfect-data",value:"perfect-data"},domProps:{checked:Array.isArray(t.dataQuality)?t._i(t.dataQuality,"perfect-data")>-1:t.dataQuality},on:{change:function(e){var n=t.dataQuality,a=e.target,i=!!a.checked;if(Array.isArray(n)){var o="perfect-data",r=t._i(n,o);a.checked?r<0&&(t.dataQuality=n.concat([o])):r>-1&&(t.dataQuality=n.slice(0,r).concat(n.slice(r+1)))}else t.dataQuality=i}}}),n("label",{attrs:{for:"perfect-data"}},[t._v("The text recognition is perfect")])]),n("div",{staticClass:"ui checkbox"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.dataQuality,expression:"dataQuality"}],attrs:{type:"checkbox",name:"bad-data",id:"bad-data",value:"bad-data"},domProps:{checked:Array.isArray(t.dataQuality)?t._i(t.dataQuality,"bad-data")>-1:t.dataQuality},on:{change:function(e){var n=t.dataQuality,a=e.target,i=!!a.checked;if(Array.isArray(n)){var o="bad-data",r=t._i(n,o);a.checked?r<0&&(t.dataQuality=n.concat([o])):r>-1&&(t.dataQuality=n.slice(0,r).concat(n.slice(r+1)))}else t.dataQuality=i}}}),n("label",{attrs:{for:"bad-data"}},[t._v("Some words are missing")])])]),n("div",{staticClass:"actions"},[n("button",{on:{click:t.skip}},[t._v("skip (k)")]),n("button",{class:{canValidate:t.canValidate,disabled:!t.canValidate},on:{click:t.validate}},[t._v(" validate (v) ")])])])])])},He=[],Ke=(n("c740"),n("7db0"),{"-1":"DÃ©placer le rectangle pour le faire contenir le tableau",0:"Merci de regrouper entre elles les boÃ®tes faisant partie d'une mÃªme case du tableau",1:"Si des boites rouges font partie du tableau, merci de les ajouter (vous pouvez sÃ©lectionner une case seule)",2:"Reliez entre elles les cellules d'une mÃªme ligne",3:"Reliez entre elles les cellules d'une mÃªme colonne"}),Ye={name:"TableAnnotationView",components:{},data:function(){return{urlImg:null,dataQuality:[],messages:Ke,loading:!1,currentState:-1,boxes:[],imageHeight:0,imageWidth:0,insightId:null,batchOfInsights:[],annotations:{annnotated:!1,keyIsDown:!1,currentPath:[],memorizedGraph:{},lastElement:{x:0,y:0}},cropRectangle:{start:{x:10,y:10},end:{x:100,y:100},currentlyDragged:null},convexHalls:{},cursor:{x:0,y:0},lineIterator:0,savedLines:{},columnIterator:0,savedColumns:{},savedCellsGraph:{}}},computed:{currentLinks:function(){var t=this;return this.annotations.currentPath.length<1?"":ve(this.annotations.currentPath.map((function(e){return xe(t.boxes[e].points)})),!1)},keyIsDown:function(){return this.annotations.keyIsDown},visibleBoxes:function(){var t=this;return Object.keys(this.boxes).filter((function(e){return t.boxes[e].visible})).map((function(e){return t.boxes[e]}))},showSavedLines:function(){return 2===this.currentState||4===this.currentState},showSavedColumns:function(){return 3===this.currentState||4===this.currentState},canValidate:function(){return 4===this.currentState},canNotValidate:function(){return 4!==this.currentState},showCorppingRectangle:function(){return-1===this.currentState},isDraggingCropRectangle:function(){return!!this.cropRectangle.currentlyDragged}},methods:{isSaved:function(t,e){for(var n=0,a=Object.keys(e);n<a.length;n++){var i=a[n];if(e[i].keys.findIndex((function(e){return e===t}))>=0)return!0}return!1},reset:function(){this.dataQuality=[],this.currentState=-1,this.boxes=[],this.annotations={annnotated:!1,keyIsDown:!1,currentPath:[],memorizedGraph:{},lastElement:{x:0,y:0}},this.cropRectangle={start:{x:10,y:10},end:{x:50,y:50},currentlyDragged:null},this.convexHalls={},this.cursor={x:0,y:0},this.lineIterator=0,this.savedLines={},this.columnIterator=0,this.savedColumns={},this.savedCellsGraph={}},validate:function(){var t=this;if(!this.canValidate)return null;if(0===this.dataQuality.length)return alert("Please give us your opinion on the text recognition"),null;if(this.dataQuality.length>1)return alert("Please select only one box for giving your opinion on text recognition"),null;var e={},n={},a={};Object.keys(this.savedLines).map((function(n){t.savedLines[n].keys.forEach((function(t){t.split("-").forEach((function(i){void 0===e[i]?e[i]=[n]:e[i]=[].concat(Object(Wt["a"])(e[i]),[n]),void 0===a[i]&&(a[i]=t)}))}))})),Object.keys(this.savedColumns).map((function(e){t.savedColumns[e].keys.forEach((function(t){t.split("-").forEach((function(i){void 0===n[i]?n[i]=[e]:n[i]=[].concat(Object(Wt["a"])(n[i]),[e]),void 0===a[i]&&(a[i]=t)}))}))}));var i={};this.textAnnotations.forEach((function(t){var o,r,s=_e(t.boundingPoly.vertices);o=void 0===e[s]?[]:e[s],r=void 0===n[s]?[]:n[s],i[s]=Object(b["a"])(Object(b["a"])({},t),{},{row_index:o,column_index:r,cell_id:a[s]||null})})),F.a.post("https://robotoff.openfoodfacts.org/api/v1/insights/annotate",new URLSearchParams("insight_id=".concat(this.insightId,"&annotation=1&data=").concat(JSON.stringify({textAnnotations:i,crop:this.cropRectangle,dataQuality:this.dataQuality[0]})))),this.skip()},getCenter:function(t){return xe(t)},skip:function(){var t=Object(Mt["a"])(regeneratorRuntime.mark((function t(){var e,n,a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this.batchOfInsights=this.batchOfInsights.slice(1),!(this.batchOfInsights.length>0&&this.batchOfInsights.length<5)){t.next=5;break}this.loadOCR(),t.next=8;break;case 5:if(0!==this.batchOfInsights.length){t.next=8;break}return t.next=8,this.loadOCR();case 8:return e=this,this.urlImg=this.batchOfInsights[0].urlImg,this.insightId=this.batchOfInsights[0].insightId,t.next=13,F.a.get(this.batchOfInsights[0].textAnnotationsUrl);case 13:return n=t.sent,a=n.data.responses,this.textAnnotations=a[0].textAnnotations,i=new Image,i.onload=function(){e.imageHeight=i.height,e.imageWidth=i.width},i.src=this.urlImg,this.reset(),this.boxes=ke(this.textAnnotations),t.abrupt("return",null);case 22:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),loadOCR:function(){var t=Object(Mt["a"])(regeneratorRuntime.mark((function t(){var e,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.loading=!0,t.next=3,F.a.get("https://robotoff.openfoodfacts.org/api/v1/insights/random?type=nutrition_table_structure");case 3:e=t.sent,n=e.data.insights,this.batchOfInsights=[].concat(Object(Wt["a"])(this.batchOfInsights),Object(Wt["a"])(n.map((function(t){var e=t.source_image,n=t.id;return{urlImg:"https://static.openfoodfacts.org/images/products".concat(e),textAnnotationsUrl:"https://static.openfoodfacts.org/images/products".concat(e.split(".").slice(0,-1).join("."),".json"),insightId:n}})))),this.loading=!1;case 7:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),clickLink:function(t,e){if(!this.annotations.keyIsDown){var n=Ie(t,e),a=Object(R["a"])(n,2),i=a[0],o=a[1];this.annotations.memorizedGraph=Object(b["a"])(Object(b["a"])({},this.annotations.memorizedGraph),{},Object(Xt["a"])({},i,Object(Wt["a"])(this.annotations.memorizedGraph[i].filter((function(t){return t!==o})))))}},clickNode:function(t){var e=this;this.annotations.keyIsDown||(delete this.annotations.memorizedGraph[t],this.annotations.memorizedGraph=Object(b["a"])({},this.annotations.memorizedGraph),Object.keys(this.annotations.memorizedGraph).forEach((function(n){var a=e.annotations.memorizedGraph[n].findIndex((function(e){return e===t}));a>=0&&(e.annotations.memorizedGraph=Object(b["a"])(Object(b["a"])({},e.annotations.memorizedGraph),{},Object(Xt["a"])({},n,[].concat(Object(Wt["a"])(e.annotations.memorizedGraph[n].slice(0,a)),Object(Wt["a"])(e.annotations.memorizedGraph[n].slice(a+1))))))})))},click:function(t,e){var n=this;!this.annotations.keyIsDown&&t?(this.annotations.keyIsDown=!0,this.annotations.currentPath=[t],this.annotations.lastElement=xe(this.boxes[t].points),this.cursor.x=e.offsetX,this.cursor.y=e.offsetY):this.annotations.keyIsDown&&(this.annotations.annnotated=!0,this.annotations.keyIsDown=!1,this.annotations.currentPath.forEach((function(t){void 0===n.annotations.memorizedGraph[t]&&(n.annotations.memorizedGraph[t]=[])})),this.annotations.currentPath.forEach((function(t,e){if(e>0){var a=n.annotations.currentPath[e-1],i=Ie(t,a),o=Object(R["a"])(i,2),r=o[0],s=o[1];n.annotations.memorizedGraph[r].find((function(t){return t===s}))||n.annotations.memorizedGraph[r].push(s)}})),this.annotations.currentPath=[])},moveAt:function(t){this.annotations.keyIsDown&&(this.cursor.x=t.offsetX,this.cursor.y=t.offsetY),-1===this.currentState&&"end"===this.cropRectangle.currentlyDragged&&(this.cropRectangle.end.x=t.offsetX,this.cropRectangle.end.y=t.offsetY),-1===this.currentState&&"start"===this.cropRectangle.currentlyDragged&&(this.cropRectangle.start.x=t.offsetX,this.cropRectangle.start.y=t.offsetY)},stopDragging:function(){var t=this;this.cropRectangle.currentlyDragged=null,Object.keys(this.boxes).forEach((function(e){t.boxes[e].toDelete=!Oe(t.cropRectangle.start.x,t.cropRectangle.start.y,t.cropRectangle.end.x,t.cropRectangle.end.y,t.boxes[e].points)}))},startDraggingStart:function(){this.cropRectangle.currentlyDragged="start"},startDraggingEnd:function(){this.cropRectangle.currentlyDragged="end"},mouseover:function(t){if(!this.annotations.keyIsDown)return null;if(this.annotations.currentPath[this.annotations.currentPath.length-1]===t){if(this.annotations.currentPath.length>1){this.annotations.currentPath.pop();var e=this.annotations.currentPath[this.annotations.currentPath.length-1];this.annotations.lastElement=xe(this.boxes[e].points)}}else this.annotations.currentPath.find((function(e){return e===t}))||(this.annotations.currentPath.push(t),this.annotations.lastElement=xe(this.boxes[t].points))},nextStep:function(){var t=this;if(this.click(),-1===this.currentState&&(Object.keys(this.boxes).forEach((function(e){t.boxes[e].visible=!t.boxes[e].toDelete})),this.currentState=0),0===this.currentState||this.annotations.annnotated&&1===this.currentState)this.convexHalls=Se(this.annotations.memorizedGraph,this.boxes),0!==Object.keys(this.convexHalls).length&&(Object.keys(this.boxes).forEach((function(e){t.boxes[e].toDelete=!Object.keys(t.annotations.memorizedGraph).includes(e)})),this.annotations.keyIsDown=!1,this.annotations.currentPath=[],this.annotations.lastElement={x:0,y:0},this.annotations.annnotated=!1,this.currentState=1);else if(1===this.currentState)this.savedCellsGraph=Object(b["a"])({},this.annotations.memorizedGraph),this.boxes=Object(b["a"])({},this.convexHalls),this.convexHalls={},this.annotations.memorizedGraph={},this.savedLines={},this.lineIterator=0,this.currentState=2;else if(2===this.currentState)if(0===Object.keys(this.annotations.memorizedGraph).length)Object.keys(this.boxes).findIndex((function(e){return!t.isSaved(e,t.savedLines)}))<0?(this.currentState=3,this.columnIterator=0,this.savedColumns={},Object.keys(this.savedLines).forEach((function(e){return t.savedLines[e].keys.forEach((function(e){t.boxes[e].visible=!0}))}))):alert("Tu n'as rien sÃ©lectionnÃ©, je ne peux donc pas ajouter de nouvelle ligne");else{var e=Object.keys(this.annotations.memorizedGraph).reduce((function(e,n){return[].concat(Object(Wt["a"])(e),Object(Wt["a"])(t.boxes[n].points))}),[]),n=Object.keys(this.annotations.memorizedGraph);this.savedLines[this.lineIterator]={keys:Object(Wt["a"])(n),path:ve(Ce(e),!0),center:xe(e)},this.lineIterator+=1,this.annotations.memorizedGraph={}}else if(3===this.currentState)if(0===Object.keys(this.annotations.memorizedGraph).length)Object.keys(this.boxes).findIndex((function(e){return!t.isSaved(e,t.savedColumns)}))<0?this.currentState=4:alert("Tu n'as rien sÃ©lectionnÃ©, je ne peux donc pas ajouter de nouvelle colonne");else{var a=Object.keys(this.annotations.memorizedGraph).reduce((function(e,n){return[].concat(Object(Wt["a"])(e),Object(Wt["a"])(t.boxes[n].points))}),[]);this.savedColumns[this.columnIterator]={keys:Object(Wt["a"])(Object.keys(this.annotations.memorizedGraph)),path:ve(Ce(a),!0),center:xe(a)},this.columnIterator+=1,this.annotations.memorizedGraph={}}},previousStep:function(){var t=this;this.click(),0===this.currentState?(Object.keys(this.boxes).forEach((function(e){t.boxes[e].visible=!0})),this.stopDragging(),this.annotations.memorizedGraph={},this.annotations.keyIsDown=!1,this.annotations.currentPath=[],this.annotations.lastElement={x:0,y:0},this.annotations.annnotated=!1,this.currentState=-1):1===this.currentState?(this.currentState=0,this.annotations.memorizedGraph={},this.annotations.keyIsDown=!1,this.annotations.currentPath=[],this.annotations.lastElement={x:0,y:0},this.annotations.annnotated=!1,this.convexHalls={},Object.keys(this.boxes).forEach((function(e){t.boxes[e].toDelete=!1}))):2===this.currentState?Object.keys(this.annotations.memorizedGraph).length>0?this.annotations.memorizedGraph={}:this.lineIterator>0?(this.lineIterator-=1,delete this.savedLines[this.lineIterator]):(this.savedLines={},this.lineIterator=0,this.currentState=1,this.annotations.memorizedGraph=Object(b["a"])({},this.savedCellsGraph),this.boxes=ke(this.textAnnotations),Object.keys(this.boxes).forEach((function(e){t.boxes[e].visible=Oe(t.cropRectangle.start.x,t.cropRectangle.start.y,t.cropRectangle.end.x,t.cropRectangle.end.y,t.boxes[e].points)})),Object.keys(this.boxes).forEach((function(e){t.boxes[e].toDelete=!Object.keys(t.annotations.memorizedGraph).includes(e)})),this.convexHalls=Se(this.annotations.memorizedGraph,this.boxes),this.annotations.keyIsDown=!1,this.annotations.currentPath=[],this.annotations.lastElement={x:0,y:0},this.annotations.annnotated=!1):3===this.currentState?Object.keys(this.annotations.memorizedGraph).length>0?this.annotations.memorizedGraph={}:this.columnIterator>0?(this.columnIterator-=1,delete this.savedColumns[this.columnIterator]):(this.savedColumns={},this.columnIterator=0,this.currentState=2,this.annotations.memorizedGraph={},this.annotations.keyIsDown=!1,this.annotations.currentPath=[],this.annotations.lastElement={x:0,y:0},this.annotations.annnotated=!1):4===this.currentState&&(this.currentState=3)}},watch:{textAnnotations:function(t){this.boxes=ke(t)}},mounted:function(){var t=Object(Mt["a"])(regeneratorRuntime.mark((function t(){var e,n,a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=this,t.next=3,this.loadOCR();case 3:return this.urlImg=this.batchOfInsights[0].urlImg,this.insightId=this.batchOfInsights[0].insightId,t.next=7,F.a.get(this.batchOfInsights[0].textAnnotationsUrl);case 7:n=t.sent,a=n.data.responses,this.textAnnotations=a[0].textAnnotations,i=new Image,i.onload=function(){e.imageHeight=i.height,e.imageWidth=i.width},i.src=this.urlImg,this.boxes=ke(this.textAnnotations),window.addEventListener("keyup",(function(t){"BODY"==t.target.nodeName&&("k"===t.key&&e.skip(),"n"===t.key&&e.nextStep(),"v"===t.key&&e.validate(),"p"===t.key&&e.previousStep())}));case 15:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},Xe=Ye,We=(n("9bd0"),Object(I["a"])(Xe,Qe,He,!1,null,"6d01ef04",null)),Je=We.exports,Ze=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"ui stackable grid container"},[n("div",{staticClass:"five wide column"},[n("h2",[t._v(t._s(t.$t("settings.settings")))]),n("form",{staticClass:"ui form",on:{submit:function(e){return e.preventDefault(),t.saveLang.apply(null,arguments)}}},[n("div",{staticClass:"field"},[n("div",{staticClass:"ui action input labeled"},[n("div",{staticClass:"ui label"},[t._v(t._s(t.$t("settings.language")))]),n("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedLang,expression:"selectedLang"}],staticClass:"ui fluid dropdown",on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.selectedLang=e.target.multiple?n:n[0]}}},t._l(t.langs,(function(e,a){return n("option",{key:"Lang"+a,domProps:{value:e}},[t._v(" "+t._s(e.toUpperCase())+" ")])})),0)])]),n("button",{staticClass:"ui button primary"},[t._v(t._s(t.$t("settings.save")))])])])])},tn=[],en=n("06b7"),nn=n("e088"),an=n("2394"),on=n("2508"),rn=n("d90a"),sn={en:nn,it:en,fr:an,de:on,es:rn},un={name:"SettingsView",props:[],data:function(){return{selectedLang:this.$i18n.locale,langs:Object.keys(sn)}},methods:{saveLang:function(){this.$i18n.locale=this.selectedLang,m.update("lang",this.$i18n.locale)}}},cn=un,ln=Object(I["a"])(cn,Ze,tn,!1,null,null,null),dn=ln.exports,gn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"ui container"},[n("div",[n("h2",[t._v(t._s(t.$t("insights.insights")))]),n("form",{staticClass:"ui stackable form"},[n("div",{staticClass:"two fields"},[n("div",{staticClass:"field"},[n("label",[t._v(t._s(t.$t("insights.barcode")))]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.barcodeFilter,expression:"barcodeFilter"}],attrs:{placeholder:t.$t("insights.barcode_placeholder")},domProps:{value:t.barcodeFilter},on:{input:function(e){e.target.composing||(t.barcodeFilter=e.target.value)}}})]),n("div",{staticClass:"field"},[n("label",[t._v(t._s(t.$t("insights.value_tag")))]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.valueTagFilter,expression:"valueTagFilter"}],attrs:{type:"text",placeholder:t.$t("insights.value_placeholder")},domProps:{value:t.valueTagFilter},on:{input:function(e){e.target.composing||(t.valueTagFilter=e.target.value)}}})])]),n("div",{staticClass:"two fields"},[n("div",{staticClass:"field"},[n("label",[t._v(t._s(t.$t("insights.type")))]),n("select",{directives:[{name:"model",rawName:"v-model",value:t.insightTypeFilter,expression:"insightTypeFilter"}],staticClass:"ui search dropdown",on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.insightTypeFilter=e.target.multiple?n:n[0]}}},[n("option",{attrs:{value:""}},[t._v(t._s(t.$t("insights.all")))]),n("option",{attrs:{value:"label"}},[t._v(t._s(t.$t("insights.label")))]),n("option",{attrs:{value:"product_weight"}},[t._v(t._s(t.$t("insights.product_weight")))]),n("option",{attrs:{value:"category"}},[t._v(t._s(t.$t("insights.category")))]),n("option",{attrs:{value:"expiration_date"}},[t._v(t._s(t.$t("insights.expiration_date")))]),n("option",{attrs:{value:"packager_code"}},[t._v(t._s(t.$t("insights.packager_code")))])])]),n("div",{staticClass:"field"},[n("label",[t._v(t._s(t.$t("insights.annotated")))]),n("select",{directives:[{name:"model",rawName:"v-model",value:t.annotationFilter,expression:"annotationFilter"}],staticClass:"ui search dropdown",on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.annotationFilter=e.target.multiple?n:n[0]}}},[n("option",{attrs:{value:""}},[t._v(t._s(t.$t("insights.all")))]),n("option",{attrs:{value:"-1"}},[t._v(t._s(t.$t("insights.skipped")))]),n("option",{attrs:{value:"0"}},[t._v(t._s(t.$t("insights.rejected")))]),n("option",{attrs:{value:"1"}},[t._v(t._s(t.$t("insights.accepted")))]),n("option",{attrs:{value:"not_annotated"}},[t._v(t._s(t.$t("insights.not_annotated")))])])])]),n("input",{staticClass:"ui submit button primary",attrs:{type:"submit"},domProps:{value:t.$t("insights.search")},on:{click:function(e){return e.preventDefault(),t.loadInsights.apply(null,arguments)}}})]),n("div",{staticClass:"ui divider"}),t.loading?t._e():n("p",[n("strong",[t._v(t._s(t.$t("insights.count")))]),t._v(" "+t._s(t.resultCount)+" ")])]),n("LoadingSpinner",{attrs:{show:t.loading}}),t.loading?t._e():n("table",{staticClass:"ui celled table"},[n("thead",{staticClass:"mobile hidden"},[n("tr",[n("th",[t._v(t._s(t.$t("insights.barcode")))]),n("th",[t._v(t._s(t.$t("insights.id")))]),n("th",[t._v(t._s(t.$t("insights.type")))]),n("th",[t._v(t._s(t.$t("insights.value")))]),n("th",[t._v(t._s(t.$t("insights.created_at")))]),n("th",[t._v(t._s(t.$t("insights.completed_at")))]),n("th",[t._v(t._s(t.$t("insights.annotation")))]),n("th",[t._v(t._s(t.$t("insights.automatic")))])])]),n("tbody",t._l(t.insights,(function(e){return n("tr",{key:e.id},[n("td",{attrs:{"data-label":"Barcode"}},[n("span",{staticClass:"mobile only list__label"},[t._v(t._s(t.$t("insights.barcode"))+" ")]),t._v(t._s(e.barcode))]),n("td",{attrs:{"data-label":"Id"}},[n("span",{staticClass:"mobile only list__label"},[t._v(t._s(t.$t("insights.id"))+" ")]),t._v(t._s(e.id))]),n("td",{attrs:{"data-label":"Type"}},[n("span",{staticClass:"mobile only list__label"},[t._v(t._s(t.$t("insights.type"))+" ")]),t._v(t._s(e.type))]),n("td",{attrs:{"data-label":"Value"}},[n("span",{staticClass:"mobile only list__label"},[t._v(t._s(t.$t("insights.value"))+" ")]),t._v(t._s(e.value||e.value_tag))]),n("td",{attrs:{"data-label":"Created at"}},[n("span",{staticClass:"mobile only list__label"},[t._v(t._s(t.$t("insights.created_at"))+" ")]),t._v(t._s(t.formatDatetime(e.timestamp)))]),n("td",{attrs:{"data-label":"Completed at"}},[n("span",{staticClass:"mobile only list__label"},[t._v(t._s(t.$t("insights.completed_at"))+" ")]),t._v(t._s(t.formatDatetime(e.completed_at)))]),n("td",{attrs:{"data-label":"Annotation"}},[n("span",{staticClass:"mobile only list__label"},[t._v(t._s(t.$t("insights.annotation"))+" ")]),1==e.annotation?n("i",{staticClass:"large green checkmark icon"}):0==e.annotation?n("i",{staticClass:"large red times icon"}):-1==e.annotation?n("i",{staticClass:"large grey question icon"}):t._e()]),n("td",{attrs:{"data-label":"Automatic"}},[n("span",{staticClass:"mobile only list__label"},[t._v(t._s(t.$t("insights.automatic"))+" ")]),e.automatic_processing?n("i",{staticClass:"large green checkmark icon"}):t._e()])])})),0)]),t.resultCount?n("div",[n("pagination",{attrs:{"page-count":t.pageCount},on:{change:t.updatedPage},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1):t._e()],1)},mn=[],hn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ul",{staticClass:"pagination"},[t.paginationLabels.first?n("li",{staticClass:"pagination-item mobile hidden"},[n("button",{staticClass:"compact ui button",attrs:{disabled:t.hasFirst},domProps:{innerHTML:t._s(t.paginationLabels.first)},on:{click:t.first}})]):t._e(),t.paginationLabels.prev?n("li",{staticClass:"pagination-item mobile hidden"},[n("button",{staticClass:"compact ui button",attrs:{disabled:t.hasFirst},domProps:{innerHTML:t._s(t.paginationLabels.prev)},on:{click:t.prev}})]):t._e(),t._l(t.items,(function(e){return n("li",{key:e.label,staticClass:"pagination-item"},[e.disable?n("span",[t._v("...")]):n("button",{staticClass:"compact ui button",class:e.active?"primary":"",on:{click:function(n){return t.goto(e.label)}}},[t._v(t._s(e.label))])])})),t.paginationLabels.next?n("li",{staticClass:"pagination-item mobile hidden"},[n("button",{staticClass:"compact ui button",attrs:{disabled:t.hasLast},domProps:{innerHTML:t._s(t.paginationLabels.next)},on:{click:t.next}})]):t._e(),t.paginationLabels.last?n("li",{staticClass:"pagination-item mobile hidden"},[n("button",{staticClass:"compact ui button",attrs:{disabled:t.hasLast},domProps:{innerHTML:t._s(t.paginationLabels.last)},on:{click:t.last}})]):t._e()],2)},pn=[],fn={props:{value:{type:Number,required:!0},pageCount:{type:Number,required:!0},labels:{type:Object,required:!1,default:function(){return{}}}},data:function(){return{paginationLabels:{first:"&laquo;",prev:"&lsaquo;",next:"&rsaquo;",last:"&raquo;"}}},mounted:function(){this.value>this.pageCount&&this.$emit("input",this.pageCount)},computed:{items:function(){for(var t=this.value>1?this.value-1:1,e=this.value<this.pageCount?this.value+1:this.pageCount,n=3===t?2:null,a=e===this.pageCount-2?this.pageCount-1:null,i=t>3?2:null,o=e<this.pageCount-2?this.pageCount-1:null,r=[],s=1;s<=this.pageCount;s+=1)[1,this.pageCount,this.value,t,e,n,a,i,o].includes(s)&&r.push({label:s,active:this.value===s,disable:[i,o].includes(s)});return r},hasFirst:function(){return 1===this.value},hasLast:function(){return this.value===this.pageCount}},watch:{value:function(){this.$emit("change")}},methods:{first:function(){this.hasFirst||this.$emit("input",1)},prev:function(){this.hasFirst||this.$emit("input",this.value-1)},goto:function(t){this.$emit("input",t)},next:function(){this.hasLast||this.$emit("input",this.value+1)},last:function(){this.hasLast||this.$emit("input",this.pageCount)}}},bn=fn,vn=(n("9de6"),Object(I["a"])(bn,hn,pn,!1,null,"4e54b946",null)),_n=vn.exports,yn={name:"InsightListView",components:{Pagination:_n,LoadingSpinner:bt},data:function(){return{currentPage:1,insights:[],pageSize:25,resultCount:0,barcodeFilter:"",insightTypeFilter:"",annotationFilter:"",valueTagFilter:"",loading:!1}},computed:{pageCount:function(){if(0==this.resultCount)return 0;var t=Math.floor(this.resultCount/this.pageSize);return this.resultCount%this.pageSize!==0&&(t+=1),t}},methods:{formatDatetime:function(t){return t?t.split(".")[0]:null},updatedPage:function(){this.loadInsights()},loadInsights:function(){var t=this;this.loading=!0,W.getInsights(this.barcodeFilter,this.insightTypeFilter,this.valueTagFilter,this.annotationFilter,this.currentPage,this.pageSize).then((function(e){t.insights=e.data.insights,t.resultCount=e.data.count,t.loading=!1})).catch((function(){t.loading=!1}))}},mounted:function(){this.loadInsights()}},Cn=yn,xn=(n("acd6"),Object(I["a"])(Cn,gn,mn,!1,null,null,null)),kn=xn.exports,wn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"ui container"},[n("div",[n("h2",[t._v(t._s(t.$t("logos.search")))]),n("div",{staticClass:"ui divider hidden"}),n("form",{staticClass:"ui form",on:{submit:function(e){return e.preventDefault(),t.search.apply(null,arguments)}}},[n("div",{staticClass:"three fields"},[n("div",{staticClass:"field"},[n("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.value,expression:"value",modifiers:{trim:!0}}],attrs:{type:"text",name:"value",placeholder:t.$t("logos.value")},domProps:{value:t.value},on:{input:function(e){e.target.composing||(t.value=e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}})]),n("div",{staticClass:"field"},[n("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.barcode,expression:"barcode",modifiers:{trim:!0}}],attrs:{type:"text",name:"barcode",placeholder:t.$t("logos.barcode")},domProps:{value:t.barcode},on:{input:function(e){e.target.composing||(t.barcode=e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}})]),n("div",{staticClass:"field"},[n("select",{directives:[{name:"model",rawName:"v-model",value:t.type,expression:"type"}],staticClass:"ui fluid dropdown",on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.type=e.target.multiple?n:n[0]}}},[n("option",{attrs:{value:""}},[t._v(t._s(t.$t("logos.type")))]),n("option",{attrs:{value:"label"}},[t._v(t._s(t.$t("logos.label")))]),n("option",{attrs:{value:"brand"}},[t._v(t._s(t.$t("logos.brand")))]),n("option",{attrs:{value:"packager_code"}},[t._v(t._s(t.$t("logos.packager_code")))]),n("option",{attrs:{value:"packaging"}},[t._v(t._s(t.$t("logos.packaging")))]),n("option",{attrs:{value:"qr_code"}},[t._v(t._s(t.$t("logos.qr_code")))]),n("option",{attrs:{value:"category"}},[t._v(t._s(t.$t("logos.category")))]),n("option",{attrs:{value:"nutrition_label"}},[t._v(t._s(t.$t("logos.nutrition_label")))]),n("option",{attrs:{value:"store"}},[t._v(t._s(t.$t("logos.store")))])])]),n("div",{staticClass:"field"},[n("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.count,expression:"count",modifiers:{trim:!0}}],attrs:{type:"number",name:"count"},domProps:{value:t.count},on:{input:function(e){e.target.composing||(t.count=e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}})]),n("div",{staticClass:"field"},[n("button",{staticClass:"ui button primary",attrs:{type:"submit"}},[t._v(t._s(t.$t("logos.search")))])])])]),n("div",{staticClass:"ui divider hidden"}),n("LoadingSpinner",{attrs:{show:t.loading}}),!t.loading&&t.logos.length>0?n("div",[n("p",[t._v(t._s(t.$t("logos.number_of_results"))+" "+t._s(t.resultCount))]),n("LogoCardGrid",{attrs:{logos:t.logos,selectable:!1}})],1):t._e(),t.loading||0!=t.logos.length?t._e():n("div",[n("p",[n("strong",[t._v(t._s(t.$t("logos.no_found")))])])])],1)])},Sn=[],In=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"ui grid"},t._l(t.logos,(function(e){return n("div",{key:e.id,staticClass:"four wide mobile-landscape eight wide mobile four wide tablet three wide computer column"},[n("div",{staticClass:"ui fluid card ann-logo",class:{selected:e.selected,annotated:e.annotation_type},on:{click:function(n){return t.toggleSelectLogo(e)}}},[n("div",{staticClass:"content actions"},[n("div",{staticClass:"left floated meta"},[n("router-link",{attrs:{to:t.editLogoURL(e),target:"_blank"}},[n("i",{staticClass:"edit icon"})])],1),n("div",{staticClass:"right floated meta"},[n("router-link",{attrs:{to:t.externalLogoURL(e),target:"_blank"}},[n("i",{staticClass:"external alternate icon blue"})])],1)]),n("div",{staticClass:"content logo-image"},[n("img",{attrs:{loading:"lazy",src:e.image.url}})]),n("div",{staticClass:"content distance"},[e.distance?n("p",[t._v(t._s(t.$t("logos.distance"))+" "+t._s(e.distance.toFixed(1)))]):t._e(),e.annotation_value?n("p",[t._v(t._s(t.$t("logos.annotation"))+t._s(e.annotation_value)+" ("+t._s(e.annotation_type)+")")]):e.annotation_type?n("p",[t._v(t._s(t.$t("logos.annotation"))+"("+t._s(e.annotation_type)+")")]):t._e()])])])})),0)])},On=[],Pn={name:"LogoCardGrid",props:{logos:{type:Array,required:!0},selectable:{type:Boolean,default:!0}},data:function(){return{}},methods:{externalLogoURL:function(t){return"/logos?logo_id=".concat(t.id)},editLogoURL:function(t){return"/logos/".concat(t.id)},toggleSelectLogo:function(t){this.selectable&&!t.annotation_value&&this.$emit("toggle-select-logo",t)}},computed:{},mounted:function(){}},jn=Pn,qn=(n("8fa6"),Object(I["a"])(jn,In,On,!1,null,"4b9a2898",null)),Ln=qn.exports,zn=function(t){return t.image.url=W.getCroppedImageUrl(it.getImageUrl(t.image.source_image),t.bounding_box),t},An={name:"InsightListView",components:{LogoCardGrid:Ln,LoadingSpinner:bt},data:function(){return{logos:[],value:"",barcode:"",type:"",resultCount:0,count:25,loading:!1}},computed:{},methods:{search:function(){var t=this;this.loading=!0,W.searchLogos(this.barcode,this.value,this.type,this.count).then((function(e){var n=e.data;t.logos=n.logos.map(zn),t.resultCount=n.count,t.loading=!1})).catch((function(){t.loading=!1}))}},mounted:function(){this.search()}},Bn=An,Nn=(n("9c43"),Object(I["a"])(Bn,wn,Sn,!1,null,"ade22f58",null)),Tn=Nn.exports,$n=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"ui container"},[n("h2",[t._v(t._s(t.$t("logos.annotations")))]),n("LoadingSpinner",{attrs:{show:0==t.logos.length&&t.loading}}),t.logos.length>0?n("div",[n("form",{staticClass:"ui form",on:{submit:function(e){return e.preventDefault(),t.sendAnnotations.apply(null,arguments)}}},[n("div",{staticClass:"three fields"},[n("div",{staticClass:"field"},[n("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.valueInput,expression:"valueInput",modifiers:{trim:!0}}],attrs:{type:"text",name:"value",placeholder:t.$t("logos.value")},domProps:{value:t.valueInput},on:{input:function(e){e.target.composing||(t.valueInput=e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}})]),n("div",{staticClass:"field"},[n("select",{directives:[{name:"model",rawName:"v-model",value:t.typeInput,expression:"typeInput"}],staticClass:"ui fluid dropdown",on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.typeInput=e.target.multiple?n:n[0]}}},[n("option",{attrs:{value:""}},[t._v(t._s(t.$t("logos.type")))]),n("option",{attrs:{value:"label"}},[t._v(t._s(t.$t("logos.label")))]),n("option",{attrs:{value:"brand"}},[t._v(t._s(t.$t("logos.brand")))]),n("option",{attrs:{value:"packager_code"}},[t._v(t._s(t.$t("logos.packager_code")))]),n("option",{attrs:{value:"packaging"}},[t._v(t._s(t.$t("logos.packaging")))]),n("option",{attrs:{value:"qr_code"}},[t._v(t._s(t.$t("logos.qr_code")))]),n("option",{attrs:{value:"category"}},[t._v(t._s(t.$t("logos.category")))]),n("option",{attrs:{value:"nutrition_label"}},[t._v(t._s(t.$t("logos.nutrition_label")))]),n("option",{attrs:{value:"store"}},[t._v(t._s(t.$t("logos.store")))])])]),n("div",{staticClass:"field"},[n("LoadingSpinner",{attrs:{size:"medium",centered:!1,show:t.logos.length>0&&t.loading}}),t.loading?t._e():n("button",{staticClass:"ui button primary",class:{disabled:!t.isValidAnnotation},attrs:{type:"submit",tabindex:"0"}},[t._v(t._s(t.$t("logos.submit")))])],1)])]),n("div",{staticClass:"ui divider hidden"}),t.logos.length>0?n("div",[n("div",[n("p",[n("span",{staticClass:"borderless-button",on:{click:function(e){return t.selectLogos(!0)}}},[t._v(t._s(t.$t("logos.select_all")))]),t._v(" / "),n("span",{staticClass:"borderless-button",on:{click:function(e){return t.selectLogos(!1)}}},[t._v(t._s(t.$t("logos.unselect_all")))])])]),n("div",{staticClass:"ui divider hidden"}),t.selectedLogos.length>0?n("LogoCardGrid",{attrs:{logos:t.selectedLogos},on:{"toggle-select-logo":t.toggleSelectLogo}}):t._e(),t.unselectedLogos.length>0?n("LogoCardGrid",{attrs:{logos:t.unselectedLogos},on:{"toggle-select-logo":t.toggleSelectLogo}}):t._e()],1):t._e()]):t._e()],1)},Dn=[],En=function(t){return t.image.url=W.getCroppedImageUrl(it.getImageUrl(t.image.source_image),t.bounding_box),t.selected=!1,t},Rn=function(t){var e=Y("count");return 0==e.length?t:parseInt(e,10)||t},Mn={name:"InsightListView",components:{LogoCardGrid:Ln,LoadingSpinner:bt},data:function(){return{logos:[],noLogoAvailable:!1,valueInput:"",typeInput:"",targetLogoId:Y("logo_id"),annCount:Rn(100),loading:!1}},computed:{isValidAnnotation:function(){return 0!==this.logos.length&&(0!==this.typeInput.length&&(0!==this.selectedLogos.length&&(0!==this.valueInput.length||!["label","brand","category","store"].includes(this.typeInput))))},selectedLogos:function(){return this.logos.filter((function(t){return!0===t.selected}))},unselectedLogos:function(){return this.logos.filter((function(t){return!1===t.selected}))}},methods:{loadLogos:function(){var t=this;this.loading=!0,W.getLogoAnnotations(this.targetLogoId,Y("index"),this.annCount).then((function(e){var n=e.data,a=n.results;W.getLogosImages(a.map((function(t){return t.logo_id}))).then((function(e){t.loading=!1;var n=e.data.logos;t.logos=a.map((function(t){return Object(b["a"])({distance:t.distance},n.filter((function(e){return e.id==t.logo_id}))[0])})).map(En)})).catch((function(){t.loading=!1}))})).catch((function(){t.loading=!1}))},toggleSelectLogo:function(t){var e=t.id,n=this.logos.filter((function(t){return t.id===e}))[0];n.selected=!n.selected},sendAnnotations:function(){var t=this,e=this.valueInput.toLowerCase();"packager_code"!==this.typeInput&&"qr_code"!==this.typeInput||(e="");var n=this.selectedLogos.map((function(n){return{logo_id:n.id,value:e,type:t.typeInput}}));this.loading=!0,W.annotateLogos(n).then((function(){t.loading=!1,t.targetLogoId="",t.loadLogos()})).catch((function(){t.loading=!1})),this.valueInput="",this.typeInput=""},selectLogos:function(t){this.logos.forEach((function(e){e.annotation_value||(e.selected=t)}))}},mounted:function(){this.loadLogos()}},Gn=Mn,Fn=(n("3992"),Object(I["a"])(Gn,$n,Dn,!1,null,"2b92e4f2",null)),Un=Fn.exports,Vn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"ui container"},[n("div",[n("h2",[t._v(t._s(t.$t("logos.detail")))]),n("p",[t._v(t._s(t.$t("logos.id"))+" "+t._s(t.logoId))]),n("p",[t._v(t._s(t.$t("logos.barcode"))+" "+t._s(t.barcode))]),n("p",[n("a",{attrs:{href:t.imageURL}},[t._v(t._s(t.$t("logos.full_image")))])]),n("img",{attrs:{width:"300px",src:t.cropURL}}),n("div",{staticClass:"ui divider"}),n("form",{staticClass:"ui form",on:{submit:function(e){return e.preventDefault(),t.updateLogo.apply(null,arguments)}}},[n("div",{staticClass:"three fields"},[n("div",{staticClass:"field"},[n("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.annotationValue,expression:"annotationValue",modifiers:{trim:!0}}],attrs:{type:"text",name:"value",placeholder:t.$t("logos.value")},domProps:{value:t.annotationValue},on:{input:function(e){e.target.composing||(t.annotationValue=e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}})]),n("div",{staticClass:"field"},[n("select",{directives:[{name:"model",rawName:"v-model",value:t.annotationType,expression:"annotationType"}],staticClass:"ui fluid dropdown",on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.annotationType=e.target.multiple?n:n[0]}}},[n("option",{attrs:{value:""}},[t._v(t._s(t.$t("logos.type")))]),n("option",{attrs:{value:"label"}},[t._v(t._s(t.$t("logos.label")))]),n("option",{attrs:{value:"brand"}},[t._v(t._s(t.$t("logos.brand")))]),n("option",{attrs:{value:"packager_code"}},[t._v(t._s(t.$t("logos.packager_code")))]),n("option",{attrs:{value:"packaging"}},[t._v(t._s(t.$t("logos.packaging")))]),n("option",{attrs:{value:"qr_code"}},[t._v(t._s(t.$t("logos.qr_code")))]),n("option",{attrs:{value:"category"}},[t._v(t._s(t.$t("logos.category")))]),n("option",{attrs:{value:"nutrition_label"}},[t._v(t._s(t.$t("logos.nutrition_label")))]),n("option",{attrs:{value:"store"}},[t._v(t._s(t.$t("logos.store")))])])]),n("div",{staticClass:"field"},[n("LoadingSpinner",{attrs:{size:"medium",centered:!1,show:t.loading}}),t.loading?t._e():n("button",{staticClass:"ui button primary",attrs:{type:"submit",tabindex:"0"}},[t._v(t._s(t.$t("logos.update")))])],1)])])])])},Qn=[],Hn=function(t){return it.getImageUrl(t.image.source_image)},Kn=function(t){return W.getCroppedImageUrl(Hn(t),t.bounding_box)},Yn={name:"InsightListView",components:{LoadingSpinner:bt},data:function(){return{annotationValue:"",annotationType:"",imageURL:"",cropURL:"",barcode:"",loading:!1}},computed:{logoId:function(){return this.$route.params.id}},methods:{loadLogo:function(){var t=this;this.loading=!0,W.loadLogo(this.logoId).then((function(e){var n=e.data;t.imageURL=Hn(n),t.cropURL=Kn(n),t.annotationValue=n.annotation_value,t.annotationType=n.annotation_type,t.barcode=n.image.barcode,t.loading=!1})).catch((function(){t.loading=!1}))},updateLogo:function(){var t=this;if(0!=this.annotationType.length){var e=this.annotationValue.toLowerCase();"packager_code"!==this.annotationType&&"qr_code"!==this.annotationType||(e=""),this.loading=!0,W.updateLogo(this.logoId,e,this.annotationType).then((function(){t.loading=!1,window.console.log("Updated!")})).catch((function(){t.loading=!1}))}}},mounted:function(){this.loadLogo()}},Xn=Yn,Wn=Object(I["a"])(Xn,Vn,Qn,!1,null,null,null),Jn=Wn.exports,Zn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container"},t._l(t.labels.fr,(function(e){return n("div",{key:e.value_tag,staticClass:"ui card"},[n("router-link",{attrs:{to:e.url,target:"_blank"}},[n("div",{staticClass:"image"},[n("img",{attrs:{src:e.logo}})]),n("div",{staticClass:"content"},[n("span",{staticClass:"header"},[t._v(t._s(e.value_tag))]),n("div",{staticClass:"floating ui label",class:"0"===e.remainingQuestions?"green":"red"},[t._v(" "+t._s(e.remainingQuestions||"...")+" ")])])])],1)})),0)},ta=[],ea=[{url:"questions?type=label&value_tag=en:organic",value_tag:"en:organic",logo:"https://world-fr.openfoodfacts.org/images/lang/fr/labels/bio.96x90.png"},{url:"questions?type=label&value_tag=en:eu-organic",value_tag:"en:eu-organic",logo:"https://world.openfoodfacts.org/images/lang/en/labels/eu-organic.135x90.svg"},{url:"questions?type=label&value_tag=en:ab-agriculture-biologique",value_tag:"en:ab-agriculture-biologique",logo:"https://world.openfoodfacts.org/images/lang/en/labels/ab-agriculture-biologique.74x90.svg"},{url:"questions?type=label&value_tag=en:eg-oko-verordnung",value_tag:"en:eg-oko-verordnung",logo:"https://world-fr.openfoodfacts.org/images/lang/en/labels/eg-oko-verordnung.110x90.svg"},{url:"questions?type=label&value_tag=fr:haute-valeur-environnementale",value_tag:"fr:haute-valeur-environnementale",logo:"https://world-fr.openfoodfacts.org/images/lang/fr/labels/haute-valeur-environnementale.90x90.svg"},{url:"questions?type=label&value_tag=fr:label-rouge",value_tag:"fr:label-rouge",logo:"https://world-fr.openfoodfacts.org/images/lang/fr/labels/label-rouge.90x90.svg"},{url:"questions?type=label&value_tag=fr:bleu-blanc-coeur",value_tag:"fr:bleu-blanc-coeur",logo:"https://world-fr.openfoodfacts.org/images/lang/fr/labels/bleu-blanc-coeur.98x90.svg"},{url:"questions?type=label&value_tag=en:roundtable-on-sustainable-palm-oil",value_tag:"en:roundtable-on-sustainable-palm-oil",logo:"https://world-fr.openfoodfacts.org/images/lang/en/labels/roundtable-on-sustainable-palm-oil.90x90.svg"},{url:"questions?type=label&country=en:france&value_tag=en:rainforest-alliance",value_tag:"en:rainforest-alliance",logo:"https://world-fr.openfoodfacts.org/images/lang/en/labels/rainforest-alliance.90x90.svg"},{url:"questions?type=label&value_tag=fr:fairtrade",value_tag:"fr:fairtrade",logo:"https://world-fr.openfoodfacts.org/images/lang/en/labels/fairtrade-international.77x90.svg"},{url:"questions?type=label&value_tag=fr:max-havelaar",value_tag:"fr:Max-Havelaar",logo:"https://world-fr.openfoodfacts.org/images/lang/en/labels/fairtrade-international.77x90.svg"},{url:"questions?type=label&value_tag=en:sustainable-seafood-msc",value_tag:"en:sustainable-seafood-msc",logo:"https://world-fr.openfoodfacts.org/images/lang/en/labels/sustainable-seafood-msc.126x90.svg"},{url:"questions?type=label&value_tag=en:responsible-aquaculture-asc",value_tag:"en:responsible-aquaculture-asc",logo:"https://world-fr.openfoodfacts.org/images/lang/en/labels/responsible-aquaculture-asc.188x90.svg"}],na={name:"EcoScoreMenuView",data:function(){return{zzzzzzzz:"lklqjsdskljsljf",labels:{fr:ea}}},computed:{},methods:{setRemainingQuestions:function(t){var e=this,n=t.value_tag,a=10;W.questions("random","label",n,null,null,a).then((function(t){e.labels=Object(b["a"])(Object(b["a"])({},e.labels),{},{fr:e.labels.fr.map((function(e){return n!==e.value_tag?e:Object(b["a"])(Object(b["a"])({},e),{},{remainingQuestions:0===t.data.count?"0":t.data.count})}))})})),console.log(n)}},mounted:function(){var t=this;this.labels.fr.forEach((function(e){t.setRemainingQuestions(e)}))}},aa=na,ia=(n("5fa4"),Object(I["a"])(aa,Zn,ta,!1,null,"6eee4f0a",null)),oa=ia.exports,ra=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"ui"},[n("div",t._l(t.labels,(function(e){return n("button",{key:e,staticClass:"ui big button",class:{primary:e===t.label},on:{click:function(n){return t.setLabel(e)}}},[t._v(" "+t._s(e)+" ")])})),0),t.loading?n("div",[n("LoadingSpinner",{attrs:{show:""}})],1):t.noRemainingQuestion?n("div",[t._v("No more questions")]):n("div",[n("h3",[t._v(" "+t._s(t.questions[0].question)+" "),n("span",{staticClass:"ui big label"},[t._v(t._s(t.questions[0].value))]),n("br"),n("img",{staticClass:"logo",attrs:{src:t.labelLogo[t.label]}})]),n("div",{staticClass:"ui grid stackable"},t._l(t.questions,(function(e){return n("div",{key:e.insight_id,staticClass:"ui",class:{selected:e.selected},on:{click:function(n){return t.toggle(e.insight_id)}}},[n("img",{attrs:{src:e.source_image_url}}),e.selected?n("div",{staticClass:"filter"}):t._e()])})),0),n("button",{staticClass:"ui big positive button validateButton",on:{click:function(e){return t.validate()}}},[n("i",{staticClass:"check icon"}),t._v(" "+t._s(t.nbSelected)+" ")])])])},sa=[],ua="NO_QUESTION_LEFT",ca="LOADING",la=["en:eu-organic","en:sustainable-seafood-msc"],da={name:"QuestionView",components:{LoadingSpinner:bt},data:function(){return{status:ca,labels:la,label:"en:eu-organic",labelLogo:{"en:eu-organic":"https://world.openfoodfacts.org/images/lang/en/labels/eu-organic.135x90.svg","en:sustainable-seafood-msc":"https://world-fr.openfoodfacts.org/images/lang/en/labels/sustainable-seafood-msc.126x90.svg"},questions:[]}},methods:{validate:function(){var t=this.questions.filter((function(t){var e=t.selected;return!0===e})).map((function(t){var e=t.insight_id;return e}));t.forEach((function(t,e){setTimeout((function(){W.annotate(t,1)}),100*e)})),this.questions=[],this.fetchNewQuestions()},toggle:function(t){this.questions=this.questions.map((function(e){return e.insight_id===t?Object(b["a"])(Object(b["a"])({},e),{},{selected:!e.selected}):e}))},setLabel:function(t){this.label!==t&&(this.label=t,this.questions=[],this.fetchNewQuestions())},fetchNewQuestions:function(){var t=this;this.status=ca;var e=50;W.questions("random","label",this.label,null,null,e).then((function(e){if(0!=e.data.questions.length){var n=t.questions.length>0?t.questions[0].question:e.data.questions[0].question,a=t.questions.length>0?t.questions[0].value:e.data.questions[0].value,i=t.questions.map((function(t){var e=t.insight_id;return e}));t.questions=[].concat(Object(Wt["a"])(t.questions),Object(Wt["a"])(e.data.questions.filter((function(t){var e=t.insight_id,o=t.question,r=t.value;return!i.includes(e)&&a===r&&n===o})))),t.status="done"}else t.status=ua}))}},computed:{loading:function(){return this.status===ca&&0===this.questions.length},noRemainingQuestion:function(){return this.status===ua},nbSelected:function(){return this.questions.filter((function(t){return!0===t.selected})).length}},mounted:function(){this.fetchNewQuestions()}},ga=da,ma=(n("c6b64"),Object(I["a"])(ga,ra,sa,!1,null,"8b162032",null)),ha=ma.exports,pa=(n("0808"),n("080a")),fa=n.n(pa);a["default"].use(fa.a),a["default"].use(i["a"]),a["default"].use(s.a),a["default"].use(o["a"]),a["default"].config.productionTip=!1,a["default"].directive("focus",{componentUpdated:function(t){t.firstElementChild.focus()},inserted:function(t){t.firstElementChild.focus()}});var ba=[{path:"/",redirect:"/questions"},{path:"/insights",component:kn},{path:"/questions",component:Dt},{path:"/eco-score",component:oa},{path:"/secretTools",component:ha},{path:"/nutritions",component:Ht},{path:"/nutritionInteractive",component:Ve},{path:"/nutritionInteractive/:code",component:Ve},{path:"/table",component:Je},{path:"/settings",component:dn},{path:"/logos",component:Un},{path:"/logos/search",component:Tn},{path:"/logos/:id",component:Jn}],va=new i["a"]({mode:"history",routes:ba}),_a=new o["a"]({locale:h(),messages:sn,fallbackLocale:"en"});new a["default"]({router:va,i18n:_a,render:function(t){return t($)}}).$mount("#app")},"5ccc":function(t,e,n){"use strict";n("bafe")},"5fa4":function(t,e,n){"use strict";n("f48c")},6192:function(t,e,n){t.exports=n.p+"img/questionsScreenshot.6522c541.png"},"792b":function(t,e,n){"use strict";n("a995")},"830b":function(t,e,n){t.exports=n.p+"img/logoNameLabel.b6c61dca.png"},"8d2d":function(t,e,n){"use strict";n("1e1a")},"8fa6":function(t,e,n){"use strict";n("3d27")},9142:function(t,e,n){var a={"./logo.png":"cf05","./logoGeneral.png":"9228","./logoNameLabel.png":"830b","./memLogo.png":"9d5d","./questionsScreenshot.png":"6192"};function i(t){var e=o(t);return n(e)}function o(t){if(!n.o(a,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return a[t]}i.keys=function(){return Object.keys(a)},i.resolve=o,t.exports=i,i.id="9142"},"914a":function(t,e,n){},9228:function(t,e,n){t.exports=n.p+"img/logoGeneral.6d043eae.png"},9839:function(t,e,n){"use strict";n("eeba")},"9bd0":function(t,e,n){"use strict";n("49e4")},"9c43":function(t,e,n){"use strict";n("1d5a")},"9d5d":function(t,e,n){t.exports=n.p+"img/memLogo.7d2de489.png"},"9de6":function(t,e,n){"use strict";n("a85b")},a85b:function(t,e,n){},a995:function(t,e,n){},acd6:function(t,e,n){"use strict";n("914a")},b0b0:function(t,e,n){},b329:function(t,e,n){"use strict";n("10ef")},bafe:function(t,e,n){},c6b64:function(t,e,n){"use strict";n("2b1a")},cf05:function(t,e,n){t.exports=n.p+"img/logo.6c31b90b.png"},d31f:function(t){t.exports=JSON.parse('{"nutriment_energy-kj":null,"nutriment_energy-kcal":null,"nutriment_fat":"g","nutriment_saturated-fat":"g","nutriment_carbohydrates":"g","nutriment_sugars":"g","nutriment_proteins":"g","nutriment_fiber":"g","nutriment_salt":"g","nutriment_sodium":null,"nutriment_zinc":"mg","nutriment_vitamin-c":"mg","nutriment_vitamin-d":"Âµg","nutriment_vitamin-k":"Âµg","nutriment_vitamin-b6":"mg","nutriment_vitamin-a":"Âµg","nutriment_selenium":"Âµg","nutriment_bicarbonate":"mg","nutriment_magnesium":"mg","nutriment_pantothenic-acid":"mg","nutriment_fluoride":"mg","nutriment_iodine":"Âµg","nutriment_silica":"mg","nutriment_alcohol":"% vol","nutriment_potassium":"mg","nutriment_manganese":"mg","nutriment_phosphorus":"mg","nutriment_biotin":"Âµg","nutriment_ph":"","nutriment_molybdenum":"Âµg","nutriment_caffeine":"mg","nutriment_chromium":"Âµg","nutriment_iron":"mg","nutriment_copper":"mg","nutriment_cholesterol":"mg"}')},d60f:function(t,e,n){},d90a:function(t){t.exports=JSON.parse('{"questions":{"category":"categorÃ­a","label":"etiqueta","brand":"marca","brands":"Marcas","ingredients":"Ingredientes","product_weight":"peso del producto","popularity_sort":"Ordenar por popularidad","no":"No","skip":"Omitir","yes":"SÃ­","no_questions_remaining":"No quedan preguntas","countries":"PaÃ­ses","view":"Ver","edit":"Editar","value_search":"Valor (fanta, en:organic,...)","hide_images":"Ocultar imÃ¡genes (carga mÃ¡s rÃ¡pida)","display_images":"Mostrar imagen","annotations":"Anotaciones","last_annotations":"Ãšltimas notas","remaining_annotations":"Restante:","annotated_annotations":"Anotado"},"menu":{"games":"Juegos","questions":"Preguntas","logos":"Logotipo","manage":"Administrar","insights":"Percepciones","nutritions":"InformaciÃ³n nutricional","settings":"ConfiguraciÃ³n"},"insights":{"insights":"Percepciones","barcode":"CÃ³digo de barras","barcode_placeholder":"cÃ³digo de barras","value_tag":"Etiqueta valor","value_placeholder":"ej: en:mueslis, bjorg,...","type":"Tipo","annotated":"Anotado","annotation":"Notas","not_annotated":"No anotado","all":"Todo","label":"Etiqueta","product_weight":"Peso del producto","category":"CategorÃ­a","expiration_date":"Fecha de vencimiento","packager_code":"CÃ³digo de envasador","skipped":"Omitido (-1)","rejected":"Rechazado (0)","accepted":"Aceptado (1)","search":"Buscar","count":"Cantidad","id":"Id","value":"Valor","created_at":"Creado en","completed_at":"Completado en","automatic":"AutomÃ¡tico"},"logos":{"annotation":"AnotaciÃ³n: ","annotations":"Anotaciones de logotipo","select_all":"Seleccionar todo","unselect_all":"Deseleccionar todo","distance":"Distancia:","value":"Valor","submit":"Enviar","type":"Tipo","label":"Etiqueta","brand":"Marca","packager_code":"CÃ³digo de envasador","packaging":"Envases","qr_code":"CÃ³digo QR","category":"CategorÃ­a","nutrition_label":"Tabla Nutricional","store":"Tienda","detail":"Detalle del logotipo","id":"ID del logotipo:","barcode":"CÃ³digo de barras:","full_image":"Imagen completa","update":"Actualizar","no_found":"NingÃºn logo encontrado","search":"Buscar","number_of_results":"NÃºmero de resultados:"},"settings":{"settings":"ConfiguraciÃ³n","language":"Idioma","save":"Guardar"},"helper":{"welcome":{"page1":{"title":"Welcome","text1":"Hunger Games is a collection of mini-games that help contribute to Open Food Facts in many ways. Categorize a product to get the Nutri-Score and Eco-Score, help validate labels for the Eco-Score, add brands and weights, help our logo recognition system learn about the logos it detected.","text2":"Those are some of the exciting things you\'ll be able to do. Make sure to be connected to the Open Food Facts website to get credit for your contributions. If you make a mistake, please take the time to correct it by heading to the website.","text3":"In case of doubt about the game, you have an helper at the top right of the page, and you can reach us on slack at the #hunger-games channel"},"page2":{"title":"Preguntas","text1":"Our AI has a lot of questions for you. Here you will have to confirm or deny the information she detected on images.","text2":"Do not hesitate to skip a question if you\'re not sure, there are plenty of others"},"page3":{"title":"Logotipo","text1":"The world of products is full of logos. Explain to our AI which one are the same."}},"logos":{"page1":{"title":"Selection","text1":"Select the crops of a same logo by clicking on them","text2":"Selected logos go to the top of the page, you can unselect them by clicking again on them"},"page2":{"title":"Aviso","text1":"If the crop contains multiple logo do not select it.","text2":"If the crop contains only a partial part of a logo you can select it"},"page3":{"title":"Validate","text1":"Indicate the type of logo (label, brand, QRcode, ...)","text2":"If it is a label or a brand logo, indicate which one it is","text3":"Now you can submit your selection","text4":"Thank you :)"}},"previous":"Prev","next":"Siguiente","close":"Cerrar"},"nutrition":{"instructions":{"cropTheTable":"Crop the image to simplify your annotation","verifyNutrimentDetected":"Indicate if the nutriment detected is correct","selectMissingNutriments":"Add missing nutriments (you can click even if the word has no box)","selectValue":"Select the nutritional value of: "},"steps":{"1":"Crop","2":"Special values","3":"Nutriments Selection","4":"Values Selection"},"next":"Next Step","prev":"Prev Step","skip":"Skip this product","validate":"Validate Table","unselect_picture":"No nutrition info","basis":"data for: ","servingSize":"serving size","value":"valor","nutriments":{"nutriment_energy-kj":"EnergÃ­a (kj)","nutriment_energy-kcal":"Energy (kCal)","nutriment_fat":"Grasas","nutriment_saturated-fat":"Grasa saturada","nutriment_carbohydrates":"Carbohidratos","nutriment_sugars":"AzÃºcares","nutriment_proteins":"ProteÃ­nas","nutriment_fiber":"Fibers","nutriment_salt":"Sal","nutriment_sodium":"Sodio"},"history":{"title":"Session History","status":"status","product name":"product name","view":"view page","edit":"edit page","SKIP":"ignored","VALIDATED":"edited","WRONG_IMAGE":"unselected picture","close":"close","open":"open history"}}}')},e088:function(t){t.exports=JSON.parse('{"questions":{"category":"category","label":"label","brand":"brand","brands":"Brands","ingredients":"Ingredients","product_weight":"peso del producto","popularity_sort":"Sort by popularity","no":"No","skip":"Skip","yes":"Yes","no_questions_remaining":"No quedan preguntas","countries":"Paises","view":"Vista","edit":"Edit","value_search":"Value (fanta, en:organic,...)","hide_images":"Esconder imÃ¡genes","display_images":"Display images","annotations":"Annotations","last_annotations":"Last annotations","remaining_annotations":"Remaining:","annotated_annotations":"Annotated"},"menu":{"games":"Juegos","questions":"Preguntas","logos":"Logos","manage":"Administrar","insights":"Insights","nutritions":"Nutrition facts","settings":"Settings"},"insights":{"insights":"Insights","barcode":"Barcode","barcode_placeholder":"cÃ³digo de barras","value_tag":"Value tag","value_placeholder":"ex: en:mueslis, bjorg,...","type":"Type","annotated":"Annotated","annotation":"Annotation","not_annotated":"Not annotated","all":"All","label":"Label","product_weight":"Product weight","category":"Category","expiration_date":"Expiration date","packager_code":"Packager code","skipped":"Skipped (-1)","rejected":"Rejected (0)","accepted":"Accepted (1)","search":"Search","count":"Count","id":"Id","value":"Value","created_at":"Created at","completed_at":"Completed at","automatic":"Automatic"},"logos":{"annotation":"Annotation: ","annotations":"Logo annotations","select_all":"Select all","unselect_all":"Unselect all","distance":"Distance:","value":"Value","submit":"Submit","type":"Type","label":"Label","brand":"Brand","packager_code":"Packager code","packaging":"Packaging","qr_code":"QR code","category":"Category","nutrition_label":"Nutrition label","store":"Store","detail":"Logo detail","id":"Logo ID:","barcode":"Barcode:","full_image":"Full image","update":"Update","no_found":"No logo found","search":"Search","number_of_results":"NÃºmero de resultados:"},"settings":{"settings":"Settings","language":"Languages","save":"Save"},"helper":{"welcome":{"page1":{"title":"Welcome","text1":"Hunger Games is a collection of mini-games that help contribute to Open Food Facts in many ways. Categorize a product to get the Nutri-Score and Eco-Score, help validate labels for the Eco-Score, add brands and weights, help our logo recognition system learn about the logos it detected.","text2":"Those are some of the exciting things you\'ll be able to do. Make sure to be connected to the Open Food Facts website to get credit for your contributions. If you make a mistake, please take the time to correct it by heading to the website.","text3":"In case of doubt about the game, you have an helper at the top right of the page, and you can reach us on slack at the #hunger-games channel"},"page2":{"title":"Preguntas","text1":"Our AI has a lot of questions for you. Here you will have to confirm or deny the information she detected on images.","text2":"Do not hesitate to skip a question if you\'re not sure, there are plenty of others"},"page3":{"title":"Logos","text1":"The world of products is full of logos. Explain to our AI which one are the same."}},"logos":{"page1":{"title":"Selection","text1":"Select the crops of a same logo by clicking on them","text2":"Selected logos go to the top of the page, you can unselect them by clicking again on them"},"page2":{"title":"Warning","text1":"If the crop contains multiple logo do not select it.","text2":"If the crop contains only a partial part of a logo you can select it"},"page3":{"title":"Validate","text1":"Indicate the type of logo (label, brand, QRcode, ...)","text2":"If it is a label or a brand logo, indicate which one it is","text3":"Now you can submit your selection","text4":"Thank you :)"}},"previous":"Prev","next":"Next","close":"Close"},"nutrition":{"instructions":{"cropTheTable":"Crop the image to simplify your annotation","verifyNutrimentDetected":"Indicate if the nutriment detected is correct","selectMissingNutriments":"Add missing nutriments (you can click even if the word has no box)","selectValue":"Select the nutritional value of: "},"steps":{"1":"Crop","2":"Special values","3":"Nutriments Selection","4":"Values Selection"},"next":"Next Step","prev":"Prev Step","skip":"Skip this product","validate":"Validate Table","unselect_picture":"No nutrition info","basis":"data for: ","servingSize":"serving size","value":"value","nutriments":{"nutriment_energy-kj":"Energy (kJ)","nutriment_energy-kcal":"Energy (kCal)","nutriment_fat":"Fat","nutriment_saturated-fat":"Saturated fat","nutriment_carbohydrates":"Carbohydrates","nutriment_sugars":"Sugar","nutriment_proteins":"Protein content","nutriment_fiber":"Fibers","nutriment_salt":"Salt","nutriment_sodium":"Sodium"},"history":{"title":"Session History","status":"status","product name":"product name","view":"view page","edit":"edit page","SKIP":"ignored","VALIDATED":"edited","WRONG_IMAGE":"unselected picture","close":"close","open":"open history"}}}')},eeba:function(t,e,n){},ef44:function(t,e,n){"use strict";n("2ee5")},f48c:function(t,e,n){},f4dd:function(t,e,n){"use strict";n("3d1a")},ff16:function(t){t.exports=JSON.parse('[{"id":"en:afghanistan","label":"Afghanistan","languageCode":"ps","countryCode":"AF"},{"id":"en:aland-islands","label":"Ã…land Islands","languageCode":"sv","countryCode":"AX"},{"id":"en:albania","label":"Albania","languageCode":"sq","countryCode":"AL"},{"id":"en:alderney","label":"Alderney","languageCode":"en"},{"id":"en:algeria","label":"Algeria","languageCode":"ar","countryCode":"DZ"},{"id":"en:american-samoa","label":"American Samoa","languageCode":"en","countryCode":"AS"},{"id":"en:andorra","label":"Andorra","languageCode":"ca","countryCode":"AD"},{"id":"en:angola","label":"Angola","languageCode":"pt","countryCode":"AO"},{"id":"en:anguilla","label":"Anguilla","languageCode":"en","countryCode":"AI"},{"id":"en:antarctic","label":"Antarctic","languageCode":"","countryCode":"AQ"},{"id":"en:antarctica","label":"Antarctica","languageCode":""},{"id":"en:antigua-and-barbuda","label":"Antigua and Barbuda","languageCode":"en","countryCode":"AG"},{"id":"en:argentina","label":"Argentina","languageCode":"es","countryCode":"AR"},{"id":"en:armenia","label":"Armenia","languageCode":"hy","countryCode":"AM"},{"id":"en:aruba","label":"Aruba","languageCode":"nl","countryCode":"AW"},{"id":"en:ascension-island","label":"Ascension Island","languageCode":""},{"id":"en:australia","label":"Australia","languageCode":"en","countryCode":"AU"},{"id":"en:austria","label":"Austria","languageCode":"de","countryCode":"AT"},{"id":"en:azerbaijan","label":"Azerbaijan","languageCode":"az","countryCode":"AZ"},{"id":"en:bahrain","label":"Bahrain","languageCode":"ar","countryCode":"BH"},{"id":"en:bangladesh","label":"Bangladesh","languageCode":"bn","countryCode":"BD"},{"id":"en:barbados","label":"Barbados","languageCode":"en","countryCode":"BB"},{"id":"en:belarus","label":"Belarus","languageCode":"ru","countryCode":"BY"},{"id":"en:belgium","label":"Belgium","languageCode":"nl","countryCode":"BE"},{"id":"en:belize","label":"Belize","languageCode":"en","countryCode":"BZ"},{"id":"en:benin","label":"Benin","languageCode":"fr","countryCode":"BJ"},{"id":"en:bermuda","label":"Bermuda","languageCode":"en","countryCode":"BM"},{"id":"en:bhutan","label":"Bhutan","languageCode":"dz","countryCode":"BT"},{"id":"en:bolivia","label":"Bolivia","languageCode":"es","countryCode":"BO"},{"id":"en:bonaire","label":"Bonaire","languageCode":"nl"},{"id":"en:bosnia-and-herzegovina","label":"Bosnia and Herzegovina","languageCode":"hr","countryCode":"BA"},{"id":"en:botswana","label":"Botswana","languageCode":"en","countryCode":"BW"},{"id":"en:bouvet-island","label":"Bouvet Island","languageCode":"","countryCode":"BV"},{"id":"en:brazil","label":"Brazil","languageCode":"pt","countryCode":"BR"},{"id":"en:british-indian-ocean-territory","label":"British Indian Ocean Territory","languageCode":"","countryCode":"IO"},{"id":"en:british-virgin-islands","label":"British Virgin Islands","languageCode":"en","countryCode":"VG"},{"id":"en:brunei","label":"Brunei","languageCode":"ms","countryCode":"BN"},{"id":"en:bulgaria","label":"Bulgaria","languageCode":"bg","countryCode":"BG"},{"id":"en:burkina-faso","label":"Burkina Faso","languageCode":"fr","countryCode":"BF"},{"id":"en:burundi","label":"Burundi","languageCode":"fr","countryCode":"BI"},{"id":"en:cambodia","label":"Cambodia","languageCode":"km","countryCode":"KH"},{"id":"en:cameroon","label":"Cameroon","languageCode":"fr","countryCode":"CM"},{"id":"en:canada","label":"Canada","languageCode":"en","countryCode":"CA"},{"id":"en:cape-verde","label":"Cape Verde","languageCode":"pt","countryCode":"CV"},{"id":"en:caribbean-netherlands","label":"Caribbean Netherlands","languageCode":"","countryCode":"BQ"},{"id":"en:cayman-islands","label":"Cayman Islands","languageCode":"","countryCode":"KY"},{"id":"en:central-african-republic","label":"Central African Republic","languageCode":"fr","countryCode":"CF"},{"id":"en:chad","label":"Chad","languageCode":"ar","countryCode":"TD"},{"id":"en:chile","label":"Chile","languageCode":"es","countryCode":"CL"},{"id":"en:china","label":"China","languageCode":"zh","countryCode":"CN"},{"id":"en:christmas-island","label":"Christmas Island","languageCode":"","countryCode":"CX"},{"id":"en:cocos-keeling-islands","label":"Cocos (Keeling) Islands","languageCode":"","countryCode":"CC"},{"id":"en:colombia","label":"Colombia","languageCode":"es","countryCode":"CO"},{"id":"en:comoros","label":"Comoros","languageCode":"ar","countryCode":"KM"},{"id":"en:cook-islands","label":"Cook Islands","languageCode":"","countryCode":"CK"},{"id":"en:costa-rica","label":"Costa Rica","languageCode":"es","countryCode":"CR"},{"id":"en:cote-d-ivoire","label":"CÃ´te d\'Ivoire","languageCode":"fr","countryCode":"CI"},{"id":"en:croatia","label":"Croatia","languageCode":"hr","countryCode":"HR"},{"id":"en:cuba","label":"Cuba","languageCode":"es","countryCode":"CU"},{"id":"en:curacao","label":"CuraÃ§ao","languageCode":"en","countryCode":"CW"},{"id":"en:cyprus","label":"Cyprus","languageCode":"el","countryCode":"CY"},{"id":"en:czech-republic","label":"Czech Republic","languageCode":"cs","countryCode":"CZ"},{"id":"en:democratic-republic-of-the-congo","label":"Democratic Republic of the Congo","languageCode":"fr","countryCode":"CD"},{"id":"en:denmark","label":"Denmark","languageCode":"da","countryCode":"DK"},{"id":"en:djibouti","label":"Djibouti","languageCode":"ar","countryCode":"DJ"},{"id":"en:dominica","label":"Dominica","languageCode":"en","countryCode":"DM"},{"id":"en:dominican-republic","label":"Dominican Republic","languageCode":"es","countryCode":"DO"},{"id":"en:east-germany","label":"East Germany","languageCode":""},{"id":"en:ecuador","label":"Ecuador","languageCode":"es","countryCode":"EC"},{"id":"en:egypt","label":"Egypt","languageCode":"ar","countryCode":"EG"},{"id":"en:el-salvador","label":"El Salvador","languageCode":"es","countryCode":"SV"},{"id":"en:equatorial-guinea","label":"Equatorial Guinea","languageCode":"es","countryCode":"GQ"},{"id":"en:eritrea","label":"Eritrea","languageCode":"ar","countryCode":"ER"},{"id":"en:estonia","label":"Estonia","languageCode":"et","countryCode":"EE"},{"id":"en:ethiopia","label":"Ethiopia","languageCode":"am","countryCode":"ET"},{"id":"en:european-union","label":"European Union","languageCode":"en"},{"id":"en:falkland-islands","label":"Falkland Islands","languageCode":"en","countryCode":"FK"},{"id":"en:faroe-islands","label":"Faroe Islands","languageCode":"","countryCode":"FO"},{"id":"en:federated-states-of-micronesia","label":"Federated States of Micronesia","languageCode":"","countryCode":"FM"},{"id":"en:fiji","label":"Fiji","languageCode":"en","countryCode":"FJ"},{"id":"en:finland","label":"Finland","languageCode":"fi","countryCode":"FI"},{"id":"en:france","label":"France","languageCode":"fr","countryCode":"FR"},{"id":"en:french-guiana","label":"French Guiana","languageCode":"fr","countryCode":"GF"},{"id":"en:french-polynesia","label":"French Polynesia","languageCode":"fr","countryCode":"PF"},{"id":"en:french-southern-and-antarctic-lands","label":"French Southern and Antarctic Lands","languageCode":"fr","countryCode":"TF"},{"id":"en:gabon","label":"Gabon","languageCode":"fr","countryCode":"GA"},{"id":"en:galmudug","label":"Galmudug","languageCode":""},{"id":"en:gambia","label":"Gambia","languageCode":"en","countryCode":"GM"},{"id":"en:georgia","label":"Georgia","languageCode":"ka","countryCode":"GE"},{"id":"en:germany","label":"Germany","languageCode":"de","countryCode":"DE"},{"id":"en:ghana","label":"Ghana","languageCode":"en","countryCode":"GH"},{"id":"en:gibraltar","label":"Gibraltar","languageCode":"en","countryCode":"GI"},{"id":"en:greece","label":"Greece","languageCode":"el","countryCode":"GR"},{"id":"en:greenland","label":"Greenland","languageCode":"kl","countryCode":"GL"},{"id":"en:grenada","label":"Grenada","languageCode":"en","countryCode":"GD"},{"id":"en:guadeloupe","label":"Guadeloupe","languageCode":"fr","countryCode":"GP"},{"id":"en:guam","label":"Guam","languageCode":"en","countryCode":"GU"},{"id":"en:guatemala","label":"Guatemala","languageCode":"es","countryCode":"GT"},{"id":"en:guernsey","label":"Guernsey","languageCode":"","countryCode":"GG"},{"id":"en:guinea","label":"Guinea","languageCode":"fr","countryCode":"GN"},{"id":"en:guinea-bissau","label":"Guinea-Bissau","languageCode":"pt","countryCode":"GW"},{"id":"en:guyana","label":"Guyana","languageCode":"en","countryCode":"GY"},{"id":"en:haiti","label":"Haiti","languageCode":"fr","countryCode":"HT"},{"id":"en:heard-island-and-mcdonald-islands","label":"Heard Island and McDonald Islands","languageCode":"","countryCode":"HM"},{"id":"en:honduras","label":"Honduras","languageCode":"es","countryCode":"HN"},{"id":"en:hong-kong","label":"Hong Kong","languageCode":"zh","countryCode":"HK"},{"id":"en:hungary","label":"Hungary","languageCode":"hu","countryCode":"HU"},{"id":"en:iceland","label":"Iceland","languageCode":"is","countryCode":"IS"},{"id":"en:india","label":"India","languageCode":"hi","countryCode":"IN"},{"id":"en:indonesia","label":"Indonesia","languageCode":"id","countryCode":"ID"},{"id":"en:iran","label":"Iran","languageCode":"fa","countryCode":"IR"},{"id":"en:iraq","label":"Iraq","languageCode":"ar","countryCode":"IQ"},{"id":"en:iraqi-kurdistan","label":"Iraqi Kurdistan","languageCode":""},{"id":"en:ireland","label":"Ireland","languageCode":"en","countryCode":"IE"},{"id":"en:isle-of-man","label":"Isle of Man","languageCode":"gv","countryCode":"IM"},{"id":"en:israel","label":"Israel","languageCode":"he","countryCode":"IL"},{"id":"en:italy","label":"Italy","languageCode":"it","countryCode":"IT"},{"id":"en:jamaica","label":"Jamaica","languageCode":"en","countryCode":"JM"},{"id":"en:jan-mayen","label":"Jan Mayen","languageCode":""},{"id":"en:japan","label":"Japan","languageCode":"ja","countryCode":"JP"},{"id":"en:jersey","label":"Jersey","languageCode":"en","countryCode":"JE"},{"id":"en:jordan","label":"Jordan","languageCode":"ar","countryCode":"JO"},{"id":"en:kazakhstan","label":"Kazakhstan","languageCode":"ru","countryCode":"KZ"},{"id":"en:kenya","label":"Kenya","languageCode":"en","countryCode":"KE"},{"id":"en:kiribati","label":"Kiribati","languageCode":"en","countryCode":"KI"},{"id":"en:kosovo","label":"Kosovo","languageCode":"sq","countryCode":"XK"},{"id":"en:kuwait","label":"Kuwait","languageCode":"ar","countryCode":"KW"},{"id":"en:kyrgyzstan","label":"Kyrgyzstan","languageCode":"ru","countryCode":"KG"},{"id":"en:laos","label":"Laos","languageCode":"lo","countryCode":"LA"},{"id":"en:latvia","label":"Latvia","languageCode":"lv","countryCode":"LV"},{"id":"en:lebanon","label":"Lebanon","languageCode":"ar","countryCode":"LB"},{"id":"en:lesotho","label":"Lesotho","languageCode":"en","countryCode":"LS"},{"id":"en:liberia","label":"Liberia","languageCode":"en","countryCode":"LR"},{"id":"en:libya","label":"Libya","languageCode":"ar","countryCode":"LY"},{"id":"en:liechtenstein","label":"Liechtenstein","languageCode":"de","countryCode":"LI"},{"id":"en:lithuania","label":"Lithuania","languageCode":"lt","countryCode":"LT"},{"id":"en:luxembourg","label":"Luxembourg","languageCode":"fr","countryCode":"LU"},{"id":"en:macau","label":"Macau","languageCode":"pt","countryCode":"MO"},{"id":"en:madagascar","label":"Madagascar","languageCode":"fr","countryCode":"MG"},{"id":"en:malawi","label":"Malawi","languageCode":"en","countryCode":"MW"},{"id":"en:malaysia","label":"Malaysia","languageCode":"ms","countryCode":"MY"},{"id":"en:maldives","label":"Maldives","languageCode":"dv","countryCode":"MV"},{"id":"en:mali","label":"Mali","languageCode":"fr","countryCode":"ML"},{"id":"en:malta","label":"Malta","languageCode":"en","countryCode":"MT"},{"id":"en:marshall-islands","label":"Marshall Islands","languageCode":"en","countryCode":"MH"},{"id":"en:martinique","label":"Martinique","languageCode":"fr","countryCode":"MQ"},{"id":"en:mauritania","label":"Mauritania","languageCode":"ar","countryCode":"MR"},{"id":"en:mauritius","label":"Mauritius","languageCode":"fr","countryCode":"MU"},{"id":"en:mayotte","label":"Mayotte","languageCode":"fr","countryCode":"YT"},{"id":"en:mexico","label":"Mexico","languageCode":"es","countryCode":"MX"},{"id":"en:moldova","label":"Moldova","languageCode":"ro","countryCode":"MD"},{"id":"en:monaco","label":"Monaco","languageCode":"fr","countryCode":"MC"},{"id":"en:mongolia","label":"Mongolia","languageCode":"mn","countryCode":"MN"},{"id":"en:montenegro","label":"Montenegro","languageCode":"sr","countryCode":"ME"},{"id":"en:montserrat","label":"Montserrat","languageCode":"en","countryCode":"MS"},{"id":"en:morocco","label":"Morocco","languageCode":"ar","countryCode":"MA"},{"id":"en:mozambique","label":"Mozambique","languageCode":"pt","countryCode":"MZ"},{"id":"en:myanmar","label":"Myanmar","languageCode":"my","countryCode":"MM"},{"id":"en:nakhchivan-autonomous-republic","label":"Nakhchivan Autonomous Republic","languageCode":""},{"id":"en:namibia","label":"Namibia","languageCode":"en","countryCode":"NA"},{"id":"en:nauru","label":"Nauru","languageCode":"na","countryCode":"NR"},{"id":"en:nepal","label":"Nepal","languageCode":"ne","countryCode":"NP"},{"id":"en:netherlands","label":"Netherlands","languageCode":"nl","countryCode":"NL"},{"id":"en:new-caledonia","label":"New Caledonia","languageCode":"fr","countryCode":"NC"},{"id":"en:new-zealand","label":"New Zealand","languageCode":"en","countryCode":"NZ"},{"id":"en:nicaragua","label":"Nicaragua","languageCode":"es","countryCode":"NI"},{"id":"en:niger","label":"Niger","languageCode":"fr","countryCode":"NE"},{"id":"en:nigeria","label":"Nigeria","languageCode":"en","countryCode":"NG"},{"id":"en:niue","label":"Niue","languageCode":"","countryCode":"NU"},{"id":"en:norfolk-island","label":"Norfolk Island","languageCode":"en","countryCode":"NF"},{"id":"en:north-korea","label":"North Korea","languageCode":"ko","countryCode":"KP"},{"id":"en:northern-mariana-islands","label":"Northern Mariana Islands","languageCode":"en","countryCode":"MP"},{"id":"en:northland-state","label":"Northland State","languageCode":""},{"id":"en:norway","label":"Norway","languageCode":"nb","countryCode":"NO"},{"id":"en:oman","label":"Oman","languageCode":"ar","countryCode":"OM"},{"id":"en:pakistan","label":"Pakistan","languageCode":"ur","countryCode":"PK"},{"id":"en:palau","label":"Palau","languageCode":"en","countryCode":"PW"},{"id":"en:palestinian-territories","label":"Palestinian territories","languageCode":"ar"},{"id":"en:panama","label":"Panama","languageCode":"","countryCode":"PA"},{"id":"en:papua-new-guinea","label":"Papua New Guinea","languageCode":"en","countryCode":"PG"},{"id":"en:paraguay","label":"Paraguay","languageCode":"es","countryCode":"PY"},{"id":"en:peru","label":"Peru","languageCode":"es","countryCode":"PE"},{"id":"en:philippines","label":"Philippines","languageCode":"en","countryCode":"PH"},{"id":"en:pitcairn","label":"Pitcairn","languageCode":"","countryCode":"PN"},{"id":"en:poland","label":"Poland","languageCode":"pl","countryCode":"PL"},{"id":"en:portugal","label":"Portugal","languageCode":"pt","countryCode":"PT"},{"id":"en:puerto-rico","label":"Puerto Rico","languageCode":"es","countryCode":"PR"},{"id":"en:qatar","label":"Qatar","languageCode":"ar","countryCode":"QA"},{"id":"en:republic-of-macedonia","label":"Republic of Macedonia","languageCode":"mk","countryCode":"MK"},{"id":"en:republic-of-the-congo","label":"Republic of the Congo","languageCode":"fr","countryCode":"CG"},{"id":"en:republika-srpska","label":"Republika Srpska","languageCode":""},{"id":"en:reunion","label":"RÃ©union","languageCode":"fr","countryCode":"RE"},{"id":"en:romania","label":"Romania","languageCode":"ro","countryCode":"RO"},{"id":"en:russia","label":"Russia","languageCode":"ru","countryCode":"RU"},{"id":"en:rwanda","label":"Rwanda","languageCode":"en","countryCode":"RW"},{"id":"en:saba","label":"Saba","languageCode":"en"},{"id":"en:saint-helena","label":"Saint Helena","languageCode":"","countryCode":"SH"},{"id":"en:saint-kitts-and-nevis","label":"Saint Kitts and Nevis","languageCode":"en","countryCode":"KN"},{"id":"en:saint-lucia","label":"Saint Lucia","languageCode":"en","countryCode":"LC"},{"id":"en:saint-martin","label":"Saint Martin","languageCode":"fr","countryCode":"MF"},{"id":"en:saint-pierre-and-miquelon","label":"Saint Pierre and Miquelon","languageCode":"fr","countryCode":"PM"},{"id":"en:saint-vincent-and-the-grenadines","label":"Saint Vincent and the Grenadines","languageCode":"en","countryCode":"VC"},{"id":"en:saint-barthelemy","label":"Saint-BarthÃ©lemy","languageCode":"fr","countryCode":"BL"},{"id":"en:samoa","label":"Samoa","languageCode":"en","countryCode":"WS"},{"id":"en:san-marino","label":"San Marino","languageCode":"it","countryCode":"SM"},{"id":"en:sao-tome-and-principe","label":"Sao TomÃ© and PrÃ­ncipe","languageCode":"pt","countryCode":"ST"},{"id":"en:saudi-arabia","label":"Saudi Arabia","languageCode":"ar","countryCode":"SA"},{"id":"en:senegal","label":"Senegal","languageCode":"fr","countryCode":"SN"},{"id":"en:serbia","label":"Serbia","languageCode":"sr","countryCode":"RS"},{"id":"en:seychelles","label":"Seychelles","languageCode":"fr","countryCode":"SC"},{"id":"en:sierra-leone","label":"Sierra Leone","languageCode":"en","countryCode":"SL"},{"id":"en:singapore","label":"Singapore","languageCode":"en","countryCode":"SG"},{"id":"en:sint-eustatius","label":"Sint Eustatius","languageCode":"en"},{"id":"en:sint-maarten","label":"Sint Maarten","languageCode":"en","countryCode":"SX"},{"id":"en:slovakia","label":"Slovakia","languageCode":"sk","countryCode":"SK"},{"id":"en:slovenia","label":"Slovenia","languageCode":"sl","countryCode":"SI"},{"id":"en:solomon-islands","label":"Solomon Islands","languageCode":"en","countryCode":"SB"},{"id":"en:somalia","label":"Somalia","languageCode":"so","countryCode":"SO"},{"id":"en:south-africa","label":"South Africa","languageCode":"en","countryCode":"ZA"},{"id":"en:south-georgia-and-the-south-sandwich-islands","label":"South Georgia and the South Sandwich Islands","languageCode":"en","countryCode":"GS"},{"id":"en:south-korea","label":"South Korea","languageCode":"ko","countryCode":"KR"},{"id":"en:south-sudan","label":"South Sudan","languageCode":"en","countryCode":"SS"},{"id":"en:soviet-union","label":"Soviet Union","languageCode":"ru"},{"id":"en:spain","label":"Spain","languageCode":"es","countryCode":"ES"},{"id":"en:sri-lanka","label":"Sri Lanka","languageCode":"si","countryCode":"LK"},{"id":"en:state-of-palestine","label":"State of Palestine","languageCode":"ar","countryCode":"PS"},{"id":"en:sudan","label":"Sudan","languageCode":"ar","countryCode":"SD"},{"id":"en:suriname","label":"Suriname","languageCode":"nl","countryCode":"SR"},{"id":"en:svalbard-and-jan-mayen","label":"Svalbard and Jan Mayen","languageCode":"","countryCode":"SJ"},{"id":"en:swaziland","label":"Swaziland","languageCode":"en","countryCode":"SZ"},{"id":"en:sweden","label":"Sweden","languageCode":"sv","countryCode":"SE"},{"id":"en:switzerland","label":"Switzerland","languageCode":"de","countryCode":"CH"},{"id":"en:syria","label":"Syria","languageCode":"ar","countryCode":"SY"},{"id":"en:taiwan","label":"Taiwan","languageCode":"zh","countryCode":"TW"},{"id":"en:tajikistan","label":"Tajikistan","languageCode":"ru","countryCode":"TJ"},{"id":"en:tanzania","label":"Tanzania","languageCode":"en","countryCode":"TZ"},{"id":"en:thailand","label":"Thailand","languageCode":"th","countryCode":"TH"},{"id":"en:the-bahamas","label":"The Bahamas","languageCode":"en","countryCode":"BS"},{"id":"en:timor-leste","label":"Timor-Leste","languageCode":"pt","countryCode":"TL"},{"id":"en:togo","label":"Togo","languageCode":"fr","countryCode":"TG"},{"id":"en:tokelau","label":"Tokelau","languageCode":"","countryCode":"TK"},{"id":"en:tonga","label":"Tonga","languageCode":"en","countryCode":"TO"},{"id":"en:trinidad-and-tobago","label":"Trinidad and Tobago","languageCode":"en","countryCode":"TT"},{"id":"en:tunisia","label":"Tunisia","languageCode":"ar","countryCode":"TN"},{"id":"en:turkey","label":"Turkey","languageCode":"tr","countryCode":"TR"},{"id":"en:turkmenistan","label":"Turkmenistan","languageCode":"tk","countryCode":"TM"},{"id":"en:turks-and-caicos-islands","label":"Turks and Caicos Islands","languageCode":"","countryCode":"TC"},{"id":"en:tuvalu","label":"Tuvalu","languageCode":"en","countryCode":"TV"},{"id":"en:uganda","label":"Uganda","languageCode":"en","countryCode":"UG"},{"id":"en:ukraine","label":"Ukraine","languageCode":"uk","countryCode":"UA"},{"id":"en:united-arab-emirates","label":"United Arab Emirates","languageCode":"ar","countryCode":"AE"},{"id":"en:united-kingdom","label":"United Kingdom","languageCode":"en","countryCode":"UK"},{"id":"en:united-states","label":"United States","languageCode":"en","countryCode":"US"},{"id":"en:united-states-minor-outlying-islands","label":"United States Minor Outlying Islands","languageCode":"","countryCode":"UM"},{"id":"en:uruguay","label":"Uruguay","languageCode":"es","countryCode":"UY"},{"id":"en:uzbekistan","label":"Uzbekistan","languageCode":"uz","countryCode":"UZ"},{"id":"en:vanuatu","label":"Vanuatu","languageCode":"fr","countryCode":"VU"},{"id":"en:vatican-city","label":"Vatican City","languageCode":"it","countryCode":"VA"},{"id":"en:venezuela","label":"Venezuela","languageCode":"es","countryCode":"VE"},{"id":"en:vietnam","label":"Vietnam","languageCode":"vi","countryCode":"VN"},{"id":"en:virgin-islands-of-the-united-states","label":"Virgin Islands of the United States","languageCode":"en","countryCode":"VI"},{"id":"en:wallis-and-futuna","label":"Wallis and Futuna","languageCode":"","countryCode":"WF"},{"id":"en:western-sahara","label":"Western Sahara","languageCode":"","countryCode":"EH"},{"id":"en:world","label":"World","languageCode":"en","countryCode":"world"},{"id":"en:yemen","label":"Yemen","languageCode":"ar","countryCode":"YE"},{"id":"en:yugoslavia","label":"Yugoslavia","languageCode":"","countryCode":"YU"},{"id":"en:zambia","label":"Zambia","languageCode":"en","countryCode":"ZM"},{"id":"en:zimbabwe","label":"Zimbabwe","languageCode":"en","countryCode":"ZW"}]')}});
//# sourceMappingURL=app.daa04450.js.map